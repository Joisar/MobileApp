//>>built
require({cache:{"url:dojox/calendar/templates/LabelRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarLabel" onselectstart="return false;">\t\n\t<div class="labels">\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\t\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n</div>\n',"dojox/calendar/MatrixView":function(){require({cache:{"url:dojox/calendar/templates/MatrixView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t</div>\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\t\n\t<div dojoAttachPoint="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div dojoAttachPoint="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\t\n</div>\n'}});
define("dojox/calendar/MatrixView","dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/_base/fx dojo/_base/html dojo/on dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/query dojox/html/metrics dojo/i18n ./ViewBase dojo/text!./templates/MatrixView.html dijit/_TemplatedMixin".split(" "),function(v,n,s,o,q,j,m,e,h,c,l,t,y,r,w,A,x,C,u){return v("dojox.calendar.MatrixView",[x,u],{templateString:C,baseClass:"dojoxCalendarMatrixView",
_setTabIndexAttr:"domNode",viewKind:"matrix",renderData:null,startDate:null,refStartTime:null,refEndTime:null,columnCount:7,rowCount:5,horizontalRenderer:null,labelRenderer:null,expandRenderer:null,percentOverlap:0,verticalGap:2,horizontalRendererHeight:17,labelRendererHeight:14,expandRendererHeight:15,cellPaddingTop:16,expandDuration:300,expandEasing:null,layoutDuringResize:false,roundToDay:true,showCellLabel:true,scrollable:false,resizeCursor:"e-resize",constructor:function(){this.invalidatingProperties=
["columnCount","rowCount","startDate","horizontalRenderer","labelRenderer","expandRenderer","rowHeaderDatePattern","columnHeaderLabelLength","cellHeaderShortPattern","cellHeaderLongPattern","percentOverlap","verticalGap","horizontalRendererHeight","labelRendererHeight","expandRendererHeight","cellPaddingTop","roundToDay","itemToRendererKindFunc","layoutPriorityFunction","formatItemTimeFunc","textDir","items"];this._ddRendererList=[];this._ddRendererPool=[];this._rowHeaderHandles=[];this._viewHandles.push(e(window,
"resize",o.hitch(this,this._resizeHandler)))},destroy:function(a){this._cleanupRowHeader();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initialized=true;this.invalidRendering||this.refreshRendering()},_createRenderData:function(){var a={};a.dateLocaleModule=this.dateLocaleModule;a.dateClassObj=this.dateClassObj;a.dateModule=this.dateModule;a.dates=[];a.columnCount=this.get("columnCount");a.rowCount=this.get("rowCount");a.sheetHeight=this.itemContainer.offsetHeight;
this._computeRowsHeight(a);var b=this.get("startDate");b==null&&(b=new a.dateClassObj);this.startDate=b=this.floorToDay(b,false,a);for(var d=0;d<a.rowCount;d++){a.dates.push([]);for(var g=0;g<a.columnCount;g++){a.dates[d].push(b);b=a.dateModule.add(b,"day",1);b=this.floorToDay(b,false,a)}}a.startTime=this.newDate(a.dates[0][0],a);a.endTime=this.newDate(a.dates[a.rowCount-1][a.columnCount-1],a);a.endTime=a.dateModule.add(a.endTime,"day",1);a.endTime=this.floorToDay(a.endTime,true);if(this.displayedItemsInvalidated){this.displayedItemsInvalidated=
false;this._computeVisibleItems(a);this._isEditing&&this._endItemEditing(null,false)}else if(this.renderData)a.items=this.renderData.items;a.rtl=!this.isLeftToRight();return a},_validateProperties:function(){this.inherited(arguments);if(this.columnCount<1||isNaN(this.columnCount))this.columnCount=1;if(this.rowCount<1||isNaN(this.rowCount))this.rowCount=1;if(isNaN(this.percentOverlap)||this.percentOverlap<0||this.percentOverlap>100)this.percentOverlap=0;if(isNaN(this.verticalGap)||this.verticalGap<
0)this.verticalGap=2;if(isNaN(this.horizontalRendererHeight)||this.horizontalRendererHeight<1)this.horizontalRendererHeight=17;if(isNaN(this.labelRendererHeight)||this.labelRendererHeight<1)this.labelRendererHeight=14;if(isNaN(this.expandRendererHeight)||this.expandRendererHeight<1)this.expandRendererHeight=15},_setStartDateAttr:function(a){this.displayedItemsInvalidated=true;this._set("startDate",a)},_setColumnCountAttr:function(a){this.displayedItemsInvalidated=true;this._set("columnCount",a)},
_setRowCountAttr:function(a){this.displayedItemsInvalidated=true;this._set("rowCount",a)},__fixEvt:function(a){a.sheet="primary";a.source=this;return a},_formatRowHeaderLabel:function(a){return this.rowHeaderDatePattern?this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:this.rowHeaderDatePattern}):this.getWeekNumberLabel(a)},_formatColumnHeaderLabel:function(a){return this.renderData.dateLocaleModule.getNames("days",this.columnHeaderLabelLength?this.columnHeaderLabelLength:"wide",
"standAlone")[a.getDay()]},_formatGridCellLabel:function(a,b,d){if(b==0&&d==0||a.getDate()==1)if(this.cellHeaderLongPattern)b=this.cellHeaderLongPattern;else{b=A.getLocalization("dojo.cldr",this._calendar);b=b["dateFormatItem-MMMd"]}else if(this.cellHeaderShortPattern)b=this.cellHeaderShortPattern;else{b=A.getLocalization("dojo.cldr",this._calendar);b=b["dateFormatItem-d"]}return this.renderData.dateLocaleModule.format(a,{selector:"date",datePattern:b})},refreshRendering:function(){this.inherited(arguments);
if(this.domNode){this._validateProperties();var a=this.renderData;this.renderData=this._createRenderData();this._createRendering(this.renderData,a);this._layoutRenderers(this.renderData)}},_createRendering:function(a,b){if(a.rowHeight<=0){a.columnCount=0;a.rowCount=0}else{this._buildColumnHeader(a,b);this._buildRowHeader(a,b);this._buildGrid(a,b);this._buildItemContainer(a,b);this.buttonContainer&&(this.owner!=null&&this.owner.currentView==this)&&l.set(this.buttonContainer,{right:0,left:0})}},_buildColumnHeader:function(a,
b){var d=this.columnHeaderTable;if(d){var g=a.columnCount-(b?b.columnCount:0);if(q("ie")==8)if(this._colTableSave==null)this._colTableSave=o.clone(d);else if(g<0){this.columnHeader.removeChild(d);y.destroy(d);this.columnHeaderTable=d=o.clone(this._colTableSave);this.columnHeader.appendChild(d);g=a.columnCount}var f=r("tbody",d),k=r("tr",d),f=f.length==1?f[0]:m.create("tbody",null,d),k=k.length==1?k[0]:y.create("tr",null,f);if(g>0)for(f=0;f<g;f++)y.create("td",null,k);else{g=-g;for(f=0;f<g;f++)k.removeChild(k.lastChild)}r("td",
d).forEach(function(b,d){b.className="";var f=a.dates[0][d];this._setText(b,this._formatColumnHeaderLabel(f));d==0?c.add(b,"first-child"):d==this.renderData.columnCount-1&&c.add(b,"last-child");this.styleColumnHeaderCell(b,f,a)},this);this.yearColumnHeaderContent&&this._setText(this.yearColumnHeaderContent,a.dateLocaleModule.format(a.dates[0][0],{selector:"date",datePattern:"yyyy"}))}},styleColumnHeaderCell:function(a,b){if(this.isWeekEnd(b))return c.add(a,"dojoxCalendarWeekend")},_rowHeaderHandles:null,
_cleanupRowHeader:function(){for(;this._rowHeaderHandles.length>0;)for(var a=this._rowHeaderHandles.pop();a.length>0;)a.pop().remove()},_rowHeaderClick:function(a){var b=r("td",this.rowHeaderTable).indexOf(a.currentTarget);this._onRowHeaderClick({index:b,date:this.renderData.dates[b][0],triggerEvent:a})},_buildRowHeader:function(a,b){var d=this.rowHeaderTable;if(d){var g=r("tbody",d),f,g=g.length==1?g[0]:y.create("tbody",null,d),k=a.rowCount-(b?b.rowCount:0);if(k>0)for(var z=0;z<k;z++){f=y.create("tr",
null,g);f=y.create("td",null,f);var B=[];B.push(e(f,"click",o.hitch(this,this._rowHeaderClick)));if(!q("touch")){B.push(e(f,"mousedown",function(b){c.add(b.currentTarget,"Active")}));B.push(e(f,"mouseup",function(b){c.remove(b.currentTarget,"Active")}));B.push(e(f,"mouseover",function(b){c.add(b.currentTarget,"Hover")}));B.push(e(f,"mouseout",function(b){c.remove(b.currentTarget,"Hover")}))}this._rowHeaderHandles.push(B)}else{k=-k;for(z=0;z<k;z++){g.removeChild(g.lastChild);for(f=this._rowHeaderHandles.pop();f.length>
0;)f.pop().remove()}}r("tr",d).forEach(function(b,d){l.set(b,"height",this._getRowHeight(d)+"px");var f=a.dates[d][0],g=r("td",b)[0];g.className="";d==0&&c.add(g,"first-child");d==this.renderData.rowCount-1&&c.add(g,"last-child");this.styleRowHeaderCell(g,f,a);this._setText(g,this._formatRowHeaderLabel(f))},this)}},styleRowHeaderCell:function(){},_buildGrid:function(a,b){var d=this.gridTable;if(d){var g=a.rowCount-(b?b.rowCount:0),f=g>0,k=a.columnCount-(b?b.columnCount:0);if(q("ie")==8)if(this._gridTableSave==
null)this._gridTableSave=o.clone(d);else if(k<0){this.grid.removeChild(d);y.destroy(d);this.gridTable=d=o.clone(this._gridTableSave);this.grid.appendChild(d);k=a.columnCount;g=a.rowCount;f=true}var z=r("tbody",d),z=z.length==1?z[0]:y.create("tbody",null,d);if(f)for(var B=0;B<g;B++)y.create("tr",null,z);else{g=-g;for(B=0;B<g;B++)z.removeChild(z.lastChild)}var D=a.rowCount-g,h=f||k>0,k=h?k:-k;r("tr",d).forEach(function(b,d){if(h)for(var f=d>=D?a.columnCount:k,d=0;d<f;d++){var g=y.create("td",null,b);
y.create("span",null,g)}else for(d=0;d<k;d++)b.removeChild(b.lastChild)});r("tr",d).forEach(function(b,d){l.set(b,"height",this._getRowHeight(d)+"px");b.className="";d==0&&c.add(b,"first-child");d==a.rowCount-1&&c.add(b,"last-child");r("td",b).forEach(function(b,f){b.className="";f==0&&c.add(b,"first-child");f==a.columnCount-1&&c.add(b,"last-child");var g=a.dates[d][f];this._setText(r("span",b)[0],this.showCellLabel?this._formatGridCellLabel(g,d,f):null);this.styleGridCell(b,g,a)},this)},this)}},
styleGridCell:function(a,b,d){d=d.dateModule;this.isToday(b)?c.add(a,"dojoxCalendarToday"):this.refStartTime!=null&&this.refEndTime!=null&&(d.compare(b,this.refEndTime)>=0||d.compare(d.add(b,"day",1),this.refStartTime)<=0)?c.add(a,"dojoxCalendarDayDisabled"):this.isWeekEnd(b)&&c.add(a,"dojoxCalendarWeekend")},_buildItemContainer:function(a,b){var d=this.itemContainerTable;if(d){var g=[],f=a.rowCount-(b?b.rowCount:0);if(q("ie")==8)if(this._itemTableSave==null)this._itemTableSave=o.clone(d);else if(f<
0){this.itemContainer.removeChild(d);this._recycleItemRenderers(true);this._recycleExpandRenderers(true);y.destroy(d);this.itemContainerTable=d=o.clone(this._itemTableSave);this.itemContainer.appendChild(d);f=a.columnCount}var k=r("tbody",d),z,k=k.length==1?k[0]:y.create("tbody",null,d);if(f>0)for(var B=0;B<f;B++){z=y.create("tr",null,k);c.add(z,"dojoxCalendarItemContainerRow");z=y.create("td",null,z);z=y.create("div",null,z);c.add(z,"dojoxCalendarContainerRow")}else{f=-f;for(B=0;B<f;B++)k.removeChild(k.lastChild)}r(".dojoxCalendarItemContainerRow",
d).forEach(function(b,d){l.set(b,"height",this._getRowHeight(d)+"px");g.push(b.childNodes[0].childNodes[0])},this);a.cells=g}},_resizeHandler:function(a,b){var d=this.renderData;if(d==null)this.refreshRendering();else{if(d.sheetHeight!=this.itemContainer.offsetHeight){d.sheetHeight=this.itemContainer.offsetHeight;if(this.getExpandedRowIndex()==-1){this._computeRowsHeight();this._resizeRows()}else this.expandRow(d.expandedRow,d.expandedRowCol,0,null,true)}if(this.layoutDuringResize||b)setTimeout(o.hitch(this,
function(){this._layoutRenderers(this.renderData)}),20);else{l.set(this.itemContainer,"opacity",0);this._recycleItemRenderers();this._recycleExpandRenderers();this._resizeTimer!=void 0&&clearTimeout(this._resizeTimer);this._resizeTimer=setTimeout(o.hitch(this,function(){delete this._resizeTimer;this._resizeRowsImpl(this.itemContainer,"tr");this._layoutRenderers(this.renderData);this.resizeAnimationDuration==0?l.set(this.itemContainer,"opacity",1):j.fadeIn({node:this.itemContainer,curve:[0,1]}).play(this.resizeAnimationDuration)}),
200)}}},resizeAnimationDuration:0,getExpandedRowIndex:function(){return this.renderData.expandedRow==null?-1:this.renderData.expandedRow},collapseRow:function(a,b,d){var g=this.renderData;d==void 0&&(d=true);if(a==void 0)a=this.expandDuration;if(g&&g.expandedRow!=null&&g.expandedRow!=-1)if(d&&a){var d=g.expandedRow,f=g.expandedRowHeight;delete g.expandedRow;this._computeRowsHeight(g);var k=this._getRowHeight(d);g.expandedRow=d;this._recycleExpandRenderers();this._recycleItemRenderers();l.set(this.itemContainer,
"display","none");this._expandAnimation=new j.Animation({curve:[f,k],duration:a,easing:b,onAnimate:o.hitch(this,function(b){this._expandRowImpl(Math.floor(b))}),onEnd:o.hitch(this,function(){this._expandAnimation=null;this._collapseRowImpl(false);this._resizeRows();l.set(this.itemContainer,"display","block");setTimeout(o.hitch(this,function(){this._layoutRenderers(g)}),100);this.onExpandAnimationEnd(false)})});this._expandAnimation.play()}else this._collapseRowImpl(d)},_collapseRowImpl:function(a){var b=
this.renderData;delete b.expandedRow;delete b.expandedRowHeight;this._computeRowsHeight(b);if(a==void 0||a){this._resizeRows();this._layoutRenderers(b)}},expandRow:function(a,b,d,g,f){var k=this.renderData;if(!k||a<0||a>=k.rowCount)return-1;if(b==void 0||b<0||b>=k.columnCount)b=-1;f==void 0&&(f=true);if(d==void 0)d=this.expandDuration;if(g==void 0)g=this.expandEasing;var z=this._getRowHeight(a),c=k.sheetHeight-Math.ceil(this.cellPaddingTop*(k.rowCount-1));k.expandedRow=a;k.expandedRowCol=b;k.expandedRowHeight=
c;if(f)if(d){this._recycleExpandRenderers();this._recycleItemRenderers();l.set(this.itemContainer,"display","none");this._expandAnimation=new j.Animation({curve:[z,c],duration:d,delay:50,easing:g,onAnimate:o.hitch(this,function(b){this._expandRowImpl(Math.floor(b))}),onEnd:o.hitch(this,function(){this._expandAnimation=null;l.set(this.itemContainer,"display","block");setTimeout(o.hitch(this,function(){this._expandRowImpl(c,true)}),100);this.onExpandAnimationEnd(true)})});this._expandAnimation.play()}else this._expandRowImpl(c)},
_expandRowImpl:function(a,b){var d=this.renderData;d.expandedRowHeight=a;this._computeRowsHeight(d,d.sheetHeight-a);this._resizeRows();b&&this._layoutRenderers(d)},onExpandAnimationEnd:function(){},_resizeRows:function(){if(!(this._getRowHeight(0)<=0)){this.rowHeaderTable&&this._resizeRowsImpl(this.rowHeaderTable,"tr");this.gridTable&&this._resizeRowsImpl(this.gridTable,"tr");this.itemContainerTable&&this._resizeRowsImpl(this.itemContainerTable,"tr")}},_computeRowsHeight:function(a,b){var d=a==null?
this.renderData:a,b=b||d.sheetHeight;b--;q("ie")==7&&(b=b-d.rowCount);if(d.rowCount==1){d.rowHeight=b;d.rowHeightFirst=b;d.rowHeightLast=b}else{var g=d.expandedRow==null?d.rowCount:d.rowCount-1,f=b/g,k;k=b-Math.floor(f)*g;var z=Math.abs(b-Math.ceil(f)*g),g=1;if(k<z){f=Math.floor(f);z=k}else{g=-1;f=Math.ceil(f)}k=f+g*Math.floor(z/2);d.rowHeight=f;d.rowHeightFirst=k;d.rowHeightLast=k+g*(z%2)}},_getRowHeight:function(a){var b=this.renderData;return a==b.expandedRow?b.expandedRowHeight:b.expandedRow==
0&&a==1||a==0?b.rowHeightFirst:b.expandedRow==this.renderData.rowCount-1&&a==this.renderData.rowCount-2||a==this.renderData.rowCount-1?b.rowHeightLast:b.rowHeight},_resizeRowsImpl:function(a,b){dojo.query(b,a).forEach(function(b,a){l.set(b,"height",this._getRowHeight(a)+"px")},this)},_setHorizontalRendererAttr:function(a){this._destroyRenderersByKind("horizontal");this._set("horizontalRenderer",a)},_setLabelRendererAttr:function(a){this._destroyRenderersByKind("label");this._set("labelRenderer",a)},
_destroyExpandRenderer:function(a){n.forEach(a.__handles,function(b){b.remove()});a.destroy&&a.destroy();m.destroy(a.domNode)},_setExpandRendererAttr:function(a){for(;this._ddRendererList.length>0;)this._destroyExpandRenderer(this._ddRendererList.pop());var b=this._ddRendererPool;if(b)for(;b.length>0;)this._destroyExpandRenderer(b.pop());this._set("expandRenderer",a)},_ddRendererList:null,_ddRendererPool:null,_getExpandRenderer:function(a,b,d,g,f){if(this.expandRenderer==null)return null;var k=this._ddRendererPool.pop();
k==null&&(k=new this.expandRenderer);this._ddRendererList.push(k);k.set("owner",this);k.set("date",a);k.set("items",b);k.set("rowIndex",d);k.set("columnIndex",g);k.set("expanded",f);return k},_recycleExpandRenderers:function(a){for(var b=0;b<this._ddRendererList.length;b++){var d=this._ddRendererList[b];d.set("Up",false);d.set("Down",false);a&&d.domNode.parentNode.removeChild(d.domNode);l.set(d.domNode,"display","none")}this._ddRendererPool=this._ddRendererPool.concat(this._ddRendererList);this._ddRendererList=
[]},_defaultItemToRendererKindFunc:function(a){return Math.abs(this.renderData.dateModule.difference(a.startTime,a.endTime,"minute"))>=1440?"horizontal":"label"},naturalRowsHeight:null,_roundItemToDay:function(a){var b=a.startTime,a=a.endTime;this.isStartOfDay(b)||(b=this.floorToDay(b,false,this.renderData));if(!this.isStartOfDay(a)){a=this.renderData.dateModule.add(a,"day",1);a=this.floorToDay(a,true)}return{startTime:b,endTime:a}},_sortItemsFunction:function(a,b){if(this.roundToDay){a=this._roundItemToDay(a);
b=this._roundItemToDay(b)}var d=this.dateModule.compare(a.startTime,b.startTime);d==0&&(d=-1*this.dateModule.compare(a.endTime,b.endTime));return d},_overlapLayoutPass3:function(a){for(var b=0,d=0,g=[],f=t.position(this.gridTable).x,k=0;k<this.renderData.columnCount;k++){for(var z=false,d=t.position(this._getCellAt(0,k)),b=d.x-f,d=b+d.w,c=a.length-1;c>=0&&!z;c--)for(var h=0;h<a[c].length;h++){z=a[c][h];if(z=z.start<d&&b<z.end){g[k]=c+1;break}}z||(g[k]=0)}return g},applyRendererZIndex:function(a,b,
d,g,f){l.set(b.container,{zIndex:f||g?b.renderer.mobile?100:0:a.lane==void 0?1:a.lane+1})},_layoutRenderers:function(a){if(!(a==null||a.items==null||a.rowHeight<=0))if(!this.gridTable||this._expandAnimation!=null||this.horizontalRenderer==null&&this.labelRenderer==null)this._recycleItemRenderers();else{this.renderData.gridTablePosX=t.position(this.gridTable).x;this._layoutStep=a.columnCount;this._recycleExpandRenderers();this._hiddenItems=[];this._offsets=[];this.naturalRowsHeight=[];this.inherited(arguments)}},
_offsets:null,_layoutInterval:function(a,b,d,g,f){if(this.renderData.cells!=null){for(var k=[],a=[],z=0;z<f.length;z++){var c=f[z],h=this._itemToRendererKind(c);h=="horizontal"?k.push(c):h=="label"&&a.push(c)}f=this.getExpandedRowIndex();if(!(f!=-1&&f!=b)){var f=[],l,z=[];if(k.length>0&&this.horizontalRenderer){l=this._createHorizontalLayoutItems(b,d,g,k);var e=this._computeHorizontalOverlapLayout(l,z)}var m,k=[];if(a.length>0&&this.labelRenderer){m=this._createLabelLayoutItems(b,d,g,a);this._computeLabelOffsets(m,
k)}d=this._computeColHasHiddenItems(b,z,k);l!=null&&this._layoutHorizontalItemsImpl(b,l,e,d,f);m!=null&&this._layoutLabelItemsImpl(b,m,d,f,z);this._layoutExpandRenderers(b,d,f);this._hiddenItems[b]=f}}},_createHorizontalLayoutItems:function(a,b,d,g){if(this.horizontalRenderer!=null){var f=this.renderData,k=f.dateModule;t.getMarginBox(this.itemContainer);for(var c=f.rtl?-1:1,h=[],l=0;l<g.length;l++){var e=g[l],m=this.computeRangeOverlap(f,e.startTime,e.endTime,b,d),j=k.difference(b,this.floorToDay(m[0],
false,f),"day"),n=f.dates[a][j],q=t.position(this._getCellAt(a,j,false)),u=q.x-f.gridTablePosX;f.rtl&&(u=u+q.w);!this.roundToDay&&!e.allDay&&(u=u+c*this.computeProjectionOnDate(f,n,m[0],q.w));var u=Math.ceil(u),w=k.difference(b,this.floorToDay(m[1],false,f),"day"),r;if(w>f.columnCount-1){q=t.position(this._getCellAt(a,f.columnCount-1,false));r=f.rtl?q.x-f.gridTablePosX:q.x-f.gridTablePosX+q.w}else{n=f.dates[a][w];q=t.position(this._getCellAt(a,w,false));r=q.x-f.gridTablePosX;f.rtl&&(r=r+q.w);this.roundToDay?
this.isStartOfDay(m[1])||(r=r+c*q.w):r=r+c*this.computeProjectionOnDate(f,n,m[1],q.w)}r=Math.floor(r);if(f.rtl){n=r;r=u;u=n}if(r>u){e=o.mixin({start:u,end:r,range:m,item:e,startOffset:j,endOffset:w},e);h.push(e)}}return h}},_computeHorizontalOverlapLayout:function(a,b){var d=this.renderData,g=this.horizontalRendererHeight,f=this.computeOverlapping(a,this._overlapLayoutPass3),k=this.percentOverlap/100;for(i=0;i<d.columnCount;i++){var c=f.addedPassRes[i],h=d.rtl?d.columnCount-i-1:i;b[h]=k==0?c==0?0:
c==1?g:g+(c-1)*(g+this.verticalGap):c==0?0:c*g-(c-1)*k*g+this.verticalGap;b[h]=b[h]+this.cellPaddingTop}return f},_createLabelLayoutItems:function(a,b,d,g){if(this.labelRenderer!=null){for(var f=this.renderData,k=f.dateModule,c=[],h=0;h<g.length;h++)for(var l=g[h],a=this.floorToDay(l.startTime,false,f),e=this.dateModule.compare;e(a,l.endTime)==-1&&e(a,d)==-1;){var m=k.add(a,"day",1),m=this.floorToDay(m,true),m=this.computeRangeOverlap(f,l.startTime,l.endTime,a,m),j=k.difference(b,this.floorToDay(m[0],
false,f),"day");if(j>=this.columnCount)break;if(j>=0){var t=c[j];if(t==null){t=[];c[j]=t}t.push(o.mixin({startOffset:j,range:m,item:l},l))}a=k.add(a,"day",1);this.floorToDay(a,true)}return c}},_computeLabelOffsets:function(a,b){for(var d=0;d<this.renderData.columnCount;d++)b[d]=a[d]==null?0:a[d].length*(this.labelRendererHeight+this.verticalGap)},_computeColHasHiddenItems:function(a,b,d){for(var g=[],f=this._getRowHeight(a),k,c=0,h=0;h<this.renderData.columnCount;h++){k=b==null||b[h]==null?this.cellPaddingTop:
b[h];k=k+(d==null||d[h]==null?0:d[h]);k>c&&(c=k);g[h]=k>f}this.naturalRowsHeight[a]=c;return g},_layoutHorizontalItemsImpl:function(a,b,d,g,f){for(var d=this.renderData.cells[a],a=this._getRowHeight(a),k=this.horizontalRendererHeight,c=this.percentOverlap/100,h=0;h<b.length;h++){var e=b[h],m=e.lane,j=this.cellPaddingTop,j=c==0?j+m*(k+this.verticalGap):j+m*(k-c*k),m=false,t=a;if(this.expandRenderer){for(t=e.startOffset;t<=e.endOffset;t++)if(g[t]){m=true;break}t=m?a-this.expandRendererHeight:a}if(j+
k<=t){var m=this._createRenderer(e,"horizontal",this.horizontalRenderer,"dojoxCalendarHorizontal"),n=(t=this.isItemBeingEdited(e)&&!this.liveLayout&&this._isEditing)?a-this.cellPaddingTop:k,o=e.end-e.start;q("ie")>=9&&e.start+o<this.itemContainer.offsetWidth&&o++;l.set(m.container,{top:(t?this.cellPaddingTop:j)+"px",left:e.start+"px",width:o+"px",height:n+"px"});this._applyRendererLayout(e,m,d,o,n,"horizontal")}else for(j=e.startOffset;j<e.endOffset;j++)f[j]==null?f[j]=[e.item]:f[j].push(e.item)}},
_layoutLabelItemsImpl:function(a,b,d,g,f){for(var k,c,h=this.renderData,e=h.cells[a],m=this._getRowHeight(a),j=this.labelRendererHeight,q=t.getMarginBox(this.itemContainer).w,n=0;n<b.length;n++){k=b[n];if(k!=null){var u=this.expandRenderer?d[n]?m-this.expandRendererHeight:m:m;c=f==null||f[n]==null?this.cellPaddingTop:f[n]+this.verticalGap;for(var r=t.position(this._getCellAt(a,n)),w=r.x-h.gridTablePosX,y=0;y<k.length;y++){if(c+j+this.verticalGap<=u){var s=k[y];o.mixin(s,{start:w,end:w+r.w});var x=
this._createRenderer(s,"label",this.labelRenderer,"dojoxCalendarLabel"),v=this.isItemBeingEdited(s)&&!this.liveLayout&&this._isEditing,A=v?this._getRowHeight(a)-this.cellPaddingTop:j;if(h.rtl){s.start=q-s.end;s.end=s.start+r.w}l.set(x.container,{top:(v?this.cellPaddingTop:c)+"px",left:s.start+"px",width:r.w+"px",height:A+"px"});this._applyRendererLayout(s,x,e,r.w,A,"label")}else break;c=c+(j+this.verticalGap)}for(;y<k.length;y++)g[n]==null?g[n]=[k[y]]:g[n].push(k[y])}}},_applyRendererLayout:function(a,
b,d,g,f,k){var c=this.isItemBeingEdited(a),h=this.isItemSelected(a),e=this.isItemHovered(a),m=this.isItemFocused(a),j=b.renderer;j.set("hovered",e);j.set("selected",h);j.set("edited",c);j.set("focused",this.showFocus?m:false);j.set("moveEnabled",this.isItemMoveEnabled(a,k));k!="label"&&j.set("resizeEnabled",this.isItemResizeEnabled(a,k));this.applyRendererZIndex(a,b,e,h,c,m);j.updateRendering&&j.updateRendering(g,f);y.place(b.container,d);l.set(b.container,"display","block")},_getCellAt:function(a,
b,d){if((d==void 0||d==true)&&!this.isLeftToRight())b=this.renderData.columnCount-1-b;return this.gridTable.childNodes[0].childNodes[a].childNodes[b]},_layoutExpandRenderers:function(a,b,d){if(this.expandRenderer){var g=this.renderData;if(g.expandedRow==a)g.expandedRowCol!=null&&g.expandedRowCol!=-1&&this._layoutExpandRendererImpl(g.expandedRow,g.expandedRowCol,null,true);else if(g.expandedRow==null)for(var f=0;f<g.columnCount;f++)b[f]&&this._layoutExpandRendererImpl(a,g.rtl?g.columnCount-1-f:f,d[f],
false)}},_layoutExpandRendererImpl:function(a,b,d,g){var f=this.renderData,k=f.cells[a],g=this._getExpandRenderer(o.clone(f.dates[a][b]),d,a,b,g),a=t.position(this._getCellAt(a,b));a.x=a.x-f.gridTablePosX;this.layoutExpandRenderer(g,void 0,d,a,this.expandRendererHeight);y.place(g.domNode,k);l.set(g.domNode,"display","block")},layoutExpandRenderer:function(a,b,d,g,f){l.set(a.domNode,{left:g.x+"px",width:g.w+"px",height:f+"px",top:g.h-f-1+"px"})},_onItemEditBeginGesture:function(a){var b=this._edProps,
d=b.editedItem,g=a.dates,f=this.newDate(b.editKind=="resizeEnd"?d.endTime:d.startTime);if(b.rendererKind!="label"&&a.editKind=="move"&&(d.allDay||this.roundToDay))b.dayOffset=this.renderData.dateModule.difference(this.floorToDay(g[0],false,this.renderData),f,"day");this.inherited(arguments)},_computeItemEditingTimes:function(a,b,d,g,f){var k=this.renderData.dateModule,c=this._edProps;if(d!="label")if(a.allDay||this.roundToDay){var h=this.isStartOfDay(g[0]);switch(b){case "resizeEnd":!h&&a.allDay&&
(g[0]=k.add(g[0],"day",1));case "resizeStart":h||(g[0]=this.floorToDay(g[0],true));break;case "move":g[0]=k.add(g[0],"day",c.dayOffset);break;case "resizeBoth":h||(g[0]=this.floorToDay(g[0],true));this.isStartOfDay(g[1])||(g[1]=this.floorToDay(k.add(g[1],"day",1),true))}}else g=this.inherited(arguments);return g},getTime:function(a,b,d,g){var f=this.renderData;if(a!=null){d=t.position(this.itemContainer,true);if(a.touches){g=g==void 0?0:g;b=a.touches[g].pageX-d.x;d=a.touches[g].pageY-d.y}else{b=a.pageX-
d.x;d=a.pageY-d.y}}g=t.getContentBox(this.itemContainer);b<0?b=0:b>g.w&&(b=g.w-1);d<0?d=0:d>g.h&&(d=g.h-1);a=t.getMarginBox(this.itemContainer).w/f.columnCount;d=f.expandedRow==null?Math.floor(d/(t.getMarginBox(this.itemContainer).h/f.rowCount)):f.expandedRow;g=t.getContentBox(this.itemContainer);f.rtl&&(b=g.w-b);g=Math.floor(b/a);b=Math.floor((b-g*a)*1440/a);a=null;if(d<f.dates.length&&g<this.renderData.dates[d].length){a=this.newDate(this.renderData.dates[d][g]);a=this.renderData.dateModule.add(a,
"minute",b)}return a},_onGridMouseUp:function(a){this.inherited(arguments);if(this._gridMouseDown){this._gridMouseDown=false;this._onGridClick({date:this.getTime(a),triggerEvent:a})}},_onGridTouchEnd:function(a){this.inherited(arguments);var b=this._gridProps;if(b){if(!this._isEditing){!b.fromItem&&!b.editingOnStart&&this.selectFromEvent(a,null,null,true);if(!b.fromItem)if(this._pendingDoubleTap&&this._pendingDoubleTap.grid){this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});
clearTimeout(this._pendingDoubleTap.timer);delete this._pendingDoubleTap}else{this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});this._pendingDoubleTap={grid:true,timer:setTimeout(o.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)}}}this._gridProps=null}},_onRowHeaderClick:function(a){this._dispatchCalendarEvt(a,"onRowHeaderClick")},onRowHeaderClick:function(){},expandRendererClickHandler:function(a,b){s.stop(a);this.getExpandedRowIndex()!=
-1?this.collapseRow():this.expandRow(b.rowIndex,b.columnIndex)},snapUnit:"minute",snapSteps:15,minDurationUnit:"minute",minDurationSteps:15,triggerExtent:3,liveLayout:false,stayInView:true,allowStartEndSwap:true,allowResizeLessThan24H:false})})},"url:dojox/calendar/templates/ColumnViewSecondarySheet.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\n</div>\n',
"dojox/calendar/MobileHorizontalRenderer":function(){require({cache:{"url:dojox/calendar/templates/MobileHorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px"><span data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</span></div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px"><span data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</span></div>\n\t<div data-dojo-attach-point="moveHandle" class="moveHandle" ></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeHandle resizeStartHandle"><div></div></div>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeHandle resizeEndHandle"><div></div></div>\t\n</div>\n'}});
define("dojox/calendar/MobileHorizontalRenderer","dojo/_base/declare dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojox/calendar/_RendererMixin dojo/text!./templates/MobileHorizontalRenderer.html".split(" "),function(v,n,s,o,q,j){return v("dojox.calendar.MobileHorizontalRenderer",[s,o,q],{templateString:j,_orientation:"horizontal",mobile:true,visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:32,endTimeLabel:30},_displayValue:"inline",arrowPadding:12,
_isElementVisible:function(m,e,h,c){var l;l=this.isLeftToRight();if(m=="startTimeLabel"){this.labelContainer&&(l&&h||!l&&e)?n.set(this.labelContainer,"marginRight",this.arrowPadding+"px"):n.set(this.labelContainer,"marginRight",0);this.labelContainer&&(!l&&h||l&&e)?n.set(this.labelContainer,"marginLeft",this.arrowPadding+"px"):n.set(this.labelContainer,"marginLeft",0)}switch(m){case "startTimeLabel":l=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(l))return false;break;case "endTimeLabel":l=
this.item.endTime;if(this.item.allDay||this.owner.isStartOfDay(l))return false}return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"url:dojox/calendar/templates/HorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px" data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px" data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</div>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\t\n</div>\n',
"dojox/calendar/nls/buttons":function(){define("dojox/calendar/nls/buttons",{root:{previousButton:"\u25c4",nextButton:"\u25ba",todayButton:"Today",dayButton:"Day",weekButton:"Week",fourDaysButton:"4 Days",monthButton:"Month"},zh:!0,"zh-tw":!0,tr:!0,th:!0,sv:!0,sl:!0,sk:!0,ru:!0,ro:!0,pt:!0,"pt-pt":!0,pl:!0,nl:!0,nb:!0,ko:!0,kk:!0,ja:!0,it:!0,hu:!0,fr:!0,fi:!0,es:!0,el:!0,de:!0,da:!0,cs:!0,ca:!0,ar:!0})},"dojox/calendar/time":function(){define("dojox/calendar/time",["dojo/_base/lang","dojo/date","dojo/cldr/supplemental",
"dojo/date/stamp"],function(v,n,s,o){var q={newDate:function(j,m){var m=m||Date,e;if("number"==typeof j)return new m(q);if(j.getTime)return new m(j.getTime());if(j.toGregorian)return e=j.toGregorian(),m!==Date&&(e=new m(e.getTime())),e;if("string"==typeof j)return e=o.fromISOString(j),null===e?e=new m(j):m!==Date&&(e=new m(e.getTime())),e},floorToDay:function(j,m,e){e=e||Date;m||(j=q.newDate(j,e));j.setHours(0,0,0,0);return j},floorToMonth:function(j,m,e){e=e||Date;m||(j=q.newDate(j,e));j.setDate(1);
j.setHours(0,0,0,0);return j},floorToWeek:function(j,m,e,h,c){m=m||Date;e=e||n;h=void 0==h||0>h?s.getFirstDayOfWeek(c):h;c=j.getDay();return c==h?j:q.floorToDay(e.add(j,"day",c>h?-c+h:h-c),!0,m)},floor:function(j,m,e,h,c){h=q.floorToDay(j,h,c);switch(m){case "week":return q.floorToWeek(h,firstDayOfWeek,dateModule,locale);case "minute":h.setHours(j.getHours());h.setMinutes(Math.floor(j.getMinutes()/e)*e);break;case "hour":h.setHours(Math.floor(j.getHours()/e)*e)}return h},isStartOfDay:function(j,m,
e){e=e||n;return 0==e.compare(this.floorToDay(j,!1,m),j)},isToday:function(j,m){var m=m||Date,e=new m;return j.getFullYear()==e.getFullYear()&&j.getMonth()==e.getMonth()&&j.getDate()==e.getDate()}};return q})},"url:dojox/calendar/templates/SimpleColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n</div>\n\n',
"dojox/calendar/Keyboard":function(){define("dojox/calendar/Keyboard","dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/on dojo/_base/event dojo/keys".split(" "),function(v,n,s,o,q,j){return s("dojox.calendar.Keyboard",null,{keyboardUpDownUnit:"minute",keyboardUpDownSteps:15,keyboardLeftRightUnit:"day",keyboardLeftRightSteps:1,allDayKeyboardUpDownUnit:"day",allDayKeyboardUpDownSteps:7,allDayKeyboardLeftRightUnit:"day",allDayKeyboardLeftRightSteps:1,postCreate:function(){this.inherited(arguments);
this._viewHandles.push(o(this.domNode,"keydown",n.hitch(this,this._onKeyDown)))},resizeModifier:"ctrl",maxScrollAnimationDuration:1E3,tabIndex:"0",focusedItem:null,_isItemFocused:function(m){return this.focusedItem!=null&&this.focusedItem.id==m.id},_setFocusedItemAttr:function(m){if(m!=this.focusedItem){var e=this.focusedItem;this._set("focusedItem",m);this.updateRenderers([e,this.focusedItem],true);this.onFocusChange({oldValue:e,newValue:m})}if(m!=null){this.owner!=null&&this.owner.get("focusedItem")!=
null&&this.owner.set("focusedItem",null);this._secondarySheet!=null&&this._secondarySheet.set("focusedItem")!=null&&this._secondarySheet.set("focusedItem",null)}},onFocusChange:function(){},showFocus:false,_focusNextItem:function(m){if(!this.renderData||!this.renderData.items||this.renderData.items.length==0)return null;var e=-1,h=this.renderData.items,c=h.length-1,l=this.get("focusedItem");if(l==null)e=m>0?0:c;else{v.some(h,n.hitch(this,function(c,h){var m=c.id==l.id;m&&(e=h);return m}));e=this._focusNextItemImpl(m,
e,c)}for(var j=false,q=-1;q!=e&&(!j||e!=0);){!j&&e==0&&(j=true);q=h[e];if(this.itemToRenderer[q.id]!=null){this.set("focusedItem",q);break}q=e;e=this._focusNextItemImpl(m,e,c)}},_focusNextItemImpl:function(m,e,h){if(e==-1)e=m>0?0:h;else{if(e==0&&m==-1||e==h&&m==1)return e;e=m>0?++e:--e}return e},_handlePrevNextKeyCode:function(m,e){this.isLeftToRight()||(e=e==1?-1:1);this.showFocus=true;this._focusNextItem(e);var h=this.get("focusedItem");!m.ctrlKey&&h&&this.set("selectedItem",h);h&&this.ensureVisibility(h.startTime,
h.endTime,"both",void 0,this.maxScrollAnimationDuration)},_keyboardItemEditing:function(m,e){q.stop(m);var h=this._edProps,c,l;if(h.editedItem.allDay||this.roundToDay||h.rendererKind=="label"){c=e=="up"||e=="down"?this.allDayKeyboardUpDownUnit:this.allDayKeyboardLeftRightUnit;l=e=="up"||e=="down"?this.allDayKeyboardUpDownSteps:this.allDayKeyboardLeftRightSteps}else{c=e=="up"||e=="down"?this.keyboardUpDownUnit:this.keyboardLeftRightUnit;l=e=="up"||e=="down"?this.keyboardUpDownSteps:this.keyboardLeftRightSteps}if(e==
"up"||!this.isLeftToRight()&&e=="right"||this.isLeftToRight()&&e=="left")l=-l;var j=m[this.resizeModifier+"Key"]?"resizeEnd":"move",n=j=="resizeEnd"?h.editedItem.endTime:h.editedItem.startTime;c=this.renderData.dateModule.add(n,c,l);this._startItemEditingGesture([n],j,"keyboard",m);this._moveOrResizeItemGesture([c],"keyboard",m);this._endItemEditingGesture(j,"keyboard",m,false);j=="move"?this.renderData.dateModule.compare(c,n)==-1?this.ensureVisibility(h.editedItem.startTime,h.editedItem.endTime,
"start"):this.ensureVisibility(h.editedItem.startTime,h.editedItem.endTime,"end"):this.ensureVisibility(h.editedItem.startTime,h.editedItem.endTime,"end")},_onKeyDown:function(m){var e=this.get("focusedItem");switch(m.keyCode){case j.ESCAPE:if(this._isEditing){this._editingGesture&&this._endItemEditingGesture("keyboard",m,true);this._endItemEditing("keyboard",true);this._edProps=null}break;case j.SPACE:q.stop(m);e!=null&&this.setItemSelected(e,m.ctrlKey?!this.isItemSelected(e):true);break;case j.ENTER:q.stop(m);
if(e!=null)if(this._isEditing)this._endItemEditing("keyboard",false);else if((m=this.itemToRenderer[e.id])&&m.length>0&&this.isItemEditable(e,m[0].kind)){this._edProps={renderer:m[0],rendererKind:m[0].kind,tempEditedItem:e,liveLayout:this.liveLayout};this.set("selectedItem",e);this._startItemEditing(e,"keyboard")}break;case j.LEFT_ARROW:q.stop(m);this._isEditing?this._keyboardItemEditing(m,"left"):this._handlePrevNextKeyCode(m,-1);break;case j.RIGHT_ARROW:q.stop(m);this._isEditing?this._keyboardItemEditing(m,
"right"):this._handlePrevNextKeyCode(m,1);break;case j.UP_ARROW:this._isEditing?this._keyboardItemEditing(m,"up"):this.scrollable&&this.scrollView(-1);break;case j.DOWN_ARROW:this._isEditing?this._keyboardItemEditing(m,"down"):this.scrollable&&this.scrollView(1)}}})})},"dojox/widget/Selection":function(){define("dojox/widget/Selection",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/Stateful"],function(v,n,s,o){return v("dojox.widget.Selection",o,{constructor:function(){this.selectedItems=
[]},selectionMode:"single",_setSelectionModeAttr:function(n){"none"!=n&&("single"!=n&&"multiple"!=n)&&(n="single");n!=this.selectionMode&&(this.selectionMode=n,"none"==n?this.set("selectedItems",null):"single"==n&&this.set("selectedItem",this.selectedItem))},selectedItem:null,_setSelectedItemAttr:function(n){this.selectedItem!=n&&(this._set("selectedItem",n),this.set("selectedItems",n?[n]:null))},selectedItems:null,_setSelectedItemsAttr:function(n){var j=this.selectedItems;this.selectedItems=n;this.selectedItem=
null;null!=j&&0<j.length&&this.updateRenderers(j,!0);this.selectedItems&&0<this.selectedItems.length&&(this.selectedItem=this.selectedItems[0],this.updateRenderers(this.selectedItems,!0))},_getSelectedItemsAttr:function(){return null==this.selectedItems?[]:this.selectedItems.concat()},isItemSelected:function(o){return null==this.selectedItems||0==this.selectedItems.length?!1:n.some(this.selectedItems,s.hitch(this,function(j){return this.getIdentity(j)==this.getIdentity(o)}))},getIdentity:function(){},
setItemSelected:function(o,j){if(!("none"==this.selectionMode||null==o)){var m=this.get("selectedItems");this.get("selectedItems");if("single"==this.selectionMode)j?this.set("selectedItem",o):this.isItemSelected(o)&&this.set("selectedItems",null);else if(j)this.isItemSelected(o)||(null==m?m=[o]:m.unshift(o),this.set("selectedItems",m));else{var e=n.filter(m,function(h){return h.id!=o.id});null==e||e.length==m.length||this.set("selectedItems",e)}}},selectFromEvent:function(n,j,m,e){if("none"==this.selectionMode)return!1;
var h,c=this.get("selectedItem"),l=j?this.isItemSelected(j):!1;null==j?!n.ctrlKey&&null!=this.selectedItem&&(this.set("selectedItem",null),h=!0):"multiple"==this.selectionMode?(n.ctrlKey?this.setItemSelected(j,!l):this.set("selectedItem",j),h=!0):n.ctrlKey?(this.set("selectedItem",l?null:j),h=!0):l||(this.set("selectedItem",j),h=!0);e&&h&&this.dispatchChange(c,this.get("selectedItem"),m,n);return h},dispatchChange:function(n,j,m,e){this.onChange({oldValue:n,newValue:j,renderer:m,triggerEvent:e})},
onChange:function(){}})})},"dojox/calendar/ViewBase":function(){define("dojox/calendar/ViewBase","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/_base/event dojo/_base/html dojo/_base/sniff dojo/query dojo/dom dojo/dom-style dojo/dom-construct dojo/on dojo/date dojo/date/locale dijit/_WidgetBase dojox/widget/_Invalidating dojox/widget/Selection dojox/calendar/time ./StoreMixin".split(" "),function(v,n,s,o,q,j,m,e,h,c,l,t,y,r,w,A,x,C,u){return v("dojox.calendar.ViewBase",
[w,u,A,x],{datePackage:y,_calendar:"gregorian",viewKind:null,_layoutStep:1,_layoutUnit:"day",resizeCursor:"n-resize",formatItemTimeFunc:null,_getFormatItemTimeFuncAttr:function(){return this.owner!=null?this.owner.get("formatItemTimeFunc"):this.formatItemTimeFunc},_viewHandles:null,doubleTapDelay:300,constructor:function(a){a=a||{};this._calendar=a.datePackage?a.datePackage.substr(a.datePackage.lastIndexOf(".")+1):this._calendar;this.dateModule=a.datePackage?n.getObject(a.datePackage,false):y;this.dateClassObj=
this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?n.getObject(a.datePackage+".locale",false):r;this.rendererPool=[];this.rendererList=[];this.itemToRenderer={};this._viewHandles=[]},destroy:function(a){for(;this.rendererList.length>0;)this._destroyRenderer(this.rendererList.pop());for(kind in this._rendererPool){var b=this._rendererPool[kind];if(b)for(;b.length>0;)this._destroyRenderer(b.pop())}for(;this._viewHandles.length>0;)this._viewHandles.pop().remove();this.inherited(arguments)},
_createRenderData:function(){},_validateProperties:function(){},_setText:function(a,b,d){if(b!=null)if(!d&&a.hasChildNodes())a.childNodes[0].childNodes[0].nodeValue=b;else{for(;a.hasChildNodes();)a.removeChild(a.lastChild);var g=o.doc.createElement("span");this.applyTextDir(g,b);d?g.innerHTML=b:g.appendChild(o.doc.createTextNode(b));a.appendChild(g)}},isAscendantHasClass:function(a,b,d){for(;a!=b&&a!=document;){if(dojo.hasClass(a,d))return true;a=a.parentNode}return false},isWeekEnd:function(a){return r.isWeekend(a)},
getWeekNumberLabel:function(a){a.toGregorian&&(a=a.toGregorian());return r.format(a,{selector:"date",datePattern:"w"})},floorToDay:function(a,b){return C.floorToDay(a,b,this.dateClassObj)},floorToMonth:function(a,b){return C.floorToMonth(a,b,this.dateClassObj)},floorDate:function(a,b,d,g){return C.floor(a,b,d,g,this.dateClassObj)},isToday:function(a){return C.isToday(a,this.dateClassObj)},isStartOfDay:function(a){return C.isStartOfDay(a,this.dateClassObj,this.dateModule)},isOverlapping:function(a,
b,d,g,f,k){if(b==null||g==null||d==null||f==null)return false;a=a.dateModule;if(k){if(a.compare(b,f)==1||a.compare(g,d)==1)return false}else if(a.compare(b,f)!=-1||a.compare(g,d)!=-1)return false;return true},computeRangeOverlap:function(a,b,d,g,f,k){var c=a.dateModule;if(b==null||g==null||d==null||f==null)return null;var h=c.compare(b,f),e=c.compare(g,d);if(k){if(h==0||h==1||e==0||e==1)return null}else if(h==1||e==1)return null;return[this.newDate(c.compare(b,g)>0?b:g,a),this.newDate(c.compare(d,
f)>0?f:d,a)]},isSameDay:function(a,b){return a==null||b==null?false:a.getFullYear()==b.getFullYear()&&a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()},computeProjectionOnDate:function(a,b,d,g){var f=a.dateModule;if(g<=0||f.compare(d,b)==-1)return 0;var k=this.floorToDay(b,false,a);if(d.getDate()!=k.getDate())if(d.getMonth()==k.getMonth()){if(d.getDate()<k.getDate())return 0;if(d.getDate()>k.getDate())return g}else if(d.getFullYear()==k.getFullYear()){if(d.getMonth()<k.getMonth())return 0;if(d.getMonth()>
k.getMonth())return g}else{if(d.getFullYear()<k.getFullYear())return 0;if(d.getFullYear()>k.getFullYear())return g}if(this.isSameDay(b,d)){k=n.clone(b);f=0;if(a.minHours!=null&&a.minHours!=0){k.setHours(a.minHours);f=k.getHours()*3600+k.getMinutes()*60+k.getSeconds()}k=n.clone(b);if(a.maxHours==null||a.maxHours==24)a=86400;else{k.setHours(a.maxHours);a=k.getHours()*3600+k.getMinutes()*60+k.getSeconds()}b=d.getHours()*3600+d.getMinutes()*60+d.getSeconds()-f;if(b<0)return 0;if(b>a)return g;g=g*b/(a-
f)}else{if(d.getDate()<b.getDate()&&d.getMonth()==b.getMonth())return 0;d=this.floorToDay(d);k=a.dateModule.add(b,"day",1);k=this.floorToDay(k,false,a);g=f.compare(d,b)==1&&f.compare(d,k)==0||f.compare(d,k)==1?g:0}return g},getTime:function(){return null},newDate:function(a){return C.newDate(a,this.dateClassObj)},_isItemInView:function(a){var b=this.renderData,d=b.dateModule;return d.compare(a.startTime,b.startTime)==-1||d.compare(a.endTime,b.endTime)==1?false:true},_ensureItemInView:function(a){var b=
this.renderData,d=b.dateModule,g=Math.abs(d.difference(a.startTime,a.endTime,"millisecond")),f=false;if(d.compare(a.startTime,b.startTime)==-1){a.startTime=b.startTime;a.endTime=d.add(a.startTime,"millisecond",g);f=true}else if(d.compare(a.endTime,b.endTime)==1){a.endTime=b.endTime;a.startTime=d.add(a.endTime,"millisecond",-g);f=true}return f},scrollable:true,autoScroll:true,_autoScroll:function(){return false},scrollMethod:"auto",_setScrollMethodAttr:function(a){if(this.scrollMethod!=a){this.scrollMethod=
a;if(this._domScroll!==void 0)this._domScroll?c.set(this.sheetContainer,this._cssPrefix+"transform","translateY(-"+b+"px)"):this.scrollContainer.scrollTop=0;delete this._domScroll;var b=this._getScrollPosition();delete this._scrollPos;this._setScrollPosition(b)}},_startAutoScroll:function(a){var b=this._scrollProps;if(!b)b=this._scrollProps={};b.scrollStep=a;if(!b.isScrolling){b.isScrolling=true;b.scrollTimer=setInterval(n.hitch(this,this._onScrollTimer_tick),10)}},_stopAutoScroll:function(){var a=
this._scrollProps;if(a&&a.isScrolling){clearInterval(a.scrollTimer);a.scrollTimer=null}this._scrollProps=null},_onScrollTimer_tick:function(){},_scrollPos:0,getCSSPrefix:function(){if(m("ie"))return"-ms-";if(m("webkit"))return"-webkit-";if(m("mozilla"))return"-moz-";if(m("opera"))return"-o-"},_setScrollPosition:function(a){if(this._scrollPos!=a){if(this._domScroll===void 0){var b=this.get("scrollMethod");this._domScroll=b==="auto"?!m("ios")&&!m("android")&&!m("webkit"):b==="dom"}this._scrollPos=a;
if(this._domScroll)this.scrollContainer.scrollTop=a;else{if(!this._cssPrefix)this._cssPrefix=this.getCSSPrefix();c.set(this.sheetContainer,this._cssPrefix+"transform","translateY(-"+a+"px)")}}},_getScrollPosition:function(){return this._scrollPos},scrollView:function(){},ensureVisibility:function(){},_getStoreAttr:function(){return this.owner?this.owner.get("store"):this.store},_setItemsAttr:function(a){this._set("items",a);this.displayedItemsInvalidated=true},_refreshItemsRendering:function(){var a=
this.renderData;this._computeVisibleItems(a);this._layoutRenderers(a)},invalidateLayout:function(){this._layoutRenderers(this.renderData)},resize:function(){},computeOverlapping:function(a,b){if(a.length==0)return{numLanes:0,addedPassRes:[1]};for(var d=[],g=0;g<a.length;g++)this._layoutPass1(a[g],d);var f;b&&(f=n.hitch(this,b)(d));return{numLanes:d.length,addedPassRes:f}},_layoutPass1:function(a,b){for(var d=true,g=0;g<b.length;g++){for(var f=b[g],d=false,k=0;k<f.length&&!d;k++)if(f[k].start<a.end&&
a.start<f[k].end){d=true;f[k].extent=1}if(!d){a.lane=g;a.extent=-1;f.push(a);return}}b.push([a]);a.lane=b.length-1;a.extent=-1},_layoutInterval:function(){},layoutPriorityFunction:null,_sortItemsFunction:function(a,b){var d=this.dateModule.compare(a.startTime,b.startTime);d==0&&(d=-1*this.dateModule.compare(a.endTime,b.endTime));return d},_layoutRenderers:function(a){if(a.items){this._recycleItemRenderers();for(var b=a.dateModule,d=this.newDate(a.startTime),g=n.clone(d),f=a.items.concat(),k=[],c,
h=0;b.compare(d,a.endTime)==-1&&f.length>0;){var d=b.add(d,this._layoutUnit,this._layoutStep),d=this.floorToDay(d,true,a),e=n.clone(d);a.minHours&&g.setHours(a.minHours);if(a.maxHours&&a.maxHours!=24){e=b.add(d,"day",-1);e=this.floorToDay(e,true,a);e.setHours(a.maxHours)}c=s.filter(f,function(d){var f=this.isOverlapping(a,d.startTime,d.endTime,g,e);f?b.compare(d.endTime,e)==1&&k.push(d):k.push(d);return f},this);f=k;k=[];if(c.length>0){c.sort(n.hitch(this,this.layoutPriorityFunction?this.layoutPriorityFunction:
this._sortItemsFunction));this._layoutInterval(a,h,g,e,c)}g=n.clone(d);h++}this._onRenderersLayoutDone(this)}},_recycleItemRenderers:function(a){for(;this.rendererList.length>0;)this._recycleRenderer(this.rendererList.pop(),a);this.itemToRenderer={}},rendererPool:null,rendererList:null,itemToRenderer:null,getRenderers:function(a){if(a==null||a.id==null)return null;a=this.itemToRenderer[a.id];return a==null?null:a.concat()},_rendererHandles:{},itemToRendererKindFunc:null,_itemToRendererKind:function(a){return this.itemToRendererKindFunc?
this.itemToRendererKindFunc(a):this._defaultItemToRendererKindFunc(a)},_defaultItemToRendererKindFunc:function(){return null},_createRenderer:function(a,b,d,g){if(a!=null&&b!=null&&d!=null){var f,k=this.rendererPool[b];k!=null&&(f=k.shift());if(f==null){d=new d;f=l.create("div");f.className="dojoxCalendarEventContainer "+g;f.appendChild(d.domNode);f={renderer:d,container:d.domNode,kind:b};this.onRendererCreated(f)}else{d=f.renderer;this.onRendererReused(d)}d.owner=this;d.set("rendererKind",b);d.set("item",
a);b=this.itemToRenderer[a.id];b==null&&(this.itemToRenderer[a.id]=b=[]);b.push(f);this.rendererList.push(f);return f}return null},onRendererCreated:function(){},onRendererRecycled:function(){},onRendererReused:function(){},onRendererDestroyed:function(){},_onRenderersLayoutDone:function(a){this.onRenderersLayoutDone(a);if(this.owner!=null)this.owner.onRenderersLayoutDone(a)},onRenderersLayoutDone:function(){},_recycleRenderer:function(a,b){this.onRendererRecycled(a);var d=this.rendererPool[a.kind];
d==null?this.rendererPool[a.kind]=[a]:d.push(a);b&&a.container.parentNode.removeChild(a.container);c.set(a.container,"display","none");a.renderer.owner=null;a.renderer.set("item",null)},_destroyRenderer:function(a){this.onRendererDestroyed(a);var b=a.renderer;s.forEach(b.__handles,function(b){b.remove()});b.destroy&&b.destroy();j.destroy(a.container)},_destroyRenderersByKind:function(a){for(var b=[],d=0;d<this.rendererList.length;d++){var g=this.rendererList[d];g.kind==a?this._destroyRenderer(g):
b.push(g)}this.rendererList=b;if(a=this.rendererPool[a])for(;a.length>0;)this._destroyRenderer(a.pop())},_updateEditingCapabilities:function(a,b){var d=this.isItemMoveEnabled(a,b.rendererKind),g=this.isItemResizeEnabled(a,b.rendererKind),f=false;if(d!=b.get("moveEnabled")){b.set("moveEnabled",d);f=true}if(g!=b.get("resizeEnabled")){b.set("resizeEnabled",g);f=true}f&&b.updateRendering()},updateRenderers:function(a,b){if(a!=null)for(var d=n.isArray(a)?a:[a],g=0;g<d.length;g++){var f=d[g];if(!(f==null||
f.id==null)){var k=this.itemToRenderer[f.id];if(k!=null)for(var c=this.isItemSelected(f),h=this.isItemHovered(f),e=this.isItemBeingEdited(f),l=this.showFocus?this.isItemFocused(f):false,m=0;m<k.length;m++){var j=k[m].renderer;j.set("hovered",h);j.set("selected",c);j.set("edited",e);j.set("focused",l);this.applyRendererZIndex(f,k[m],h,c,e,l);if(!b){j.set("item",f);j.updateRendering&&j.updateRendering()}}}}},applyRendererZIndex:function(a,b,d,g,f){c.set(b.container,{zIndex:f||g?20:a.lane==void 0?0:
a.lane})},getIdentity:function(a){return this.owner?this.owner.getIdentity(a):a.id},_setHoveredItem:function(a,b){if(this.owner)this.owner._setHoveredItem(a,b);else if(this.hoveredItem&&a&&this.hoveredItem.id!=a.id||a==null||this.hoveredItem==null){var d=this.hoveredItem;this.hoveredItem=a;this.updateRenderers([d,this.hoveredItem],true);a&&b&&this._updateEditingCapabilities(a,b)}},hoveredItem:null,isItemHovered:function(a){return this._isEditing&&this._edProps?a.id==this._edProps.editedItem.id:this.owner?
this.owner.isItemHovered(a):this.hoveredItem!=null&&this.hoveredItem.id==a.id},isItemFocused:function(a){return this._isItemFocused?this._isItemFocused(a):false},_setSelectionModeAttr:function(a){this.owner?this.owner.set("selectionMode",a):this.inherited(arguments)},_getSelectionModeAttr:function(a){return this.owner?this.owner.get("selectionMode"):this.inherited(arguments)},_setSelectedItemAttr:function(a){this.owner?this.owner.set("selectedItem",a):this.inherited(arguments)},_getSelectedItemAttr:function(){return this.owner?
this.owner.get("selectedItem"):this.selectedItem},_setSelectedItemsAttr:function(a){this.owner?this.owner.set("selectedItems",a):this.inherited(arguments)},_getSelectedItemsAttr:function(){return this.owner?this.owner.get("selectedItems"):this.inherited(arguments)},isItemSelected:function(a){return this.owner?this.owner.isItemSelected(a):this.inherited(arguments)},selectFromEvent:function(a,b,d,g){this.owner?this.owner.selectFromEvent(a,b,d,g):this.inherited(arguments)},setItemSelected:function(a,
b){this.owner?this.owner.setItemSelected(a,b):this.inherited(arguments)},createItemFunc:null,_getCreateItemFuncAttr:function(){return this.owner?this.owner.get("createItemFunc"):this.createItemFunc},createOnGridClick:false,_getCreateOnGridClickAttr:function(){return this.owner?this.owner.get("createOnGridClick"):this.createOnGridClick},_gridMouseDown:false,_onGridMouseDown:function(a){this._gridMouseDown=true;this.showFocus=false;this._isEditing&&this._endItemEditing("mouse",false);this._doEndItemEditing(this.owner,
"mouse");this.set("focusedItem",null);this.selectFromEvent(a,null,null,true);this._setTabIndexAttr&&this[this._setTabIndexAttr].focus();if(this._onRendererHandleMouseDown){var b=this.get("createItemFunc");if(b){var b=b(this,this.getTime(a),a),d=this.get("store");if(b&&d!=null){d.put(b);if((b=this.getRenderers(b))&&b.length>0)(b=b[0])&&this._onRendererHandleMouseDown(a,b.renderer,"resizeEnd")}}}},_onGridMouseMove:function(){},_onGridMouseUp:function(){},_onGridTouchStart:function(a){var b=this._edProps;
this._gridProps={event:a,fromItem:this.isAscendantHasClass(a.target,this.eventContainer,"dojoxCalendarEventContainer")};if(this._isEditing){if(this._gridProps)this._gridProps.editingOnStart=true;n.mixin(b,this._getTouchesOnRenderers(a,b.editedItem));if(b.touchesLen==0){if(b&&b.endEditingTimer){clearTimeout(b.endEditingTimer);b.endEditingTimer=null}this._endItemEditing("touch",false)}}this._doEndItemEditing(this.owner,"touch");q.stop(a)},_doEndItemEditing:function(a,b){if(a&&a._isEditing){if((p=a._edProps)&&
p.endEditingTimer){clearTimeout(p.endEditingTimer);p.endEditingTimer=null}a._endItemEditing(b,false)}},_onGridTouchEnd:function(){},_onGridTouchMove:function(){},__fixEvt:function(a){return a},_dispatchCalendarEvt:function(a,b){a=this.__fixEvt(a);this[b](a);if(this.owner)this.owner[b](a);return a},_onGridClick:function(a){a.triggerEvent||(a={date:this.getTime(a),triggerEvent:a});this._dispatchCalendarEvt(a,"onGridClick")},onGridClick:function(){},_onGridDoubleClick:function(a){a.triggerEvent||(a=
{date:this.getTime(a),triggerEvent:a});this._dispatchCalendarEvt(a,"onGridDoubleClick")},onGridDoubleClick:function(){},_onItemClick:function(a){this._dispatchCalendarEvt(a,"onItemClick")},onItemClick:function(){},_onItemDoubleClick:function(a){this._dispatchCalendarEvt(a,"onItemDoubleClick")},onItemDoubleClick:function(){},_onItemContextMenu:function(a){this._dispatchCalendarEvt(a,"onItemContextMenu")},onItemContextMenu:function(){},_getStartEndRenderers:function(a){a=this.itemToRenderer[a.id];if(a!=
null){if(a.length==1){a=a[0].renderer;return[a,a]}for(var b=this.renderData,d=false,g=false,f=[],k=0;k<a.length;k++){var c=a[k].renderer;if(!d){d=b.dateModule.compare(c.item.range[0],c.item.startTime)==0;f[0]=c}if(!g){g=b.dateModule.compare(c.item.range[1],c.item.endTime)==0;f[1]=c}if(d&&g)break}return f}},editable:true,moveEnabled:true,resizeEnabled:true,isItemEditable:function(){return this.editable&&(this.owner?this.owner.isItemEditable():true)},isItemMoveEnabled:function(a,b){return this.isItemEditable(a,
b)&&this.moveEnabled&&(this.owner?this.owner.isItemMoveEnabled(a,b):true)},isItemResizeEnabled:function(a,b){return this.isItemEditable(a,b)&&this.resizeEnabled&&(this.owner?this.owner.isItemResizeEnabled(a,b):true)},_isEditing:false,isItemBeingEdited:function(a){return this._isEditing&&this._edProps&&this._edProps.editedItem&&this._edProps.editedItem.id==a.id},_setEditingProperties:function(a){this._edProps=a},_startItemEditing:function(a,b){this._isEditing=true;var d=this._edProps;d.editedItem=
a;d.eventSource=b;d.secItem=this._secondarySheet?this._findRenderItem(a.id,this._secondarySheet.renderData.items):null;d.ownerItem=this.owner?this._findRenderItem(a.id,this.items):null;if(!d.liveLayout){d.editSaveStartTime=a.startTime;d.editSaveEndTime=a.endTime;d.editItemToRenderer=this.itemToRenderer;d.editItems=this.renderData.items;d.editRendererList=this.rendererList;this.renderData.items=[d.editedItem];var g=d.editedItem.id;this.itemToRenderer={};this.rendererList=[];var f=d.editItemToRenderer[g];
d.editRendererIndices=[];s.forEach(f,n.hitch(this,function(b){this.itemToRenderer[g]==null?this.itemToRenderer[g]=[b]:this.itemToRenderer[g].push(b);this.rendererList.push(b)}));d.editRendererList=s.filter(d.editRendererList,function(b){return b!=null&&b.renderer.item.id!=g});delete d.editItemToRenderer[g]}this._layoutRenderers(this.renderData);this._onItemEditBegin({item:a,eventSource:b})},_onItemEditBegin:function(a){this._editStartTimeSave=this.newDate(a.item.startTime);this._editEndTimeSave=this.newDate(a.item.endTime);
this._dispatchCalendarEvt(a,"onItemEditBegin")},onItemEditBegin:function(){},_endItemEditing:function(a,b){this._isEditing=false;var d=this._edProps;s.forEach(d.handles,function(b){b.remove()});if(!d.liveLayout){this.renderData.items=d.editItems;this.rendererList=d.editRendererList.concat(this.rendererList);n.mixin(this.itemToRenderer,d.editItemToRenderer)}var g=this.get("store");this._onItemEditEnd(n.mixin(this._createItemEditEvent(),{item:this.renderItemToItem(d.editedItem,g),eventSource:a,completed:!b}));
this._layoutRenderers(this.renderData);this._edProps=null},_onItemEditEnd:function(a){this._dispatchCalendarEvt(a,"onItemEditEnd");if(!a.isDefaultPrevented())if(a.completed){var b=this.get("store");b.put(a.item,b)}else{a.item.startTime=this._editStartTimeSave;a.item.endTime=this._editEndTimeSave}},onItemEditEnd:function(){},_createItemEditEvent:function(){return{cancelable:true,bubbles:false,__defaultPrevent:false,preventDefault:function(){this.__defaultPrevented=true},isDefaultPrevented:function(){return this.__defaultPrevented}}},
_startItemEditingGesture:function(a,b,d,g){var f=this._edProps;if(f&&f.editedItem!=null){this._editingGesture=true;var k=f.editedItem;f.editKind=b;this._onItemEditBeginGesture(this.__fixEvt(n.mixin(this._createItemEditEvent(),{item:k,startTime:k.startTime,endTime:k.endTime,editKind:b,rendererKind:f.rendererKind,triggerEvent:g,dates:a,eventSource:d})));f.itemBeginDispatched=true}},_onItemEditBeginGesture:function(a){var b=this._edProps,d=b.editedItem,g=a.dates;b.editingTimeFrom=[];b.editingTimeFrom[0]=
g[0];b.editingItemRefTime=[];b.editingItemRefTime[0]=this.newDate(b.editKind=="resizeEnd"?d.endTime:d.startTime);if(b.editKind=="resizeBoth"){b.editingTimeFrom[1]=g[1];b.editingItemRefTime[1]=this.newDate(d.endTime)}g=this.renderData.dateModule;b.inViewOnce=this._isItemInView(d);if(b.rendererKind=="label"||this.roundToDay){b._itemEditBeginSave=this.newDate(d.startTime);b._itemEditEndSave=this.newDate(d.endTime)}b._initDuration=g.difference(d.startTime,d.endTime,d.allDay?"day":"millisecond");this._dispatchCalendarEvt(a,
"onItemEditBeginGesture");if(!a.isDefaultPrevented()&&a.eventSource=="mouse"){b.editLayer=l.create("div",{style:"position: absolute; left:0; right:0; bottom:0; top:0; z-index:30; tabIndex:-1; background-image:url('"+this._blankGif+"'); cursor: "+(a.editKind=="move"?"move":this.resizeCursor),onresizestart:function(){return false},onselectstart:function(){return false}},this.domNode);b.editLayer.focus()}},onItemEditBeginGesture:function(){},_waDojoxAddIssue:function(a,b,d){var g=this.renderData.dateModule;
if(this._calendar!="gregorian"&&d<0){a=a.toGregorian();a=y.add(a,b,d);return new this.renderData.dateClassObj(a)}return g.add(a,b,d)},_computeItemEditingTimes:function(a,b,d,g){var a=this.renderData.dateModule,d=this._edProps,f=a.difference(d.editingTimeFrom[0],g[0],"millisecond");g[0]=this._waDojoxAddIssue(d.editingItemRefTime[0],"millisecond",f);if(b=="resizeBoth"){f=a.difference(d.editingTimeFrom[1],g[1],"millisecond");g[1]=this._waDojoxAddIssue(d.editingItemRefTime[1],"millisecond",f)}return g},
_moveOrResizeItemGesture:function(a,b,d){if(this._isEditing&&a[0]!=null){var g=this._edProps,f=g.editedItem,k=this.renderData.dateModule,c=g.editKind,h=[a[0]];c=="resizeBoth"&&(h[1]=a[1]);var h=this._computeItemEditingTimes(f,g.editKind,g.rendererKind,h,b),e=h[0],l=false,a=n.clone(f.startTime),m=n.clone(f.endTime),j=g.eventSource=="keyboard"?false:this.allowStartEndSwap;if(c=="move"){if(k.compare(f.startTime,e)!=0){l=k.difference(f.startTime,f.endTime,"millisecond");f.startTime=this.newDate(e);f.endTime=
k.add(f.startTime,"millisecond",l);l=true}}else if(c=="resizeStart"){if(k.compare(f.startTime,e)!=0){if(k.compare(f.endTime,e)!=-1)f.startTime=this.newDate(e);else if(j){f.startTime=this.newDate(f.endTime);f.endTime=this.newDate(e);g.editKind=c="resizeEnd";if(b=="touch"){g.resizeEndTouchIndex=g.resizeStartTouchIndex;g.resizeStartTouchIndex=-1}}else{f.startTime=this.newDate(f.endTime);f.startTime.setHours(e.getHours());f.startTime.setMinutes(e.getMinutes());f.startTime.setSeconds(e.getSeconds())}l=
true}}else if(c=="resizeEnd"){if(k.compare(f.endTime,e)!=0){if(k.compare(f.startTime,e)!=1)f.endTime=this.newDate(e);else if(j){f.endTime=this.newDate(f.startTime);f.startTime=this.newDate(e);g.editKind=c="resizeStart";if(b=="touch"){g.resizeStartTouchIndex=g.resizeEndTouchIndex;g.resizeEndTouchIndex=-1}}else{f.endTime=this.newDate(f.startTime);f.endTime.setHours(e.getHours());f.endTime.setMinutes(e.getMinutes());f.endTime.setSeconds(e.getSeconds())}l=true}}else if(c=="resizeBoth"){l=true;e=this.newDate(e);
h=this.newDate(h[1]);if(k.compare(e,h)!=-1)if(j){j=e;e=h;h=j}else l=false;if(l){f.startTime=e;f.endTime=h}}else return false;if(!l)return false;b=n.mixin(this._createItemEditEvent(),{item:f,startTime:f.startTime,endTime:f.endTime,editKind:c,rendererKind:g.rendererKind,triggerEvent:d,eventSource:b});c=="move"?this._onItemEditMoveGesture(b):this._onItemEditResizeGesture(b);if(k.compare(f.startTime,f.endTime)==1){c=f.startTime;f.startTime=f.startTime;f.endTime=c}l=k.compare(a,f.startTime)!=0||k.compare(m,
f.endTime)!=0;if(!l)return false;this._layoutRenderers(this.renderData);if(g.liveLayout&&g.secItem!=null){g.secItem.startTime=f.startTime;g.secItem.endTime=f.endTime;this._secondarySheet._layoutRenderers(this._secondarySheet.renderData)}else if(g.ownerItem!=null&&this.owner.liveLayout){g.ownerItem.startTime=f.startTime;g.ownerItem.endTime=f.endTime;this.owner._layoutRenderers(this.owner.renderData)}return true}},_findRenderItem:function(a,b){for(var b=b||this.renderData.items,d=0;d<b.length;d++)if(b[d].id==
a)return b[d];return null},_onItemEditMoveGesture:function(a){this._dispatchCalendarEvt(a,"onItemEditMoveGesture");if(!a.isDefaultPrevented()){var b=a.source._edProps,d=this.renderData,g=d.dateModule;if(b.rendererKind=="label"||this.roundToDay&&!a.item.allDay){d=this.floorToDay(a.item.startTime,false,d);d.setHours(b._itemEditBeginSave.getHours());d.setMinutes(b._itemEditBeginSave.getMinutes());g=g.add(d,"millisecond",b._initDuration)}else if(a.item.allDay){d=this.floorToDay(a.item.startTime,true);
g=g.add(d,"day",b._initDuration)}else{d=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps);g=g.add(d,"millisecond",b._initDuration)}a.item.startTime=d;a.item.endTime=g;if(!b.inViewOnce)b.inViewOnce=this._isItemInView(a.item);b.inViewOnce&&this.stayInView&&this._ensureItemInView(a.item)}},_DAY_IN_MILLISECONDS:864E5,onItemEditMoveGesture:function(){},_onItemEditResizeGesture:function(a){this._dispatchCalendarEvt(a,"onItemEditResizeGesture");if(!a.isDefaultPrevented()){var b=a.source._edProps,
d=this.renderData,g=d.dateModule,f=a.item.startTime,k=a.item.endTime;if(a.editKind=="resizeStart")if(a.item.allDay)f=this.floorToDay(a.item.startTime,false,this.renderData);else if(this.roundToDay){f=this.floorToDay(a.item.startTime,false,d);f.setHours(b._itemEditBeginSave.getHours());f.setMinutes(b._itemEditBeginSave.getMinutes())}else f=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps);else if(a.editKind=="resizeEnd")if(a.item.allDay){if(!this.isStartOfDay(a.item.endTime)){k=this.floorToDay(a.item.endTime,
false,this.renderData);k=g.add(k,"day",1)}}else if(this.roundToDay){k=this.floorToDay(a.item.endTime,false,d);k.setHours(b._itemEditEndSave.getHours());k.setMinutes(b._itemEditEndSave.getMinutes())}else{k=this.floorDate(a.item.endTime,this.snapUnit,this.snapSteps);a.eventSource=="mouse"&&(k=g.add(k,this.snapUnit,this.snapSteps))}else{f=this.floorDate(a.item.startTime,this.snapUnit,this.snapSteps);k=this.floorDate(a.item.endTime,this.snapUnit,this.snapSteps);k=g.add(k,this.snapUnit,this.snapSteps)}a.item.startTime=
f;a.item.endTime=k;d=a.item.allDay||b._initDuration>=this._DAY_IN_MILLISECONDS&&!this.allowResizeLessThan24H;this.ensureMinimalDuration(this.renderData,a.item,d?"day":this.minDurationUnit,d?1:this.minDurationSteps,a.editKind);if(!b.inViewOnce)b.inViewOnce=this._isItemInView(a.item);b.inViewOnce&&this.stayInView&&this._ensureItemInView(a.item)}},onItemEditResizeGesture:function(){},_endItemEditingGesture:function(a,b){if(this._isEditing){this._editingGesture=false;var d=this._edProps,g=d.editedItem;
d.itemBeginDispatched=false;this._onItemEditEndGesture(n.mixin(this._createItemEditEvent(),{item:g,startTime:g.startTime,endTime:g.endTime,editKind:d.editKind,rendererKind:d.rendererKind,triggerEvent:b,eventSource:a}))}},_onItemEditEndGesture:function(a){var b=this._edProps;delete b._itemEditBeginSave;delete b._itemEditEndSave;this._dispatchCalendarEvt(a,"onItemEditEndGesture");if(!a.isDefaultPrevented()&&b.editLayer){if(m("ie"))b.editLayer.style.cursor="default";setTimeout(n.hitch(this,function(){if(this.domNode){this.domNode.focus();
b.editLayer.parentNode.removeChild(b.editLayer);b.editLayer=null}}),10)}},onItemEditEndGesture:function(){},ensureMinimalDuration:function(a,b,d,g,f){a=a.dateModule;if(f=="resizeStart"){d=a.add(b.endTime,d,-g);if(a.compare(b.startTime,d)==1)b.startTime=d}else{d=a.add(b.startTime,d,g);if(a.compare(b.endTime,d)==-1)b.endTime=d}},doubleTapDelay:300,snapUnit:"minute",snapSteps:15,minDurationUnit:"hour",minDurationSteps:1,liveLayout:false,stayInView:true,allowStartEndSwap:true,allowResizeLessThan24H:false})})},
"dojox/calendar/Touch":function(){define("dojox/calendar/Touch","dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/dom dojo/dom-geometry dojo/_base/window dojo/on dojo/_base/event dojo/keys".split(" "),function(v,n,s,o,q,j,m,e){return s("dojox.calendar.Touch",null,{touchStartEditingTimer:500,touchEndEditingTimer:1E4,postMixInProperties:function(){this.on("rendererCreated",n.hitch(this,function(h){var c=h.renderer;if(!c.__handles)c.__handles=[];h=m(c.domNode,"touchstart",n.hitch(this,function(h){this._onRendererTouchStart(h,
c)}));c.__handles.push(h)}))},_onRendererTouchStart:function(h,c){var l=this._edProps;if(l&&l.endEditingTimer){clearTimeout(l.endEditingTimer);l.endEditingTimer=null}var t=c.item.item;if(l&&l.endEditingTimer){clearTimeout(l.endEditingTimer);l.endEditingTimer=null}if(l!=null&&l.item!=t){l.startEditingTimer&&clearTimeout(l.startEditingTimer);this._endItemEditing("touch",false);l=null}if(!l){var o=[];o.push(m(j.doc,"touchend",n.hitch(this,this._docEditingTouchEndHandler)));o.push(m(this.itemContainer,
"touchmove",n.hitch(this,this._docEditingTouchMoveHandler)));this._setEditingProperties({touchMoved:false,item:t,renderer:c,rendererKind:c.rendererKind,event:h,handles:o,liveLayout:this.liveLayout});l=this._edProps}if(this._isEditing){n.mixin(l,this._getTouchesOnRenderers(h,l.editedItem));this._startTouchItemEditingGesture(h)}else if(h.touches.length>1)e.stop(h);else{this._touchSelectionTimer=setTimeout(n.hitch(this,function(){this._saveSelectedItems=this.get("selectedItems");this.selectFromEvent(h,
this.renderItemToItem(t,this.get("store")),c,false)?this._pendingSelectedItem=t:delete this._saveSelectedItems;this._touchSelectionTimer=null}),200);l.start={x:h.touches[0].screenX,y:h.touches[0].screenY};if(this.isItemEditable(l.item,l.rendererKind))this._edProps.startEditingTimer=setTimeout(n.hitch(this,function(){if(this._touchSelectionTimer){clearTimeout(this._touchSelectionTimer);delete this._touchSelectionTime}if(this._pendingSelectedItem){this.dispatchChange(this._saveSelectedItems==null?null:
this._saveSelectedItems[0],this._pendingSelectedItem,null,h);delete this._saveSelectedItems;delete this._pendingSelectedItem}else this.selectFromEvent(h,this.renderItemToItem(t,this.get("store")),c);this._startItemEditing(l.item,"touch",h);l.moveTouchIndex=0;this._startItemEditingGesture([this.getTime(h)],"move","touch",h)}),this.touchStartEditingTimer)}},_docEditingTouchMoveHandler:function(h){var c=this._edProps,l=h.touches[0].screenX,m=h.touches[0].screenY;if(c.startEditingTimer&&(Math.abs(l-c.start.x)>
25||Math.abs(m-c.start.y)>25)){clearTimeout(c.startEditingTimer);c.startEditingTimer=null;clearTimeout(this._touchSelectionTimer);this._touchSelectionTimer=null;if(this._pendingSelectedItem){delete this._pendingSelectedItem;this.selectFromEvent(h,null,null,false)}}c.touchMoved=true;if(this._editingGesture){e.stop(h);if(c.itemBeginDispatched){l=[];m=c.editKind=="resizeEnd"?c.editedItem.endTime:c.editedItem.startTime;switch(c.editKind){case "move":l[0]=this.getTime(h,-1,-1,c.moveTouchIndex==null||c.moveTouchIndex<
0?0:c.moveTouchIndex);break;case "resizeStart":l[0]=this.getTime(h,-1,-1,c.resizeStartTouchIndex);break;case "resizeEnd":l[0]=this.getTime(h,-1,-1,c.resizeEndTouchIndex);break;case "resizeBoth":l[0]=this.getTime(h,-1,-1,c.resizeStartTouchIndex);l[1]=this.getTime(h,-1,-1,c.resizeEndTouchIndex)}this._moveOrResizeItemGesture(l,"touch",h);c.editKind=="move"?this.renderData.dateModule.compare(c.editedItem.startTime,m)==-1?this.ensureVisibility(c.editedItem.startTime,c.editedItem.endTime,"start",this.autoScrollTouchMargin):
this.ensureVisibility(c.editedItem.startTime,c.editedItem.endTime,"end",this.autoScrollTouchMargin):h.editKind=="resizeStart"||h.editKind=="resizeBoth"?this.ensureVisibility(c.editedItem.startTime,c.editedItem.endTime,"start",this.autoScrollTouchMargin):this.ensureVisibility(c.editedItem.startTime,c.editedItem.endTime,"end",this.autoScrollTouchMargin)}}},autoScrollTouchMargin:10,_docEditingTouchEndHandler:function(h){e.stop(h);var c=this._edProps;if(c.startEditingTimer){clearTimeout(c.startEditingTimer);
c.startEditingTimer=null}if(this._isEditing){n.mixin(c,this._getTouchesOnRenderers(h,c.editedItem));if(this._editingGesture)if(c.touchesLen==0){this._endItemEditingGesture("touch",h);if(this.touchEndEditingTimer>0)c.endEditingTimer=setTimeout(n.hitch(this,function(){this._endItemEditing("touch",false)}),this.touchEndEditingTimer)}else{this._editingGesture&&this._endItemEditingGesture("touch",h);this._startTouchItemEditingGesture(h)}}else{if(c.touchMoved){if(this._saveSelectedItems){this.set("selectedItems",
this._saveSelectedItems);delete this._saveSelectedItems;delete this._pendingSelectedItem}v.forEach(c.handles,function(c){c.remove()})}else{e.stop(h);v.forEach(c.handles,function(c){c.remove()});if(this._touchSelectionTimer){clearTimeout(this._touchSelectionTimer);this.selectFromEvent(h,this.renderItemToItem(c.item,this.get("store")),c.renderer,true)}else if(this._pendingSelectedItem){this.dispatchChange(this._saveSelectedItems.length==0?null:this._saveSelectedItems[0],this._pendingSelectedItem,null,
h);delete this._saveSelectedItems;delete this._pendingSelectedItem}if(this._pendingDoubleTap&&this._pendingDoubleTap.item==c.item){this._onItemDoubleClick({triggerEvent:h,renderer:c.renderer,item:this.itemToRenderItem(c.item,this.get("store"))});clearTimeout(this._pendingDoubleTap.timer);delete this._pendingDoubleTap}else{this._pendingDoubleTap={item:c.item,timer:setTimeout(n.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)};this._onItemClick({triggerEvent:h,renderer:c.renderer,
item:this.itemToRenderItem(c.item,this.get("store"))})}}this._edProps=null}},_startTouchItemEditingGesture:function(h){var c=this._edProps,e=c.resizeStartTouchIndex!=-1,m=c.resizeEndTouchIndex!=-1;if(e&&m||this._editingGesture&&c.touchesLen==2&&(m&&c.editKind=="resizeStart"||e&&c.editKind=="resizeEnd")){this._editingGesture&&c.editKind!="resizeBoth"&&this._endItemEditingGesture("touch",h);c.editKind="resizeBoth";this._startItemEditingGesture([this.getTime(h,-1,-1,c.resizeStartTouchIndex),this.getTime(h,
-1,-1,c.resizeEndTouchIndex)],c.editKind,"touch",h)}else e&&c.touchesLen==1&&!this._editingGesture?this._startItemEditingGesture([this.getTime(h,-1,-1,c.resizeStartTouchIndex)],"resizeStart","touch",h):m&&c.touchesLen==1&&!this._editingGesture?this._startItemEditingGesture([this.getTime(h,-1,-1,c.resizeEndTouchIndex)],"resizeEnd","touch",h):this._startItemEditingGesture([this.getTime(h)],"move","touch",h)},_getTouchesOnRenderers:function(e,c){for(var l=this._getStartEndRenderers(c),m=-1,j=-1,n=-1,
w=l[0]!=null&&l[0].resizeStartHandle!=null,q=l[1]!=null&&l[1].resizeEndHandle!=null,s=0,v=false,u=this.itemToRenderer[c.id],a=0;a<e.touches.length;a++){if(m==-1&&w)if(v=o.isDescendant(e.touches[a].target,l[0].resizeStartHandle)){m=a;s++}if(j==-1&&q)if(v=o.isDescendant(e.touches[a].target,l[1].resizeEndHandle)){j=a;s++}if(m==-1&&j==-1)for(var b=0;b<u.length;b++)if(v=o.isDescendant(e.touches[a].target,u[b].container)){n=a;s++;break}if(m!=-1&&j!=-1&&n!=-1)break}return{touchesLen:s,resizeStartTouchIndex:m,
resizeEndTouchIndex:j,moveTouchIndex:n}}})})},"dojox/calendar/_VerticalScrollBarBase":function(){define("dojox/calendar/_VerticalScrollBarBase","dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/on dojo/dom-style dijit/_WidgetBase".split(" "),function(v,n,s,o,q,j){return v("dojox.calendar._VerticalScrollBarBase",j,{value:0,minimum:0,maximum:100,_scrollHandle:null,buildRendering:function(){this.inherited(arguments);this._scrollHandle=o(this.domNode,"scroll",s.hitch(this,function(){this.value=
this._getDomScrollerValue();this.onChange(this.value);this.onScroll(this.value)}))},destroy:function(m){this._scrollHandle.remove();this.inherited(arguments)},_getDomScrollerValue:function(){return this.domNode.scrollTop},_setDomScrollerValue:function(m){this.domNode.scrollTop=m},_setValueAttr:function(m){m=Math.min(this.maximum,m);m=Math.max(this.minimum,m);if(this.value!=m){this.value=m;this.onChange(m);this._setDomScrollerValue(m)}},onChange:function(){},onScroll:function(){},_setMinimumAttr:function(m){this.minimum=
m=Math.min(m,this.maximum)},_setMaximumAttr:function(m){this.maximum=m=Math.max(m,this.minimum);q.set(this.content,"height",m+"px")}})})},"url:dojox/calendar/templates/MonthColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\t\t\t\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\t\n</div>\n',
"url:dojox/calendar/templates/MobileHorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px"><span data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</span></div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px"><span data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</span></div>\n\t<div data-dojo-attach-point="moveHandle" class="moveHandle" ></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeHandle resizeStartHandle"><div></div></div>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeHandle resizeEndHandle"><div></div></div>\t\n</div>\n',
"url:dojox/calendar/templates/MatrixView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t</div>\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\t\n\t<div dojoAttachPoint="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div dojoAttachPoint="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\t\n</div>\n',
"dojox/calendar/StoreMixin":function(){define("dojox/calendar/StoreMixin","dojo/_base/declare dojo/_base/array dojo/_base/html dojo/_base/lang dojo/dom-class dojo/Stateful dojo/when".split(" "),function(v,n,s,o,q,j,m){return v("dojox.calendar.StoreMixin",j,{store:null,query:{},startTimeAttr:"startTime",endTimeAttr:"endTime",summaryAttr:"summary",allDayAttr:"allDay",cssClassFunc:null,decodeDate:null,encodeDate:null,displayedItemsInvalidated:false,itemToRenderItem:function(e,h){return this.owner?this.owner.itemToRenderItem(e,
h):{id:h.getIdentity(e),summary:e[this.summaryAttr],startTime:this.decodeDate&&this.decodeDate(e[this.startTimeAttr])||this.newDate(e[this.startTimeAttr],this.dateClassObj),endTime:this.decodeDate&&this.decodeDate(e[this.endTimeAttr])||this.newDate(e[this.endTimeAttr],this.dateClassObj),allDay:e[this.allDayAttr]!=null?e[this.allDayAttr]:false,cssClass:this.cssClassFunc?this.cssClassFunc(e):null}},renderItemToItem:function(e,h){if(this.owner)return this.owner.renderItemToItem(e,h);var c={};c[h.idProperty]=
e.id;c[this.summaryAttr]=e.summary;c[this.startTimeAttr]=this.encodeDate&&this.encodeDate(e.startTime)||e.startTime;c[this.endTimeAttr]=this.encodeDate&&this.encodeDate(e.endTime)||e.endTime;return o.mixin(h.get(e.id),c)},_computeVisibleItems:function(e){var h=e.startTime,c=e.endTime;if(this.items)e.items=n.filter(this.items,function(l){return this.isOverlapping(e,l.startTime,l.endTime,h,c)},this)},_initItems:function(e){this.set("items",e);return e},_refreshItemsRendering:function(){},_updateItems:function(e,
h,c){var l=true,m=null,e=this.itemToRenderItem(e,this.store);if(h!=-1)if(c!=h){this.items.splice(h,1);if(this.setItemSelected&&this.isItemSelected(e)){this.setItemSelected(e,false);this.dispatchChange(e,this.get("selectedItem"),null,null)}}else{m=this.items[h];h=this.dateModule;l=h.compare(e.startTime,m.startTime)!=0||h.compare(e.endTime,m.endTime)!=0;o.mixin(m,e)}else c!=-1&&this.items.splice(c,0,e);l?this._refreshItemsRendering():this.updateRenderers(m)},_setStoreAttr:function(e){this.displayedItemsInvalidated=
true;var h;if(e){h=e.query(this.query);h.observe&&h.observe(o.hitch(this,this._updateItems),true);h=h.map(o.hitch(this,function(c){return this.itemToRenderItem(c,e)}));h=m(h,o.hitch(this,this._initItems))}else h=this._initItems([]);this._set("store",e);return h}})})},"dojox/calendar/LabelRenderer":function(){require({cache:{"url:dojox/calendar/templates/LabelRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarLabel" onselectstart="return false;">\t\n\t<div class="labels">\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\t\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n</div>\n'}});
define("dojox/calendar/LabelRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/LabelRenderer.html"],function(v,n,s,o,q){return v("dojox.calendar.LabelRenderer",[n,s,o],{templateString:q,_orientation:"horizontal",resizeEnabled:!1,visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:45,endTimeLabel:30},_isElementVisible:function(j,m,e,h){switch(j){case "startTimeLabel":var c=this.item.startTime;
if(this.item.isAllDay||0==c.getHours()&&0==c.getMinutes()&&0==c.getSeconds()&&0==c.getMilliseconds())return!1}return this.inherited(arguments)},_displayValue:"inline",postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"dojox/calendar/SimpleColumnView":function(){require({cache:{"url:dojox/calendar/templates/SimpleColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n</div>\n\n'}});
define("dojox/calendar/SimpleColumnView","./ViewBase dijit/_TemplatedMixin ./_VerticalScrollBarBase dojo/text!./templates/SimpleColumnView.html dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/array dojo/_base/sniff dojo/_base/fx dojo/_base/html dojo/on dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/mouse dojo/query dojox/html/metrics".split(" "),function(v,n,s,o,q,j,m,e,h,c,l,t,y,r,w,A,x,C,u,a){return q("dojox.calendar.SimpleColumnView",[v,n],{baseClass:"dojoxCalendarSimpleColumnView",
templateString:o,viewKind:"columns",_setTabIndexAttr:"domNode",renderData:null,startDate:null,columnCount:7,minHours:8,maxHours:18,hourSize:100,timeSlotDuration:15,verticalRenderer:null,percentOverlap:70,horizontalGap:4,_columnHeaderHandlers:null,constructor:function(){this.invalidatingProperties=["columnCount","startDate","minHours","maxHours","hourSize","verticalRenderer","rowHeaderTimePattern","columnHeaderDatePattern","timeSlotDuration","percentOverlap","horizontalGap","scrollBarRTLPosition",
"itemToRendererKindFunc","layoutPriorityFunction","formatItemTimeFunc","textDir","items"];this._columnHeaderHandlers=[]},destroy:function(b){this._cleanupColumnHeader();this.scrollBar&&this.scrollBar.destroy(b);this.inherited(arguments)},_scrollBar_onScroll:function(b){this._setScrollPosition(b)},buildRendering:function(){this.inherited(arguments);if(this.vScrollBar){this.scrollBar=new s({content:this.vScrollBarContent},this.vScrollBar);this.scrollBar.on("scroll",m.hitch(this,this._scrollBar_onScroll));
this._viewHandles.push(t(this.scrollContainer,C.wheel,dojo.hitch(this,this._mouseWheelScrollHander)))}},postscript:function(){this.inherited(arguments);this._initialized=true;this.invalidRendering||this.refreshRendering()},_setVerticalRendererAttr:function(b){this._destroyRenderersByKind("vertical");this._set("verticalRenderer",b)},_createRenderData:function(){var b={};b.minHours=this.get("minHours");b.maxHours=this.get("maxHours");b.hourSize=this.get("hourSize");b.hourCount=b.maxHours-b.minHours;
b.slotDuration=this.get("timeSlotDuration");b.slotSize=Math.ceil(b.hourSize/(60/b.slotDuration));b.hourSize=b.slotSize*(60/b.slotDuration);b.sheetHeight=b.hourSize*b.hourCount;b.scrollbarWidth=a.getScrollbar().w+1;b.dateLocaleModule=this.dateLocaleModule;b.dateClassObj=this.dateClassObj;b.dateModule=this.dateModule;b.dates=[];b.columnCount=this.get("columnCount");var d=this.get("startDate");d==null&&(d=new b.dateClassObj);this.startDate=d=this.floorToDay(d,false,b);for(var g=0;g<b.columnCount;g++){b.dates.push(d);
d=b.dateModule.add(d,"day",1);d=this.floorToDay(d,false,b)}b.startTime=new b.dateClassObj(b.dates[0]);b.startTime.setHours(b.minHours);b.endTime=new b.dateClassObj(b.dates[b.columnCount-1]);b.endTime.setHours(b.maxHours);if(this.displayedItemsInvalidated){this.displayedItemsInvalidated=false;this._computeVisibleItems(b);this._isEditing&&this._endItemEditing(null,false)}else if(this.renderData)b.items=this.renderData.items;return b},_validateProperties:function(){this.inherited(arguments);var b=this.minHours;
if(b<0||b>24||isNaN(b))this.minHours=0;b=this.maxHours;if(b<0||b>24||isNaN(b))this.minHours=24;if(this.minHours>this.maxHours){var d=this.maxHours;this.maxHours=this.minHours;this.maxHours=d}if(b-this.minHours<1){this.minHours=0;this.maxHours=24}if(this.columnCount<1||isNaN(this.columnCount))this.columnCount=1;if(this.percentOverlap<0||this.percentOverlap>100||isNaN(this.percentOverlap))this.percentOverlap=70;if(this.hourSize<5||isNaN(this.hourSize))this.hourSize=10;b=this.timeSlotDuration;b<1||b>
60||isNaN(b)},_setStartDateAttr:function(b){this.displayedItemsInvalidated=true;this._set("startDate",b)},_setColumnCountAttr:function(b){this.displayedItemsInvalidated=true;this._set("columnCount",b)},__fixEvt:function(b){b.sheet="primary";b.source=this;return b},_formatRowHeaderLabel:function(b){return this.renderData.dateLocaleModule.format(b,{selector:"time",timePattern:this.rowHeaderTimePattern})},_formatColumnHeaderLabel:function(b){return this.renderData.dateLocaleModule.format(b,{selector:"date",
datePattern:this.columnHeaderDatePattern,formatLength:"medium"})},startTimeOfDay:null,scrollBarRTLPosition:"left",_getStartTimeOfDay:function(){var b=(this.get("maxHours")-this.get("minHours"))*this._getScrollPosition()/this.renderData.sheetHeight;return{hours:this.renderData.minHours+Math.floor(b),minutes:(b-Math.floor(b))*60}},_getEndTimeOfDay:function(){var b=(this.get("maxHours")-this.get("minHours"))*(this._getScrollPosition()+this.scrollContainer.offsetHeight)/this.renderData.sheetHeight;return{hours:this.renderData.minHours+
Math.floor(b),minutes:(b-Math.floor(b))*60}},_setStartTimeOfDayAttr:function(b){this._setStartTimeOfDay(b.hours,b.minutes,b.duration,b.easing)},_getStartTimeOfDayAttr:function(){return this._getStartTimeOfDay()},_setStartTimeOfDay:function(b,d,a,f){var k=this.renderData,b=b||k.minHours,d=d||0,a=a||0;d<0?d=0:d>59&&(d=59);b<0?b=0:b>24&&(b=24);var b=b*60+d,d=k.minHours*60,c=k.maxHours*60;b<d?b=d:b>c&&(b=c);b=(b-d)*k.sheetHeight/(c-d);b=Math.min(k.sheetHeight-this.scrollContainer.offsetHeight,b);this._scrollToPosition(b,
a,f)},_scrollToPosition:function(b,d,a){if(d){this._scrollAnimation&&this._scrollAnimation.stop();var f=this._getScrollPosition(),d=Math.abs((b-f)*d/this.renderData.sheetHeight);this._scrollAnimation=new c.Animation({curve:[f,b],duration:d,easing:a,onAnimate:m.hitch(this,function(b){this._setScrollImpl(b)})});this._scrollAnimation.play()}else this._setScrollImpl(b)},_setScrollImpl:function(b){this._setScrollPosition(b);this.scrollBar&&this.scrollBar.set("value",b)},ensureVisibility:function(b,d,a,
f,k){f=f==void 0?this.renderData.slotDuration:f;if(this.scrollable&&this.autoScroll){var b=b.getHours()*60+b.getMinutes()-f,d=d.getHours()*60+d.getMinutes()+f,f=this._getStartTimeOfDay(),c=this._getEndTimeOfDay(),f=f.hours*60+f.minutes,c=c.hours*60+c.minutes,e=false,h=null;switch(a){case "start":e=b>=f&&b<=c;h=b;break;case "end":e=d>=f&&d<=c;h=d-(c-f);break;case "both":e=b>=f&&d<=c;h=b}e||this._setStartTimeOfDay(Math.floor(h/60),h%60,k)}},scrollView:function(b){var d=this._getStartTimeOfDay(),d=d.hours*
60+d.minutes+b*this.timeSlotDuration;this._setStartTimeOfDay(Math.floor(d/60),d%60)},_mouseWheelScrollHander:function(b){this.scrollView(b.wheelDelta>0?-1:1)},refreshRendering:function(){if(this._initialized){this._validateProperties();var b=this.renderData,d=this._createRenderData();this.renderData=d;this._createRendering(d,b);this._layoutRenderers(d)}},_createRendering:function(b,d){w.set(this.sheetContainer,"height",b.sheetHeight+"px");this._configureScrollBar(b);this._buildColumnHeader(b,d);this._buildRowHeader(b,
d);this._buildGrid(b,d);this._buildItemContainer(b,d)},_configureScrollBar:function(b){h("ie")&&this.scrollBar&&w.set(this.scrollBar.domNode,"width",b.scrollbarWidth+1+"px");var d=this.isLeftToRight()?true:this.scrollBarRTLPosition=="right",a=d?"right":"left",f=d?"left":"right";if(this.scrollBar){this.scrollBar.set("maximum",b.sheetHeight);w.set(this.scrollBar.domNode,a,0);w.set(this.scrollBar.domNode,d?"left":"right","auto")}w.set(this.scrollContainer,a,b.scrollbarWidth+"px");w.set(this.scrollContainer,
f,"0");w.set(this.header,a,b.scrollbarWidth+"px");w.set(this.header,f,"0");if(this.buttonContainer&&this.owner!=null&&this.owner.currentView==this){w.set(this.buttonContainer,a,b.scrollbarWidth+"px");w.set(this.buttonContainer,f,"0")}},_columnHeaderClick:function(b){j.stop(b);var d=u("td",this.columnHeaderTable).indexOf(b.currentTarget);this._onColumnHeaderClick({index:d,date:this.renderData.dates[d],triggerEvent:b})},_buildColumnHeader:function(b,d){var a=this.columnHeaderTable;if(a){var f=b.columnCount-
(d?d.columnCount:0);if(h("ie")==8)if(this._colTableSave==null)this._colTableSave=m.clone(a);else if(f<0){this._cleanupColumnHeader();this.columnHeader.removeChild(a);x.destroy(a);this.columnHeaderTable=a=m.clone(this._colTableSave);this.columnHeader.appendChild(a);f=b.columnCount}var k=u("tbody",a),c=u("tr",a),e,k=k.length==1?k[0]:l.create("tbody",null,a),c=c.length==1?c[0]:x.create("tr",null,k);if(f>0)for(k=0;k<f;k++){e=x.create("td",null,c);var n=[];n.push(t(e,"click",m.hitch(this,this._columnHeaderClick)));
if(h("touch")){n.push(t(e,"touchstart",function(b){j.stop(b);r.add(b.currentTarget,"Active")}));n.push(t(e,"touchend",function(b){j.stop(b);r.remove(b.currentTarget,"Active")}))}else{n.push(t(e,"mousedown",function(b){j.stop(b);r.add(b.currentTarget,"Active")}));n.push(t(e,"mouseup",function(b){j.stop(b);r.remove(b.currentTarget,"Active")}));n.push(t(e,"mouseover",function(b){j.stop(b);r.add(b.currentTarget,"Hover")}));n.push(t(e,"mouseout",function(b){j.stop(b);r.remove(b.currentTarget,"Hover")}))}this._columnHeaderHandlers.push(n)}else{f=
-f;for(k=0;k<f;k++){e=c.lastChild;c.removeChild(e);x.destroy(e);for(e=this._columnHeaderHandlers.pop();e.length>0;)e.pop().remove()}}u("td",a).forEach(function(d,a){d.className="";a==0?r.add(d,"first-child"):a==this.renderData.columnCount-1&&r.add(d,"last-child");var f=b.dates[a];this._setText(d,this._formatColumnHeaderLabel(f));this.styleColumnHeaderCell(d,f,b)},this);this.yearColumnHeaderContent&&this._setText(this.yearColumnHeaderContent,b.dateLocaleModule.format(b.dates[0],{selector:"date",datePattern:"yyyy"}))}},
_cleanupColumnHeader:function(){for(;this._columnHeaderHandlers.length>0;)for(var b=this._columnHeaderHandlers.pop();b.length>0;)b.pop().remove()},styleColumnHeaderCell:function(b,d){if(this.isToday(d))return r.add(b,"dojoxCalendarToday");if(this.isWeekEnd(d))return r.add(b,"dojoxCalendarWeekend")},_buildRowHeader:function(b,d){var a=this.rowHeaderTable;if(a){w.set(a,"height",b.sheetHeight+"px");var f=u("tbody",a),k,f=f.length==1?f[0]:x.create("tbody",null,a),c=b.hourCount-(d?d.hourCount:0);if(c>
0)for(var e=0;e<c;e++){k=x.create("tr",null,f);x.create("td",null,k)}else{c=-c;for(e=0;e<c;e++)f.removeChild(f.lastChild)}var m=new Date(2E3,0,1,0,0,0);u("tr",a).forEach(function(d,a){var f=u("td",d)[0];f.className="";var g=b.hourSize;h("ie")==7&&(g=g-2);w.set(d,"height",g+"px");m.setHours(this.renderData.minHours+a);this.styleRowHeaderCell(f,m.getHours(),b);this._setText(f,this._formatRowHeaderLabel(m))},this)}},styleRowHeaderCell:function(){},_buildGrid:function(b,d){var a=this.gridTable;if(a){w.set(a,
"height",b.sheetHeight+"px");var f=Math.floor(60/b.slotDuration)*b.hourCount,k=f-(d?Math.floor(60/d.slotDuration)*d.hourCount:0),c=k>0,e=b.columnCount-(d?d.columnCount:0);if(h("ie")==8)if(this._gridTableSave==null)this._gridTableSave=m.clone(a);else if(e<0){this.grid.removeChild(a);x.destroy(a);this.gridTable=a=m.clone(this._gridTableSave);this.grid.appendChild(a);e=b.columnCount;k=f;c=true}var l=u("tbody",a),l=l.length==1?l[0]:x.create("tbody",null,a);if(c)for(var j=0;j<k;j++)x.create("tr",null,
l);else{k=-k;for(j=0;j<k;j++)l.removeChild(l.lastChild)}var n=Math.floor(60/b.slotDuration)*b.hourCount-k,t=c||e>0,e=t?e:-e;u("tr",a).forEach(function(d,a){if(t)for(var f=a>=n?b.columnCount:e,a=0;a<f;a++)x.create("td",null,d);else for(a=0;a<e;a++)d.removeChild(d.lastChild)});u("tr",a).forEach(function(d,a){w.set(d,"height",b.slotSize+"px");a==0?r.add(d,"first-child"):a==f-1&&r.add(d,"last-child");var g=a*this.renderData.slotDuration%60;u("td",d).forEach(function(d,a){d.className="";a==0?r.add(d,"first-child"):
a==this.renderData.columnCount-1&&r.add(d,"last-child");this.styleGridColumn(d,b.dates[a],b);switch(g){case 0:r.add(d,"hour");break;case 30:r.add(d,"halfhour");break;case 15:case 45:r.add(d,"quarterhour")}},this)},this)}},styleGridColumn:function(b,d){if(this.isToday(d))return r.add(b,"dojoxCalendarToday");if(this.isWeekEnd(d))return r.add(b,"dojoxCalendarWeekend")},_buildItemContainer:function(b,d){var a=this.itemContainerTable;if(a){var f=[];w.set(a,"height",b.sheetHeight+"px");var k=b.columnCount-
(d?d.columnCount:0);if(h("ie")==8)if(this._itemTableSave==null)this._itemTableSave=m.clone(a);else if(k<0){this.itemContainer.removeChild(a);this._recycleItemRenderers(true);x.destroy(a);this.itemContainerTable=a=m.clone(this._itemTableSave);this.itemContainer.appendChild(a);k=b.columnCount}var c=u("tbody",a),e=u("tr",a),c=c.length==1?c[0]:x.create("tbody",null,a),e=e.length==1?e[0]:x.create("tr",null,c);if(k>0)for(var l=0;l<k;l++){c=x.create("td",null,e);x.create("div",{className:"dojoxCalendarContainerColumn"},
c)}else{k=-k;for(l=0;l<k;l++)e.removeChild(e.lastChild)}u("td>div",a).forEach(function(d){w.set(d,{height:b.sheetHeight+"px"});f.push(d)},this);b.cells=f}},_overlapLayoutPass2:function(b){var d,a,f,k;f=b[b.length-1];for(a=0;a<f.length;a++)f[a].extent=1;for(d=0;d<b.length-1;d++){f=b[d];for(a=0;a<f.length;a++){k=f[a];if(k.extent==-1){k.extent=1;for(var c=0,e=false,h=d+1;h<b.length&&!e;h++){for(var l=b[h],m=0;m<l.length&&!e;m++){var j=l[m];k.start<j.end&&j.start<k.end&&(e=true)}e||c++}k.extent=k.extent+
c}}}},_defaultItemToRendererKindFunc:function(){return"vertical"},_layoutInterval:function(b,d,a,f,k){var c=[];b.colW=this.itemContainer.offsetWidth/b.columnCount;for(var e=0;e<k.length;e++){var h=k[e];this._itemToRendererKind(h)=="vertical"&&c.push(h)}c.length>0&&this._layoutVerticalItems(b,d,a,f,c)},_layoutVerticalItems:function(b,d,a,f,k){if(this.verticalRenderer!=null){for(var d=b.cells[d],c=[],e=0;e<k.length;e++){var h=k[e],l=this.computeRangeOverlap(b,h.startTime,h.endTime,a,f),j=this.computeProjectionOnDate(b,
a,l[0],b.sheetHeight),n=this.computeProjectionOnDate(b,a,l[1],b.sheetHeight);if(n>j){h=m.mixin({start:j,end:n,range:l,item:h},h);c.push(h)}}a=this.computeOverlapping(c,this._overlapLayoutPass2).numLanes;f=this.percentOverlap/100;for(e=0;e<c.length;e++){h=c[e];j=h.lane;l=h.extent;if(f==0){k=a==1?b.colW:(b.colW-(a-1)*this.horizontalGap)/a;j=j*(k+this.horizontalGap);k=l==1?k:k*l+(l-1)*this.horizontalGap;k=100*k/b.colW;j=100*j/b.colW}else{k=a==1?100:100/(a-(a-1)*f);j=j*(k-f*k);k=l==1?k:k*(l-(l-1)*f)}l=
this._createRenderer(h,"vertical",this.verticalRenderer,"dojoxCalendarVertical");w.set(l.container,{top:h.start+"px",left:j+"%",width:k+"%",height:h.end-h.start+1+"px"});var j=this.isItemBeingEdited(h),n=this.isItemSelected(h),t=this.isItemHovered(h),o=this.isItemFocused(h),u=l.renderer;u.set("hovered",t);u.set("selected",n);u.set("edited",j);u.set("focused",this.showFocus?o:false);u.set("moveEnabled",this.isItemMoveEnabled(h,"vertical"));u.set("resizeEnabled",this.isItemResizeEnabled(h,"vertical"));
this.applyRendererZIndex(h,l,t,n,j,o);u.updateRendering&&u.updateRendering(k,h.end-h.start+1);x.place(l.container,d);w.set(l.container,"display","block")}}},_sortItemsFunction:function(b,a){var g=this.dateModule.compare(b.startTime,a.startTime);g==0&&(g=-1*this.dateModule.compare(b.endTime,a.endTime));return this.isLeftToRight()?g:-g},getTime:function(b,a,g,f){if(b!=null){g=A.position(this.itemContainer,true);if(b.touches){f=f==void 0?0:f;a=b.touches[f].pageX-g.x;g=b.touches[f].pageY-g.y}else{a=b.pageX-
g.x;g=b.pageY-g.y}}b=A.getContentBox(this.itemContainer);this.isLeftToRight()||(a=b.w-a);a<0?a=0:a>b.w&&(a=b.w-1);g<0?g=0:g>b.h&&(g=b.h-1);a=Math.floor(a/(A.getMarginBox(this.itemContainer).w/this.renderData.columnCount));g=this.getTimeOfDay(g,this.renderData);b=null;if(a<this.renderData.dates.length){b=this.newDate(this.renderData.dates[a]);b=this.floorToDay(b,true);b.setHours(g.hours);b.setMinutes(g.minutes)}return b},_onGridMouseUp:function(b){this.inherited(arguments);if(this._gridMouseDown){this._gridMouseDown=
false;this._onGridClick({date:this.getTime(b),triggerEvent:b})}},_onGridTouchStart:function(b){this.inherited(arguments);var a=this._gridProps;a.moved=false;a.start=b.touches[0].screenY;a.scrollTop=this._getScrollPosition()},_onGridTouchMove:function(a){this.inherited(arguments);if(a.touches.length>1&&!this._isEditing)j.stop(a);else if(this._gridProps&&!this._isEditing){var d=a.touches[0].screenX,g=a.touches[0].screenY,f=this._edProps;if(!f||f&&(Math.abs(d-f.start.x)>25||Math.abs(g-f.start.y)>25)){this._gridProps.moved=
true;d=this._gridProps.scrollTop-(a.touches[0].screenY-this._gridProps.start);g=this.itemContainer.offsetHeight-this.scrollContainer.offsetHeight;if(d<0){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(0);this._gridProps.scrollTop=0}else if(d>g){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(g);this._gridProps.scrollTop=g}else this._setScrollImpl(d)}}},_onGridTouchEnd:function(a){this.inherited(arguments);var d=this._gridProps;if(d){if(!this._isEditing&&!d.moved){!d.fromItem&&
!d.editingOnStart&&this.selectFromEvent(a,null,null,true);if(!d.fromItem)if(this._pendingDoubleTap&&this._pendingDoubleTap.grid){this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});clearTimeout(this._pendingDoubleTap.timer);delete this._pendingDoubleTap}else{this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});this._pendingDoubleTap={grid:true,timer:setTimeout(m.hitch(this,function(){delete this._pendingDoubleTap}),
this.doubleTapDelay)}}}this._gridProps=null}},_onColumnHeaderClick:function(a){this._dispatchCalendarEvt(a,"onColumnHeaderClick")},onColumnHeaderClick:function(){},getTimeOfDay:function(a,d){var g=d.minHours*60,g=g+a*(d.maxHours*60-g)/d.sheetHeight;return{hours:Math.floor(g/60),minutes:Math.floor(g%60)}},_isItemInView:function(a){var d=this.inherited(arguments);if(d){var g=this.renderData;if(g.dateModule.difference(a.startTime,a.endTime,"millisecond")>(24-g.maxHours+g.minHours)*36E5)return true;var f=
a.startTime.getHours()*60+a.startTime.getMinutes(),k=a.endTime.getHours()*60+a.endTime.getMinutes(),c=g.minHours*60,g=g.maxHours*60;if(f>0&&f<c||f>g&&f<=1440||k>0&&k<c||k>g&&k<=1440)return false}return d},_ensureItemInView:function(a){var d,g=a.startTime,f=a.endTime,k=this.renderData,c=k.dateModule,e=Math.abs(c.difference(a.startTime,a.endTime,"millisecond"));if(e>(24-k.maxHours+k.minHours)*36E5)return false;var g=g.getHours()*60+g.getMinutes(),f=f.getHours()*60+f.getMinutes(),h=k.minHours*60,l=k.maxHours*
60;if(g>0&&g<h){this.floorToDay(a.startTime,true,k);a.startTime.setHours(k.minHours);a.endTime=c.add(a.startTime,"millisecond",e);d=true}else if(g>l&&g<=1440){this.floorToDay(a.startTime,true,k);a.startTime=c.add(a.startTime,"day",1);a.startTime.setHours(k.minHours);a.endTime=c.add(a.startTime,"millisecond",e);d=true}if(f>0&&f<h){this.floorToDay(a.endTime,true,k);a.endTime=c.add(a.endTime,"day",-1);a.endTime.setHours(k.maxHours);a.startTime=c.add(a.endTime,"millisecond",-e);d=true}else if(f>l&&f<=
1440){this.floorToDay(a.endTime,true,k);a.endTime.setHours(k.maxHours);a.startTime=c.add(a.endTime,"millisecond",-e);d=true}return d=d||this.inherited(arguments)},_onScrollTimer_tick:function(){this._scrollToPosition(this._getScrollPosition()+this._scrollProps.scrollStep)},snapUnit:"minute",snapSteps:15,minDurationUnit:"minute",minDurationSteps:15,liveLayout:false,stayInView:true,allowStartEndSwap:true,allowResizeLessThan24H:true})})},"dojox/calendar/ExpandRenderer":function(){require({cache:{"url:dojox/calendar/templates/ExpandRenderer.html":'<div class="dojoxCalendarExpand" onselectstart="return false;" data-dojo-attach-event="click:_onClick,touchstart:_onMouseDown,touchend:_onClick,mousedown:_onMouseDown,mouseup:_onMouseUp,mouseover:_onMouseOver,mouseout:_onMouseOut">\n\t<div class="bg"><span data-dojo-attach-point="expand">\u25bc</span><span style="display:none" data-dojo-attach-point="collapse">\u25b2</span></div>\t\n</div>\n'}});
define("dojox/calendar/ExpandRenderer","dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/_base/window dojo/on dojo/dom-class dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ExpandRenderer.html".split(" "),function(v,n,s,o,q,j,m,e,h,c){return v("dojox.calendar.ExpandRenderer",[e,h],{templateString:c,baseClass:"dojoxCalendarExpand",owner:null,focused:false,up:false,down:false,date:null,items:null,rowIndex:-1,columnIndex:-1,_setExpandedAttr:function(c){m.set(this.expand,
"display",c?"none":"inline-block");m.set(this.collapse,"display",c?"inline-block":"none");this._set("expanded",c)},_setDownAttr:function(c){this._setState("down",c,"Down")},_setUpAttr:function(c){this._setState("up",c,"Up")},_setFocusedAttr:function(c){this._setState("focused",c,"Focused")},_setState:function(c,e,h){if(this[c]!=e){j[e?"add":"remove"](this.stateNode||this.domNode,h);this._set(c,e)}},_onClick:function(c){this.owner&&this.owner.expandRendererClickHandler&&this.owner.expandRendererClickHandler(c,
this)},_onMouseDown:function(c){s.stop(c);this.set("down",true)},_onMouseUp:function(){this.set("down",false)},_onMouseOver:function(c){if(!this.up){c=c.button==1;this.set("up",!c);this.set("down",c)}},_onMouseOut:function(c){for(var e=c.relatedTarget;e!=c.currentTarget&&e!=o.doc.body&&e!=null;)e=e.parentNode;if(e!=c.currentTarget){this.set("up",false);this.set("down",false)}}})})},"url:dojox/calendar/templates/MobileVerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical">\n\t<div class="bg"></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeStartHandle resizeHandle"><div></div></div>\n\t<dl style="width:100%;">\t\t\t\t\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeEndHandle resizeHandle"><div></div></div>\n\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n</div>\n',
"dojox/calendar/_RendererMixin":function(){define("dojox/calendar/_RendererMixin",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/Stateful"],function(v,n,s,o,q){return v("dojox.calendar._RendererMixin",q,{item:null,owner:null,edited:!1,focused:!1,hovered:!1,selected:!1,moveEnabled:!0,resizeEnabled:!0,_orientation:"vertical",_displayValue:"block",_displayValueMap:{},visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:45,endTimeLabel:50},
_setSelectedAttr:function(j){this._setState("selected",j,"Selected")},_setFocusedAttr:function(j){this._setState("focused",j,"Focused")},_setEditedAttr:function(j){this._setState("edited",j,"Edited")},_setHoveredAttr:function(j){this._setState("hovered",j,"Hovered")},_setState:function(j,m,e){this[j]!=m&&(o[m?"add":"remove"](this.stateNode||this.domNode,e),this._set(j,m))},_setItemAttr:function(j){null==j?(this.item&&this.item.cssClass&&o.remove(this.domNode,this.item.cssClass),this.item=null):(null!=
this.item?(this.item.cssClass!=j.cssClass&&this.item.cssClass&&o.remove(this.domNode,this.item.cssClass),this.item=n.mixin(this.item,j)):this.item=j,j.cssClass&&o.add(this.domNode,j.cssClass))},_setText:function(j,m,e){this.owner&&this.owner._setText(j,m,e)},_isElementVisible:function(j,m,e,h){var c,l=this.visibilityLimits[j];switch(j){case "moveHandle":c=this.moveEnabled;break;case "resizeStartHandle":c=this.mobile?this.resizeEnabled&&!m&&this.edited&&(-1==l||h>l):this.resizeEnabled&&!m&&(-1==l||
h>l);break;case "resizeEndHandle":c=this.mobile?this.resizeEnabled&&!e&&this.edited&&(-1==l||h>l):this.resizeEnabled&&!e&&(-1==l||h>l);break;case "startTimeLabel":c=this.mobile?!m&&(!this.edited||this.edited&&(-1==l||h>l)):!m&&(-1==l||h>l);break;case "endTimeLabel":c=this.edited&&!e&&(-1==l||h>l);break;case "summaryLabel":c=this.mobile?!this.edited||this.edited&&(-1==l||h>l):-1==l||h>l}return c},_formatTime:function(j,m){return this.owner&&null!=this.owner.get("formatItemTimeFunc")?this.owner.formatItemTimeFunc(m,
j):j.dateLocaleModule.format(m,{selector:"time"})},getDisplayValue:function(){return this._displayValue},updateRendering:function(j,m){m=m||this.item.h;j=j||this.item.w;if(m||j){this.item.h=m;this.item.w=j;var e="vertical"==this._orientation?m:j,h=this.owner.renderData,c=0!=h.dateModule.compare(this.item.range[0],this.item.startTime),l=0!=h.dateModule.compare(this.item.range[1],this.item.endTime),n;null!=this.beforeIcon&&(n="horizontal"!=this._orientation||this.isLeftToRight()?c:l,s.set(this.beforeIcon,
"display",n?this.getDisplayValue("beforeIcon"):"none"));null!=this.afterIcon&&(n="horizontal"!=this._orientation||this.isLeftToRight()?l:c,s.set(this.afterIcon,"display",n?this.getDisplayValue("afterIcon"):"none"));this.moveHandle&&(n=this._isElementVisible("moveHandle",c,l,e),s.set(this.moveHandle,"display",n?this.getDisplayValue("moveHandle"):"none"));this.resizeStartHandle&&(n=this._isElementVisible("resizeStartHandle",c,l,e),s.set(this.resizeStartHandle,"display",n?this.getDisplayValue("resizeStartHandle"):
"none"));this.resizeEndHandle&&(n=this._isElementVisible("resizeEndHandle",c,l,e),s.set(this.resizeEndHandle,"display",n?this.getDisplayValue("resizeEndHandle"):"none"));this.startTimeLabel&&(n=this._isElementVisible("startTimeLabel",c,l,e),s.set(this.startTimeLabel,"display",n?this.getDisplayValue("startTimeLabel"):"none"),n&&this._setText(this.startTimeLabel,this._formatTime(h,this.item.startTime)));this.endTimeLabel&&(n=this._isElementVisible("endTimeLabel",c,l,e),s.set(this.endTimeLabel,"display",
n?this.getDisplayValue("endTimeLabel"):"none"),n&&this._setText(this.endTimeLabel,this._formatTime(h,this.item.endTime)));this.summaryLabel&&(n=this._isElementVisible("summaryLabel",c,l,e),s.set(this.summaryLabel,"display",n?this.getDisplayValue("summaryLabel"):"none"),n&&this._setText(this.summaryLabel,this.item.summary,!0))}}})})},"dojox/calendar/MonthColumnView":function(){require({cache:{"url:dojox/calendar/templates/MonthColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\t\t\n\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative; width:1px; height:1px;" ></div>\n\t</div>\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\t\t\t\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\t\n</div>\n'}});
define("dojox/calendar/MonthColumnView","./ViewBase dijit/_TemplatedMixin ./_VerticalScrollBarBase dojo/text!./templates/MonthColumnView.html dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/array dojo/_base/sniff dojo/_base/fx dojo/_base/html dojo/on dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/mouse dojo/query dojo/i18n dojox/html/metrics".split(" "),function(v,n,s,o,q,j,m,e,h,c,l,t,y,r,w,A,x,C,u,a,b){return q("dojox.calendar.MonthColumnView",[v,
n],{baseClass:"dojoxCalendarMonthColumnView",templateString:o,viewKind:"monthColumns",_setTabIndexAttr:"domNode",renderData:null,startDate:null,columnCount:6,daySize:30,showCellLabel:true,showHiddenItems:true,verticalRenderer:null,percentOverlap:0,horizontalGap:4,columnHeaderFormatLength:null,gridCellDatePattern:null,roundToDay:true,_layoutUnit:"month",_columnHeaderHandlers:null,constructor:function(){this.invalidatingProperties=["columnCount","startDate","daySize","percentOverlap","verticalRenderer",
"columnHeaderDatePattern","horizontalGap","scrollBarRTLPosition","itemToRendererKindFunc","layoutPriorityFunction","textDir","items","showCellLabel","showHiddenItems"];this._columnHeaderHandlers=[]},postCreate:function(){this.inherited(arguments);this.keyboardUpDownUnit="day";this.keyboardUpDownSteps=1;this.keyboardLeftRightUnit="month";this.keyboardLeftRightSteps=1;this.allDayKeyboardUpDownUnit="day";this.allDayKeyboardUpDownSteps=1;this.allDayKeyboardLeftRightUnit="month";this.allDayKeyboardLeftRightSteps=
1},destroy:function(a){this._cleanupColumnHeader();this.scrollBar&&this.scrollBar.destroy(a);this.inherited(arguments)},_scrollBar_onScroll:function(a){this.scrollContainer.scrollTop=a},buildRendering:function(){this.inherited(arguments);if(this.vScrollBar){this.scrollBar=new s({content:this.vScrollBarContent},this.vScrollBar);this.scrollBar.on("scroll",m.hitch(this,this._scrollBar_onScroll));this._viewHandles.push(t(this.scrollContainer,C.wheel,dojo.hitch(this,this._mouseWheelScrollHander)))}},postscript:function(){this.inherited(arguments);
this._initialized=true;this.invalidRendering||this.refreshRendering()},_setVerticalRendererAttr:function(a){this._destroyRenderersByKind("vertical");this._set("verticalRenderer",a)},_createRenderData:function(){var a={};a.daySize=this.get("daySize");a.scrollbarWidth=b.getScrollbar().w+1;a.dateLocaleModule=this.dateLocaleModule;a.dateClassObj=this.dateClassObj;a.dateModule=this.dateModule;a.dates=[];a.columnCount=this.get("columnCount");var g=this.get("startDate");g==null&&(g=new a.dateClassObj);this.startDate=
g=this.floorToMonth(g,false,a);for(var f=g.getMonth(),k=0,c=0;c<a.columnCount;c++){var e=[];for(a.dates.push(e);g.getMonth()==f;){e.push(g);g=a.dateModule.add(g,"day",1);g=this.floorToDay(g,false,a)}f=g.getMonth();if(k<e.length)k=e.length}a.startTime=new a.dateClassObj(a.dates[0][0]);a.endTime=new a.dateClassObj(e[e.length-1]);a.endTime=a.dateModule.add(a.endTime,"day",1);a.maxDayCount=k;a.sheetHeight=a.daySize*k;if(this.displayedItemsInvalidated){this.displayedItemsInvalidated=false;this._computeVisibleItems(a);
this._isEditing&&this._endItemEditing(null,false)}else if(this.renderData)a.items=this.renderData.items;return a},_validateProperties:function(){this.inherited(arguments);if(this.columnCount<1||isNaN(this.columnCount))this.columnCount=1;if(this.daySize<5||isNaN(this.daySize))this.daySize=5},_setStartDateAttr:function(a){this.displayedItemsInvalidated=true;this._set("startDate",a)},_setColumnCountAttr:function(a){this.displayedItemsInvalidated=true;this._set("columnCount",a)},__fixEvt:function(a){a.sheet=
"primary";a.source=this;return a},_formatColumnHeaderLabel:function(a){var b="wide";if(this.columnHeaderFormatLength)b=this.columnHeaderFormatLength;return this.renderData.dateLocaleModule.getNames("months",b,"standAlone")[a.getMonth()]},_formatGridCellLabel:function(b){var g;if(b==null)return"";if(this.gridCellPattern)return this.renderData.dateLocaleModule.format(b,{selector:"date",datePattern:this.gridCellDatePattern});g=a.getLocalization("dojo.cldr",this._calendar)["dateFormatItem-d"];return this.renderData.dateLocaleModule.getNames("days",
"abbr","standAlone")[b.getDay()].substring(0,1)+" "+this.renderData.dateLocaleModule.format(b,{selector:"date",datePattern:g})},scrollPosition:null,scrollBarRTLPosition:"left",_setScrollPositionAttr:function(a){this._setScrollPosition(a.date,a.duration,a.easing)},_getScrollPositionAttr:function(){return{date:this.scrollContainer.scrollTop/this.daySize+1}},_setScrollPosition:function(a,b,f){a<1?a=1:a>31&&(a=31);a=(a-1)*this.daySize;if(b){this._scrollAnimation&&this._scrollAnimation.stop();b=Math.abs((a-
this.scrollContainer.scrollTop)*b/this.renderData.sheetHeight);this._scrollAnimation=new c.Animation({curve:[this.scrollContainer.scrollTop,a],duration:b,easing:f,onAnimate:m.hitch(this,function(a){this._setScrollImpl(a)})});this._scrollAnimation.play()}else this._setScrollImpl(a)},_setScrollImpl:function(a){this.scrollContainer.scrollTop=a;this.scrollBar&&this.scrollBar.set("value",a)},ensureVisibility:function(a,b,f,k,c){k=k==void 0?1:k;if(this.scrollable&&this.autoScroll){a=a.getDate()-k;this.isStartOfDay(b)&&
(b=this._waDojoxAddIssue(b,"day",-1));var b=b.getDate()+k,k=this.get("scrollPosition").date,e=A.getContentBox(this.scrollContainer),e=this.get("scrollPosition").date+e.h/this.daySize,h=false,m=null;switch(f){case "start":h=a>=k&&a<=e;m=a;break;case "end":h=b>=k&&b<=e;m=b-(e-k);break;case "both":h=a>=k&&b<=e;m=a}h||this._setScrollPosition(m,c)}},scrollView:function(a){this._setScrollPosition(this.get("scrollPosition").date+a)},_mouseWheelScrollHander:function(a){this.scrollView(a.wheelDelta>0?-1:1)},
refreshRendering:function(){if(this._initialized){this._validateProperties();var a=this.renderData,b=this._createRenderData();this.renderData=b;this._createRendering(b,a);this._layoutRenderers(b)}},_createRendering:function(a,b){w.set(this.sheetContainer,"height",a.sheetHeight+"px");this._configureScrollBar(a);this._buildColumnHeader(a,b);this._buildGrid(a,b);this._buildItemContainer(a,b)},_configureScrollBar:function(a){h("ie")&&this.scrollBar&&w.set(this.scrollBar.domNode,"width",a.scrollbarWidth+
1+"px");var b=this.isLeftToRight()?true:this.scrollBarRTLPosition=="right",f=b?"right":"left",b=b?"left":"right";if(this.scrollBar){this.scrollBar.set("maximum",a.sheetHeight);w.set(this.scrollBar.domNode,f,0);w.set(this.scrollBar.domNode,b,"auto")}w.set(this.scrollContainer,f,a.scrollbarWidth+"px");w.set(this.scrollContainer,b,"0");w.set(this.columnHeader,f,a.scrollbarWidth+"px");w.set(this.columnHeader,b,"0");if(this.buttonContainer&&this.owner!=null&&this.owner.currentView==this){w.set(this.buttonContainer,
f,a.scrollbarWidth+"px");w.set(this.buttonContainer,b,"0")}},_columnHeaderClick:function(a){j.stop(a);var b=u("td",this.columnHeaderTable).indexOf(a.currentTarget);this._onColumnHeaderClick({index:b,date:this.renderData.dates[b][0],triggerEvent:a})},_buildColumnHeader:function(a,b){var f=this.columnHeaderTable;if(f){var k=a.columnCount-(b?b.columnCount:0);if(h("ie")==8)if(this._colTableSave==null)this._colTableSave=m.clone(f);else if(k<0){this._cleanupColumnHeader();this.columnHeader.removeChild(f);
x.destroy(f);this.columnHeaderTable=f=m.clone(this._colTableSave);this.columnHeader.appendChild(f);k=a.columnCount}var c=u("tbody",f),e=u("tr",f),n,c=c.length==1?c[0]:l.create("tbody",null,f),e=e.length==1?e[0]:x.create("tr",null,c);if(k>0)for(c=0;c<k;c++){n=x.create("td",null,e);var o=[];o.push(t(n,"click",m.hitch(this,this._columnHeaderClick)));if(h("touch")){o.push(t(n,"touchstart",function(a){j.stop(a);r.add(a.currentTarget,"Active")}));o.push(t(n,"touchend",function(a){j.stop(a);r.remove(a.currentTarget,
"Active")}))}else{o.push(t(n,"mousedown",function(a){j.stop(a);r.add(a.currentTarget,"Active")}));o.push(t(n,"mouseup",function(a){j.stop(a);r.remove(a.currentTarget,"Active")}));o.push(t(n,"mouseover",function(a){j.stop(a);r.add(a.currentTarget,"Hover")}));o.push(t(n,"mouseout",function(a){j.stop(a);r.remove(a.currentTarget,"Hover")}))}this._columnHeaderHandlers.push(o)}else{k=-k;for(c=0;c<k;c++){n=e.lastChild;e.removeChild(n);x.destroy(n);for(n=this._columnHeaderHandlers.pop();n.length>0;)n.pop().remove()}}u("td",
f).forEach(function(b,f){b.className="";f==0?r.add(b,"first-child"):f==this.renderData.columnCount-1&&r.add(b,"last-child");var c=a.dates[f][0];this._setText(b,this._formatColumnHeaderLabel(c));this.styleColumnHeaderCell(b,c,a)},this)}},_cleanupColumnHeader:function(){for(;this._columnHeaderHandlers.length>0;)for(var a=this._columnHeaderHandlers.pop();a.length>0;)a.pop().remove()},styleColumnHeaderCell:function(){},_buildGrid:function(a,b){var f=this.gridTable;if(f){w.set(f,"height",a.sheetHeight+
"px");var c=a.maxDayCount-(b?b.maxDayCount:0),e=c>0,l=a.columnCount-(b?b.columnCount:0);if(h("ie")==8)if(this._gridTableSave==null)this._gridTableSave=m.clone(f);else if(l<0){this.grid.removeChild(f);x.destroy(f);this.gridTable=f=m.clone(this._gridTableSave);this.grid.appendChild(f);l=a.columnCount;c=a.maxDayCount;e=true}var j=u("tbody",f),j=j.length==1?j[0]:x.create("tbody",null,f);if(e)for(var n=0;n<c;n++)x.create("tr",null,j);else{c=-c;for(n=0;n<c;n++)j.removeChild(j.lastChild)}var o=a.maxDayCount-
c,t=e||l>0,l=t?l:-l;u("tr",f).forEach(function(b,f){if(t)for(var c=f>=o?a.columnCount:l,f=0;f<c;f++){var k=x.create("td",null,b);x.create("span",null,k)}else for(f=0;f<l;f++)b.removeChild(b.lastChild)});u("tr",f).forEach(function(b,f){b.className="";f==0&&r.add(b,"first-child");f==a.maxDayCount-1&&r.add(b,"last-child");u("td",b).forEach(function(b,c){b.className="";c==0&&r.add(b,"first-child");c==a.columnCount-1&&r.add(b,"last-child");var k=null;f<a.dates[c].length&&(k=a.dates[c][f]);this._setText(u("span",
b)[0],this.showCellLabel?this._formatGridCellLabel(k,f,c):null);this.styleGridCell(b,k,c,f,a)},this)},this)}},styleGridCell:function(a,b){b!=null&&(this.isToday(b)?r.add(a,"dojoxCalendarToday"):this.isWeekEnd(b)&&r.add(a,"dojoxCalendarWeekend"))},_buildItemContainer:function(a,b){var f=this.itemContainerTable;if(f){var c=[];w.set(f,"height",a.sheetHeight+"px");var e=a.columnCount-(b?b.columnCount:0);if(h("ie")==8)if(this._itemTableSave==null)this._itemTableSave=m.clone(f);else if(e<0){this.itemContainer.removeChild(f);
this._recycleItemRenderers(true);x.destroy(f);this.itemContainerTable=f=m.clone(this._itemTableSave);this.itemContainer.appendChild(f);e=a.columnCount}var l=u("tbody",f),j=u("tr",f),l=l.length==1?l[0]:x.create("tbody",null,f),j=j.length==1?j[0]:x.create("tr",null,l);if(e>0)for(var n=0;n<e;n++){l=x.create("td",null,j);x.create("div",{className:"dojoxCalendarContainerColumn"},l)}else{e=-e;for(n=0;n<e;n++)j.removeChild(j.lastChild)}u("td>div",f).forEach(function(b){w.set(b,{height:a.sheetHeight+"px"});
c.push(b)},this);a.cells=c}},_overlapLayoutPass2:function(a){var b,f,c,e;c=a[a.length-1];for(f=0;f<c.length;f++)c[f].extent=1;for(b=0;b<a.length-1;b++){c=a[b];for(f=0;f<c.length;f++){e=c[f];if(e.extent==-1){e.extent=1;for(var h=0,l=false,m=b+1;m<a.length&&!l;m++){for(var j=a[m],n=0;n<j.length&&!l;n++){var o=j[n];e.start<o.end&&o.start<e.end&&(l=true)}l||h++}e.extent=e.extent+h}}}},_defaultItemToRendererKindFunc:function(a){return a.allDay?"vertical":Math.abs(this.renderData.dateModule.difference(a.startTime,
a.endTime,"minute"))>=1440?"vertical":null},_layoutRenderers:function(a){this.hiddenEvents={};this.inherited(arguments)},_layoutInterval:function(a,b,f,c,e){var h=[],l=[];a.colW=this.itemContainer.offsetWidth/a.columnCount;for(var m=0;m<e.length;m++){var j=e[m];this._itemToRendererKind(j)=="vertical"?h.push(j):this.showHiddenItems&&l.push(j)}h.length>0&&this._layoutVerticalItems(a,b,f,c,h);l.length>0&&this._layoutBgItems(a,b,f,c,l)},_dateToYCoordinate:function(a,b,f){a=0;a=f?(b.getDate()-1)*this.renderData.daySize:
this.renderData.daySize+(this._waDojoxAddIssue(b,"day",-1).getDate()-1)*this.renderData.daySize;return a=a+(b.getHours()*60+b.getMinutes())*this.renderData.daySize/1440},_layoutVerticalItems:function(a,b,f,c,e){if(this.verticalRenderer!=null){for(var b=a.cells[b],h=[],l=0;l<e.length;l++){var j=e[l],n=this.computeRangeOverlap(a,j.startTime,j.endTime,f,c),o=this._dateToYCoordinate(a,n[0],true),u=this._dateToYCoordinate(a,n[1],false);if(u>o){j=m.mixin({start:o,end:u,range:n,item:j},j);h.push(j)}}f=this.computeOverlapping(h,
this._overlapLayoutPass2).numLanes;c=this.percentOverlap/100;for(l=0;l<h.length;l++){j=h[l];o=j.lane;n=j.extent;if(c==0){e=f==1?a.colW:(a.colW-(f-1)*this.horizontalGap)/f;o=o*(e+this.horizontalGap);e=n==1?e:e*n+(n-1)*this.horizontalGap;e=100*e/a.colW;o=100*o/a.colW}else{e=f==1?100:100/(f-(f-1)*c);o=o*(e-c*e);e=n==1?e:e*(n-(n-1)*c)}n=this._createRenderer(j,"vertical",this.verticalRenderer,"dojoxCalendarVertical");w.set(n.container,{top:j.start+"px",left:o+"%",width:e+"%",height:j.end-j.start+1+"px"});
var o=this.isItemBeingEdited(j),u=this.isItemSelected(j),t=this.isItemHovered(j),r=this.isItemFocused(j),q=n.renderer;q.set("hovered",t);q.set("selected",u);q.set("edited",o);q.set("focused",this.showFocus?r:false);q.set("moveEnabled",this.isItemMoveEnabled(j,"vertical"));q.set("resizeEnabled",this.isItemResizeEnabled(j,"vertical"));this.applyRendererZIndex(j,n,t,u,o,r);q.updateRendering&&q.updateRendering(e,j.end-j.start+1);x.place(n.container,b);w.set(n.container,"display","block")}}},_getCellAt:function(a,
b,f){if((f==void 0||f==true)&&!this.isLeftToRight())b=this.renderData.columnCount-1-b;return this.gridTable.childNodes[0].childNodes[a].childNodes[b]},invalidateLayout:function(){u("td",this.gridTable).forEach(function(a){r.remove(a,"dojoxCalendarHiddenEvents")});this.inherited(arguments)},_layoutBgItems:function(a,b,f,c,e){for(var h={},j=0;j<e.length;j++){var l=e[j],m=this.computeRangeOverlap(a,l.startTime,l.endTime,f,c),l=m[0].getDate()-1;if(this.isStartOfDay(m[1])){m=this._waDojoxAddIssue(m[1],
"day",-1);m=m.getDate()-1}else m=m[1].getDate()-1;for(;l<=m;l++)h[l]=true}for(var n in h)if(h[n]){a=this._getCellAt(n,b,false);r.add(a,"dojoxCalendarHiddenEvents")}},_sortItemsFunction:function(a,b){var f=this.dateModule.compare(a.startTime,b.startTime);f==0&&(f=-1*this.dateModule.compare(a.endTime,b.endTime));return this.isLeftToRight()?f:-f},getTime:function(a,b,f,c){if(a!=null){f=A.position(this.itemContainer,true);if(a.touches){c=c==void 0?0:c;b=a.touches[c].pageX-f.x;f=a.touches[c].pageY-f.y}else{b=
a.pageX-f.x;f=a.pageY-f.y}}a=A.getContentBox(this.itemContainer);this.isLeftToRight()||(b=a.w-b);b<0?b=0:b>a.w&&(b=a.w-1);f<0?f=0:f>a.h&&(f=a.h-1);b=Math.floor(b/(a.w/this.renderData.columnCount));f=Math.floor(f/(a.h/this.renderData.maxDayCount));a=null;b<this.renderData.dates.length&&f<this.renderData.dates[b].length&&(a=this.newDate(this.renderData.dates[b][f]));return a},_onGridMouseUp:function(a){this.inherited(arguments);if(this._gridMouseDown){this._gridMouseDown=false;this._onGridClick({date:this.getTime(a),
triggerEvent:a})}},_onGridTouchStart:function(a){this.inherited(arguments);var b=this._gridProps;b.moved=false;b.start=a.touches[0].screenY;b.scrollTop=this.scrollContainer.scrollTop},_onGridTouchMove:function(a){this.inherited(arguments);if(a.touches.length>1&&!this._isEditing)j.stop(a);else if(this._gridProps&&!this._isEditing){var b=a.touches[0].screenX,f=a.touches[0].screenY,c=this._edProps;if(!c||c&&(Math.abs(b-c.start.x)>25||Math.abs(f-c.start.y)>25)){this._gridProps.moved=true;b=this._gridProps.scrollTop-
(a.touches[0].screenY-this._gridProps.start);f=this.itemContainer.offsetHeight-this.scrollContainer.offsetHeight;if(b<0){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(0);this._gridProps.scrollTop=0}else if(b>f){this._gridProps.start=a.touches[0].screenY;this._setScrollImpl(f);this._gridProps.scrollTop=f}else this._setScrollImpl(b)}}},_onGridTouchEnd:function(a){this.inherited(arguments);var b=this._gridProps;if(b){if(!this._isEditing&&!b.moved){!b.fromItem&&!b.editingOnStart&&this.selectFromEvent(a,
null,null,true);if(!b.fromItem)if(this._pendingDoubleTap&&this._pendingDoubleTap.grid){this._onGridDoubleClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});clearTimeout(this._pendingDoubleTap.timer);delete this._pendingDoubleTap}else{this._onGridClick({date:this.getTime(this._gridProps.event),triggerEvent:this._gridProps.event});this._pendingDoubleTap={grid:true,timer:setTimeout(m.hitch(this,function(){delete this._pendingDoubleTap}),this.doubleTapDelay)}}}this._gridProps=
null}},_onColumnHeaderClick:function(a){this._dispatchCalendarEvt(a,"onColumnHeaderClick")},onColumnHeaderClick:function(){},_onScrollTimer_tick:function(){this._setScrollImpl(this.scrollContainer.scrollTop+this._scrollProps.scrollStep)},snapUnit:"day",snapSteps:1,minDurationUnit:"day",minDurationSteps:1,liveLayout:false,stayInView:true,allowStartEndSwap:true,allowResizeLessThan24H:false})})},"url:dojox/calendar/templates/Calendar.html":'<div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit.Toolbar" >\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dijit.form.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dijit.form.Button" >\u25ba</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dijit.form.Button" />Today</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit.form.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="fourDaysButton" data-dojo-type="dijit.form.Button" >4 Days</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit.form.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit.form.Button" >Month</button>\n\t\t</div>\n\t</div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n</div>\n',
"dojox/calendar/MobileVerticalRenderer":function(){require({cache:{"url:dojox/calendar/templates/MobileVerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical">\n\t<div class="bg"></div>\t\n\t<div data-dojo-attach-point="resizeStartHandle" class="resizeStartHandle resizeHandle"><div></div></div>\n\t<dl style="width:100%;">\t\t\t\t\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\t\n\t<div data-dojo-attach-point="resizeEndHandle" class="resizeEndHandle resizeHandle"><div></div></div>\n\t<span data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n</div>\n'}});
define("dojox/calendar/MobileVerticalRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/MobileVerticalRenderer.html"],function(v,n,s,o,q){return v("dojox.calendar.MobileVerticalRenderer",[n,s,o],{templateString:q,mobile:!0,visibilityLimits:{resizeStartHandle:75,resizeEndHandle:-1,summaryLabel:55,startTimeLabel:75,endTimeLabel:20},postCreate:function(){this.inherited(arguments);this._applyAttributes()},_isElementVisible:function(j,
m,e,h){var c;switch(j){case "startTimeLabel":c=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(c))return!1;break;case "endTimeLabel":if(c=this.item.endTime,this.item.allDay||this.owner.isStartOfDay(c))return!1}return this.inherited(arguments)}})})},"dojox/calendar/Mouse":function(){define("dojox/calendar/Mouse","dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/dom-geometry dojo/mouse dojo/on dojo/keys".split(" "),function(v,n,s,o,q,j,m,e){return n("dojox.calendar.Mouse",
null,{triggerExtent:3,postMixInProperties:function(){this.inherited(arguments);this.on("rendererCreated",o.hitch(this,function(h){var c=h.renderer,l;if(!c.__handles)c.__handles=[];l=e(c.domNode,"click",o.hitch(this,function(e){s.stop(e);this._onItemClick({triggerEvent:e,renderer:c,item:this.renderItemToItem(c.item,this.get("store"))})}));c.__handles.push(l);l=e(c.domNode,"dblclick",o.hitch(this,function(e){s.stop(e);this._onItemDoubleClick({triggerEvent:e,renderer:c,item:this.renderItemToItem(c.item,
this.get("store"))})}));c.__handles.push(l);l=e(c.domNode,"contextmenu",o.hitch(this,function(e){this._onItemContextMenu({triggerEvent:e,renderer:c,item:this.renderItemToItem(c.item,this.get("store"))})}));c.__handles.push(l);if(c.resizeStartHandle){l=e(c.resizeStartHandle,"mousedown",o.hitch(this,function(e){this._onRendererHandleMouseDown(e,c,"resizeStart")}));c.__handles.push(l)}if(c.moveHandle){l=e(c.moveHandle,"mousedown",o.hitch(this,function(e){this._onRendererHandleMouseDown(e,c,"move")}));
c.__handles.push(l)}if(c.resizeEndHandle){l=e(c.resizeEndHandle,"mousedown",o.hitch(this,function(e){this._onRendererHandleMouseDown(e,c,"resizeEnd")}));c.__handles.push(l)}l=e(c.domNode,"mousedown",o.hitch(this,function(e){this._rendererMouseDownHandler(e,c)}));c.__handles.push(l);l=e(h.container,m.enter,o.hitch(this,function(e){if(c.item&&!this._editingGesture){this._setHoveredItem(c.item.item,h.renderer);this._onItemRollOver(this.__fixEvt({item:this.renderItemToItem(c.item,this.get("store")),renderer:c,
triggerEvent:e}))}}));c.__handles.push(l);l=e(c.domNode,m.leave,o.hitch(this,function(e){if(c.item&&!this._editingGesture){this._setHoveredItem(null);this._onItemRollOut(this.__fixEvt({item:this.renderItemToItem(c.item,this.get("store")),renderer:c,triggerEvent:e}))}}));c.__handles.push(l)}))},_onItemRollOver:function(e){this._dispatchCalendarEvt(e,"onItemRollOver")},onItemRollOver:function(){},_onItemRollOut:function(e){this._dispatchCalendarEvt(e,"onItemRollOut")},onItemRollOut:function(){},_rendererMouseDownHandler:function(e,
c){s.stop(e);var l=this.renderItemToItem(c.item,this.get("store"));this.selectFromEvent(e,l,c,true);this._setTabIndexAttr&&this[this._setTabIndexAttr].focus()},_onRendererHandleMouseDown:function(h,c,l){s.stop(h);this.showFocus=false;var j=c.item.item;if(!this.isItemBeingEdited(j)){this._isEditing&&this._endItemEditing("mouse",false);this.selectFromEvent(h,this.renderItemToItem(c.item,this.get("store")),c,true);this._setTabIndexAttr&&this[this._setTabIndexAttr].focus();this._edProps={editKind:l,editedItem:j,
rendererKind:c.rendererKind,tempEditedItem:j,liveLayout:this.liveLayout};this.set("focusedItem",this._edProps.editedItem)}c=[];c.push(e(q.doc,"mouseup",o.hitch(this,this._editingMouseUpHandler)));c.push(e(q.doc,"mousemove",o.hitch(this,this._editingMouseMoveHandler)));j=this._edProps;j.handles=c;j.eventSource="mouse";j.editKind=l;this._startPoint={x:h.screenX,y:h.screenY}},_editingMouseMoveHandler:function(e){var c=this._edProps;if(this._editingGesture)this._autoScroll(e.pageX,e.pageY,true)||this._moveOrResizeItemGesture([this.getTime(e)],
"mouse",e);else if(Math.abs(this._startPoint.x-e.screenX)>=this.triggerExtent||Math.abs(this._startPoint.y-e.screenY)>=this.triggerExtent){this._isEditing||this._startItemEditing(c.editedItem,"mouse");c=this._edProps;this._startItemEditingGesture([this.getTime(e)],c.editKind,"mouse",e)}},_editingMouseUpHandler:function(e){var c=this._edProps;this._stopAutoScroll();if(this._isEditing){this._editingGesture&&this._endItemEditingGesture("mouse",e);this._endItemEditing("mouse",false)}else v.forEach(c.handles,
function(c){c.remove()})},_autoScroll:function(e,c,l){if(!this.scrollable||!this.autoScroll)return false;var m=j.position(this.scrollContainer,true),e=l?c-m.y:e-m.x,l=l?m.h:m.w;if(e<0||e>l){step=Math.floor((e<0?e:e-l)/2)/3;this._startAutoScroll(step);return true}this._stopAutoScroll();return false}})})},"url:dojox/calendar/templates/MobileCalendar.html":'<div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dojox.mobile.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dojox.mobile.Button" />Today</button>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dojox.mobile.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dojox.mobile.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dojox.mobile.Button" >Month</button>\n\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dojox.mobile.Button" >\u25ba</button>\n\t</div>\n</div>\n',
"url:dojox/calendar/templates/ColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table cellspacing="0" cellpadding="0"><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\n\t\n\t<div data-dojo-attach-point="secondarySheetNode"></div>\n\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative;width:1px;height:1px;" ></div>\n\t</div>\n\t\n</div>\n',
"dojox/calendar/CalendarBase":function(){define("dojox/calendar/CalendarBase","dojo/_base/declare dojo/_base/sniff dojo/_base/event dojo/_base/lang dojo/_base/array dojo/cldr/supplemental dojo/dom dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date dojo/date/locale dojo/_base/fx dojo/fx dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./StoreMixin dojox/widget/_Invalidating dojox/widget/Selection dojox/calendar/time dojo/i18n!./nls/buttons".split(" "),function(v,
n,s,o,q,j,m,e,h,c,l,t,y,r,w,A,x,C,u,a,b,d,g){return v("dojox.calendar.CalendarBase",[A,x,C,u,a,b],{baseClass:"dojoxCalendar",datePackage:l,startDate:null,endDate:null,date:null,dateInterval:"week",dateIntervalSteps:1,viewContainer:null,firstDayOfWeek:-1,formatItemTimeFunc:null,editable:true,moveEnabled:true,resizeEnabled:true,columnView:null,matrixView:null,columnViewProps:null,matrixViewProps:null,createOnGridClick:false,createItemFunc:null,_currentViewIndex:-1,views:null,_calendar:"gregorian",constructor:function(a){this.views=
[];this.invalidatingProperties=["store","items","startDate","endDate","views","date","dateInterval","dateIntervalSteps","firstDayOfWeek"];a=a||{};this._calendar=a.datePackage?a.datePackage.substr(a.datePackage.lastIndexOf(".")+1):this._calendar;this.dateModule=a.datePackage?o.getObject(a.datePackage,false):l;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=a.datePackage?o.getObject(a.datePackage+".locale",false):t;this.invalidateRendering()},destroy:function(a){q.forEach(this._buttonHandles,
function(a){a.remove()});this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);(this.views==null||this.views.length==0)&&this.set("views",this._createDefaultViews())},_applyAttributes:function(){this._applyAttr=true;this.inherited(arguments);delete this._applyAttr},_setStartDateAttr:function(a){this._set("startDate",a);this._timeRangeInvalidated=true},_setEndDateAttr:function(a){this._set("endDate",a);this._timeRangeInvalidated=true},_setDateAttr:function(a){this._set("date",
a);this._timeRangeInvalidated=true},_setDateIntervalAttr:function(a){this._set("dateInterval",a);this._timeRangeInvalidated=true},_setDateIntervalStepsAttr:function(a){this._set("dateIntervalSteps",a);this._timeRangeInvalidated=true},_setFirstDayOfWeekAttr:function(a){this._set("firstDayOfWeek",a);if(this.get("date")!=null&&this.get("dateInterval")=="week")this._timeRangeInvalidated=true},_setTextDirAttr:function(a){q.forEach(this.views,function(b){b.set("textDir",a)})},refreshRendering:function(){this.inherited(arguments);
this._validateProperties()},_refreshItemsRendering:function(){this.currentView&&this.currentView._refreshItemsRendering()},_validateProperties:function(){var a=this.dateModule,b=this.get("startDate"),d=this.get("endDate"),c=this.get("date");(this.firstDayOfWeek<-1||this.firstDayOfWeek>6)&&this._set("firstDayOfWeek",0);if(c==null&&(b!=null||d!=null)){if(b==null){b=new this.dateClassObj;this._set("startDate",b);this._timeRangeInvalidated=true}if(d==null){d=new this.dateClassObj;this._set("endDate",
d);this._timeRangeInvalidated=true}if(a.compare(b,d)>=0){d=a.add(b,"day",1);this._set("endDate",d);this._timeRangeInvalidated=true}}else{if(this.date==null){this._set("date",new this.dateClassObj);this._timeRangeInvalidated=true}b=this.get("dateInterval");if(b!="day"&&b!="week"&&b!="month"){this._set("dateInterval","day");this._timeRangeInvalidated=true}b=this.get("dateIntervalSteps");if(o.isString(b)){b=parseInt(b);this._set("dateIntervalSteps",b)}if(b<=0){this.set("dateIntervalSteps",1);this._timeRangeInvalidated=
true}}if(this._timeRangeInvalidated){this._timeRangeInvalidated=false;var e=this.computeTimeInterval();if(this._timeInterval==null||a.compare(this._timeInterval[0],e[0]!=0)||a.compare(this._timeInterval[1],e[1]!=0))this.onTimeIntervalChange({oldStartTime:this._timeInterval==null?null:this._timeInterval[0],oldEndTime:this._timeInterval==null?null:this._timeInterval[1],startTime:e[0],endTime:e[1]});this._timeInterval=e;var g=this.dateModule.difference(this._timeInterval[0],this._timeInterval[1],"day"),
h=this._computeCurrentView(e[0],e[1],g),j=q.indexOf(this.views,h);if(!(h==null||j==-1))if(this.animateRange&&(!n("ie")||n("ie")>8))if(this.currentView){var l=this.isLeftToRight(),m=this._animRangeInDir=="left"||this._animRangeInDir==null,a=this._animRangeOutDir=="left"||this._animRangeOutDir==null;this._animateRange(this.currentView.domNode,a&&l,false,0,a?-100:100,o.hitch(this,function(){this.animateRangeTimer=setTimeout(o.hitch(this,function(){this._applyViewChange(h,j,e,g);this._animateRange(this.currentView.domNode,
m&&l,true,m?-100:100,0);this._animRangeOutDir=this._animRangeInDir=null}),100)}))}else this._applyViewChange(h,j,e,g);else this._applyViewChange(h,j,e,g)}},_applyViewChange:function(a,b,d,e){this._configureView(a,b,d,e);if(b!=this._currentViewIndex)if(this.currentView==null){a.set("items",this.items);this.set("currentView",a)}else if(this.items==null||this.items.length==0){this.set("currentView",a);this.animateRange&&(!n("ie")||n("ie")>8)&&h.set(this.currentView.domNode,"opacity",0);a.set("items",
this.items)}else{this.currentView=a;a.set("items",this.items);this.set("currentView",a);this.animateRange&&(!n("ie")||n("ie")>8)&&h.set(this.currentView.domNode,"opacity",0)}},_timeInterval:null,computeTimeInterval:function(){var a=this.dateModule,b=this.get("date");if(b==null)return[this.floorToDay(this.get("startDate")),a.add(this.get("endDate"),"day",1)];var b=this.floorToDay(b),d=this.get("dateInterval"),e=this.get("dateIntervalSteps"),c;switch(d){case "day":c=a.add(b,"day",e);break;case "week":b=
this.floorToWeek(b);c=a.add(b,"week",e);break;case "month":b.setDate(1);c=a.add(b,"month",e)}return[b,c]},onTimeIntervalChange:function(){},views:null,_setViewsAttr:function(a){if(!this._applyAttr)for(var b=0;b<this.views.length;b++)this._onViewRemoved(this.views[b]);if(a!=null)for(b=0;b<a.length;b++)this._onViewAdded(a[b]);this._set("views",a==null?[]:a.concat())},_getViewsAttr:function(){return this.views.concat()},_createDefaultViews:function(){},addView:function(a,b){if(b<=0||b>this.views.length)b=
this.views.length;this.views.splice(b,a);this._onViewAdded(a)},removeView:function(){if(!(index<0||index>=this.views.length)){this._onViewRemoved(this.views[index]);this.views.splice(index,1)}},_onViewAdded:function(a){a.owner=this;a.buttonContainer=this.buttonContainer;a._calendar=this._calendar;a.datePackage=this.datePackage;a.dateModule=this.dateModule;a.dateClassObj=this.dateClassObj;a.dateLocaleModule=this.dateLocaleModule;h.set(a.domNode,"display","none");e.add(a.domNode,"view");c.place(a.domNode,
this.viewContainer);this.onViewAdded(a)},onViewAdded:function(){},_onViewRemoved:function(a){a.owner=null;a.buttonContainer=null;e.remove(a.domNode,"view");this.viewContainer.removeChild(a.domNode);this.onViewRemoved(a)},onViewRemoved:function(){},_setCurrentViewAttr:function(a){var b=q.indexOf(this.views,a);if(b!=-1){var d=this.get("currentView");this._currentViewIndex=b;this._set("currentView",a);this._showView(d,a);this.onCurrentViewChange({oldView:d,newView:a})}},_getCurrentViewAttr:function(){return this.views[this._currentViewIndex]},
onCurrentViewChange:function(){},_configureView:function(a,b,d,e){b=this.dateModule;if(a.viewKind=="columns"){a.set("startDate",d[0]);a.set("columnCount",e)}else if(a.viewKind=="matrix")if(e>7){var c=this.floorToWeek(d[0]),e=this.floorToWeek(d[1]);b.compare(e,d[1])!=0&&(e=this.dateModule.add(e,"week",1));e=this.dateModule.difference(c,e,"day");a.set("startDate",c);a.set("columnCount",7);a.set("rowCount",Math.ceil(e/7));a.set("refStartTime",d[0]);a.set("refEndTime",d[1])}else{a.set("startDate",d[0]);
a.set("columnCount",e);a.set("rowCount",1);a.set("refStartTime",null);a.set("refEndTime",null)}},_computeCurrentView:function(a,b,d){return d<=7?this.columnView:this.matrixView},matrixViewRowHeaderClick:function(a){var b=this.matrixView.getExpandedRowIndex();if(b==a.index)this.matrixView.collapseRow();else if(b==-1)this.matrixView.expandRow(a.index);else{var d=this.matrixView.on("expandAnimationEnd",o.hitch(this,function(){d.remove();this.matrixView.expandRow(a.index)}));this.matrixView.collapseRow()}},
columnViewColumnHeaderClick:function(a){if(this.dateModule.compare(a.date,this._timeInterval[0])==0&&this.dateInterval=="day"&&this.dateIntervalSteps==1)this.set("dateInterval","week");else{this.set("date",a.date);this.set("dateInterval","day");this.set("dateIntervalSteps",1)}},viewChangeDuration:0,_showView:function(a,b){a!=null&&h.set(a.domNode,"display","none");if(b!=null){h.set(b.domNode,"display","block");b.resize();(!n("ie")||n("ie")>7)&&h.set(b.domNode,"opacity","1")}},_setItemsAttr:function(a){this._set("items",
a);if(this.currentView){this.currentView.set("items",a);this.currentView.invalidateRendering()}},floorToDay:function(a,b){return d.floorToDay(a,b,this.dateClassObj)},floorToWeek:function(a){return d.floorToWeek(a,this.dateClassObj,this.dateModule,this.firstDayOfWeek,this.locale)},newDate:function(a){return d.newDate(a,this.dateClassObj)},isToday:function(a){return d.isToday(a,this.dateClassObj)},isStartOfDay:function(a){return d.isStartOfDay(a,this.dateClassObj,this.dateModule)},floorDate:function(a,
b,e,c){return d.floor(a,b,e,c,this.classFuncObj)},animateRange:true,animationRangeDuration:400,_animateRange:function(a,b,d,e,c,g){if(this.animateRangeTimer){clearTimeout(this.animateRangeTimer);delete this.animateRangeTimer}b=d?y.fadeIn:y.fadeOut;h.set(a,{left:e+"px",right:-e+"px"});r.combine([y.animateProperty({node:a,properties:{left:c,right:-c},duration:this.animationRangeDuration/2,onEnd:g}),b({node:a,duration:this.animationRangeDuration/2})]).play()},_animRangeOutDir:null,_animRangeOutDir:null,
nextRange:function(){this._animRangeOutDir="left";this._animRangeInDir="right";this._navigate(1)},previousRange:function(){this._animRangeOutDir="right";this._animRangeInDir="left";this._navigate(-1)},_navigate:function(a){var b=this.get("date"),d=this.dateModule;if(b==null){var b=this.get("startDate"),e=this.get("endDate"),c=d.difference(b,e,"day");if(a==1){e=d.add(e,"day",1);this.set("startDate",e);this.set("endDate",d.add(e,"day",c))}else{b=d.add(b,"day",-1);this.set("startDate",d.add(b,"day",
-c));this.set("endDate",b)}}else{e=this.get("dateInterval");c=this.get("dateIntervalSteps");this.set("date",d.add(b,e,a*c))}},goToday:function(){this.set("date",this.floorToDay(new this.dateClassObj,true));this.set("dateInterval","day");this.set("dateIntervalSteps",1)},postCreate:function(){this.inherited(arguments);this.configureButtons()},configureButtons:function(){var a=[],b=!this.isLeftToRight();if(this.previousButton){this.previousButton.set("label",g[b?"nextButton":"previousButton"]);a.push(w(this.previousButton,
"click",o.hitch(this,b?this.nextRange:this.previousRange)))}if(this.nextButton){this.nextButton.set("label",g[b?"previousButton":"nextButton"]);a.push(w(this.nextButton,"click",o.hitch(this,b?this.previousRange:this.nextRange)))}if(b&&this.previousButton&&this.nextButton){b=this.previousButton;this.previousButton=this.nextButton;this.nextButton=b}if(this.todayButton){this.todayButton.set("label",g.todayButton);a.push(w(this.todayButton,"click",o.hitch(this,this.todayButtonClick)))}if(this.dayButton){this.dayButton.set("label",
g.dayButton);a.push(w(this.dayButton,"click",o.hitch(this,this.dayButtonClick)))}if(this.weekButton){this.weekButton.set("label",g.weekButton);a.push(w(this.weekButton,"click",o.hitch(this,this.weekButtonClick)))}if(this.fourDaysButton){this.fourDaysButton.set("label",g.fourDaysButton);a.push(w(this.fourDaysButton,"click",o.hitch(this,this.fourDaysButtonClick)))}if(this.monthButton){this.monthButton.set("label",g.monthButton);a.push(w(this.monthButton,"click",o.hitch(this,this.monthButtonClick)))}this._buttonHandles=
a},todayButtonClick:function(){this.goToday()},dayButtonClick:function(){this.get("date")==null&&this.set("date",this.floorToDay(new this.dateClassObj,true));this.set("dateInterval","day");this.set("dateIntervalSteps",1)},weekButtonClick:function(){this.set("dateInterval","week");this.set("dateIntervalSteps",1)},fourDaysButtonClick:function(){this.set("dateInterval","day");this.set("dateIntervalSteps",4)},monthButtonClick:function(){this.set("dateInterval","month");this.set("dateIntervalSteps",1)},
updateRenderers:function(a,b){this.currentView&&this.currentView.updateRenderers(a,b)},getIdentity:function(a){return a?a.id:null},_setHoveredItem:function(a,b){if(this.hoveredItem&&a&&this.hoveredItem.id!=a.id||a==null||this.hoveredItem==null){var d=this.hoveredItem;this.hoveredItem=a;this.updateRenderers([d,this.hoveredItem],true);a&&b&&this.currentView._updateEditingCapabilities(a,b)}},hoveredItem:null,isItemHovered:function(a){return this.hoveredItem!=null&&this.hoveredItem.id==a.id},isItemEditable:function(){return this.editable},
isItemMoveEnabled:function(){return this.isItemEditable()&&this.moveEnabled},isItemResizeEnabled:function(){return this.isItemEditable()&&this.resizeEnabled},onGridClick:function(){},onGridDoubleClick:function(){},onItemClick:function(){},onItemDoubleClick:function(){},onItemContextMenu:function(){},onItemEditBegin:function(){},onItemEditEnd:function(){},onItemEditBeginGesture:function(){},onItemEditMoveGesture:function(){},onItemEditResizeGesture:function(){},onItemEditEndGesture:function(){},onItemRollOver:function(){},
onItemRollOut:function(){},onColumnHeaderClick:function(){},onRowHeaderClick:function(){},onRendererCreated:function(){},onRendererRecycled:function(){},onRendererReused:function(){},onRendererDestroyed:function(){},onRenderersLayoutDone:function(){}})})},"dojox/html/metrics":function(){define("dojox/html/metrics","dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(v,n,s,o,q,j,m){var e=n.getObject("dojox.html.metrics",
true),h=n.getObject("dojox");e.getFontMeasurements=function(){var e={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0};if(s("ie"))j.doc.documentElement.style.fontSize="100%";var c=j.doc.createElement("div"),h=c.style;h.position="absolute";h.left="-100px";h.top="0";h.width="30px";h.height="1000em";h.borderWidth="0";h.margin="0";h.padding="0";h.outline="0";h.lineHeight="1";h.overflow="hidden";j.body().appendChild(c);for(var l in e){h.fontSize=
l;e[l]=Math.round(c.offsetHeight*12/16)*16/12/1E3}j.body().removeChild(c);return e};var c=null;e.getCachedFontMeasurements=function(h){if(h||!c)c=e.getFontMeasurements();return c};var l=null,t={};e.getTextBox=function(e,c,h){var n,o;if(l)n=l;else{n=l=j.doc.createElement("div");var a=j.doc.createElement("div");a.appendChild(n);o=a.style;o.overflow="scroll";o.position="absolute";o.left="0px";o.top="-10000px";o.width="1px";o.height="1px";o.visibility="hidden";o.borderWidth="0";o.margin="0";o.padding=
"0";o.outline="0";j.body().appendChild(a)}n.className="";o=n.style;o.borderWidth="0";o.margin="0";o.padding="0";o.outline="0";if(arguments.length>1&&c)for(var b in c)b in t||(o[b]=c[b]);if(arguments.length>2&&h)n.className=h;n.innerHTML=e;o=m.position(n);o.w=n.parentNode.scrollWidth;return o};var y=16,r=16;e.getScrollbar=function(){return{w:y,h:r}};e._fontResizeNode=null;e.initOnFontResize=function(){var c=e._fontResizeNode=j.doc.createElement("iframe"),l=c.style;l.position="absolute";l.width="5em";
l.height="10em";l.top="-10000px";l.display="none";s("ie")?c.onreadystatechange=function(){if(c.contentWindow.document.readyState=="complete")c.onresize=c.contentWindow.parent[h._scopeName].html.metrics._fontresize}:c.onload=function(){c.contentWindow.onresize=c.contentWindow.parent[h._scopeName].html.metrics._fontresize};c.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");j.body().appendChild(c);
e.initOnFontResize=function(){}};e.onFontResize=function(){};e._fontresize=function(){e.onFontResize()};q.addOnUnload(function(){var c=e._fontResizeNode;if(c){if(s("ie")&&c.onresize)c.onresize=null;else if(c.contentWindow&&c.contentWindow.onresize)c.contentWindow.onresize=null;e._fontResizeNode=null}});o(function(){try{var c=j.doc.createElement("div");c.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";j.body().appendChild(c);y=c.offsetWidth-
c.clientWidth;r=c.offsetHeight-c.clientHeight;j.body().removeChild(c);delete c}catch(h){}"fontSizeWatch"in v.config&&v.config.fontSizeWatch&&e.initOnFontResize()});return e})},"url:dojox/calendar/templates/VerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical" onselectstart="return false;">\n\t<div class="bg"></div>\n\t<dl style="width:100%;">\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\t\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\n\t<div data-dojo-attach-point="endTimeLabel" class="endTime"></div>\n</div>\n',
"dojox/calendar/ColumnViewSecondarySheet":function(){require({cache:{"url:dojox/calendar/templates/ColumnViewSecondarySheet.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t<div  data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\t\n\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0"></table>\n\t</div>\n\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t</div>\n</div>\n'}});
define("dojox/calendar/ColumnViewSecondarySheet","./MatrixView dojo/text!./templates/ColumnViewSecondarySheet.html dojo/_base/html dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-construct dojo/date dojo/date/locale dojo/query dojox/html/metrics dojo/_base/fx dojo/on dojo/i18n dojo/window".split(" "),function(v,n,s,o,q,j,m,e,h,c){return o("dojox.calendar.ColumnViewSecondarySheet",v,{templateString:n,rowCount:1,cellPaddingTop:4,
roundToDay:false,_defaultHeight:-1,layoutDuringResize:true,_defaultItemToRendererKindFunc:function(c){return c.allDay?"horizontal":null},_formatGridCellLabel:function(){return null},_formatRowHeaderLabel:function(){return null},__fixEvt:function(c){c.sheet="secondary";c.source=this;return c},_dispatchCalendarEvt:function(c,e){c=this.inherited(arguments);if(this.owner.owner)this.owner.owner[e](c)},_layoutExpandRenderers:function(e,h,j){if(this.expandRenderer){var m=c.getMarginBox(this.domNode).h;if(this._defaultHeight==
-1)this._defaultHeight=m;this._defaultHeight!=-1&&this._defaultHeight!=m&&m>=this._getExpandedHeight()?this._layoutExpandRendererImpl(0,this._expandedRowCol,null,true):this.inherited(arguments)}},expandRendererClickHandler:function(e,h){q.stop(e);var j=c.getMarginBox(this.domNode).h;if(this._defaultHeight==j||j<this._getExpandedHeight()){this._expandedRowCol=h.columnIndex;this.owner.resizeSecondarySheet(this._getExpandedHeight())}else this.owner.resizeSecondarySheet(this._defaultHeight)},_getExpandedHeight:function(){return this.naturalRowsHeight[0]+
this.expandRendererHeight+this.verticalGap+this.verticalGap},_layoutRenderers:function(c){this._domReady&&this.inherited(arguments)}})})},"dojox/calendar/VerticalRenderer":function(){require({cache:{"url:dojox/calendar/templates/VerticalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarVertical" onselectstart="return false;">\n\t<div class="bg"></div>\n\t<dl style="width:100%;">\n\t\t<dd data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25b2</dd>\n\t\t<dd data-dojo-attach-point="startTimeLabel" class="startTime"></dd>\n\t\t<dd data-dojo-attach-point="summaryLabel" class="summary"></dd>\n\t</dl>\t\n\t<span data-dojo-attach-point="afterIcon" class="afterIcon">\u25bc</span>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\n\t<div data-dojo-attach-point="endTimeLabel" class="endTime"></div>\n</div>\n'}});
define("dojox/calendar/VerticalRenderer",["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojox/calendar/_RendererMixin","dojo/text!./templates/VerticalRenderer.html"],function(v,n,s,o,q){return v("dojox.calendar.VerticalRenderer",[n,s,o],{templateString:q,postCreate:function(){this.inherited(arguments);this._applyAttributes()},_isElementVisible:function(j,m,e,h){var c;switch(j){case "startTimeLabel":c=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(c))return!1;
break;case "endTimeLabel":if(c=this.item.endTime,this.item.allDay||this.owner.isStartOfDay(c))return!1}return this.inherited(arguments)}})})},"dojox/calendar/Calendar":function(){require({cache:{"url:dojox/calendar/templates/Calendar.html":'<div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t<div data-dojo-attach-point="toolbar" data-dojo-type="dijit.Toolbar" >\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dijit.form.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dijit.form.Button" >\u25ba</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dijit.form.Button" />Today</button>\n\t\t\t<span data-dojo-type="dijit.ToolbarSeparator"></span>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dijit.form.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="fourDaysButton" data-dojo-type="dijit.form.Button" >4 Days</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dijit.form.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dijit.form.Button" >Month</button>\n\t\t</div>\n\t</div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n</div>\n'}});
define("dojox/calendar/Calendar","dojo/_base/declare dojo/_base/lang ./CalendarBase ./ColumnView ./ColumnViewSecondarySheet ./VerticalRenderer ./MatrixView ./HorizontalRenderer ./LabelRenderer ./ExpandRenderer ./Keyboard ./Mouse dojo/text!./templates/Calendar.html dijit/form/Button dijit/Toolbar dijit/ToolbarSeparator".split(" "),function(v,n,s,o,q,j,m,e,h,c,l,t,y){return v("dojox.calendar.Calendar",s,{templateString:y,_createDefaultViews:function(){var r=v([q,l,t]),r=v([o,l,t])(n.mixin({secondarySheetClass:r,
verticalRenderer:j,horizontalRenderer:e,expandRenderer:c},this.columnViewProps)),s=v([m,l,t])(n.mixin({horizontalRenderer:e,labelRenderer:h,expandRenderer:c},this.matrixViewProps));this.columnView=r;this.matrixView=s;r=[r,s];this.installDefaultViewsActions(r);return r},installDefaultViewsActions:function(){this.matrixView.on("rowHeaderClick",n.hitch(this,this.matrixViewRowHeaderClick));this.columnView.on("columnHeaderClick",n.hitch(this,this.columnViewColumnHeaderClick))}})})},"url:dojox/calendar/templates/ExpandRenderer.html":'<div class="dojoxCalendarExpand" onselectstart="return false;" data-dojo-attach-event="click:_onClick,touchstart:_onMouseDown,touchend:_onClick,mousedown:_onMouseDown,mouseup:_onMouseUp,mouseover:_onMouseOver,mouseout:_onMouseOut">\n\t<div class="bg"><span data-dojo-attach-point="expand">\u25bc</span><span style="display:none" data-dojo-attach-point="collapse">\u25b2</span></div>\t\n</div>\n',
"dojox/calendar/HorizontalRenderer":function(){require({cache:{"url:dojox/calendar/templates/HorizontalRenderer.html":'<div class="dojoxCalendarEvent dojoxCalendarHorizontal" onselectstart="return false;">\n\t<div class="bg" ></div>\n\t<div style="position:absolute;left:2px;bottom:2px" data-dojo-attach-point="beforeIcon" class="beforeIcon">\u25c4</div>\t\n\t<div data-dojo-attach-point="labelContainer" class="labels">\t\t\n\t\t<span data-dojo-attach-point="startTimeLabel" class="startTime"></span>\n\t\t<span data-dojo-attach-point="summaryLabel" class="summary"></span>\n\t\t<span  data-dojo-attach-point="endTimeLabel" class="endTime"></span>\n\t</div>\n\t<div style="position:absolute;right:2px;bottom:2px" data-dojo-attach-point="afterIcon" class="afterIcon">\u25ba</div>\n\t<div data-dojo-attach-point="moveHandle" class="handle moveHandle" ></div>\n\t<div data-dojo-attach-point="resizeStartHandle" class="handle resizeStartHandle"></div>\n\t<div data-dojo-attach-point="resizeEndHandle" class="handle resizeEndHandle" ></div>\t\n</div>\n'}});
define("dojox/calendar/HorizontalRenderer","dojo/_base/declare dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dojox/calendar/_RendererMixin dojo/text!./templates/HorizontalRenderer.html".split(" "),function(v,n,s,o,q,j){return v("dojox.calendar.HorizontalRenderer",[s,o,q],{templateString:j,_orientation:"horizontal",visibilityLimits:{resizeStartHandle:50,resizeEndHandle:-1,summaryLabel:15,startTimeLabel:32,endTimeLabel:30},_displayValueMap:{beforeIcon:"inline",afterIcon:"inline"},_displayValue:"inline",
arrowPadding:12,_isElementVisible:function(j,e,h,c){var l;l=this.isLeftToRight();if(j=="startTimeLabel"){this.labelContainer&&(l&&h||!l&&e)?n.set(this.labelContainer,"marginRight",this.arrowPadding+"px"):n.set(this.labelContainer,"marginRight",0);this.labelContainer&&(!l&&h||l&&e)?n.set(this.labelContainer,"marginLeft",this.arrowPadding+"px"):n.set(this.labelContainer,"marginLeft",0)}switch(j){case "startTimeLabel":l=this.item.startTime;if(this.item.allDay||this.owner.isStartOfDay(l))return false;
break;case "endTimeLabel":l=this.item.endTime;if(this.item.allDay||this.owner.isStartOfDay(l))return false}return this.inherited(arguments)},getDisplayValue:function(j){return(j=this._displayValueMap[j])?j:this._displayValue},postCreate:function(){this.inherited(arguments);this._applyAttributes()}})})},"dojox/widget/_Invalidating":function(){define("dojox/widget/_Invalidating",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(v,n,s){return v("dojox.widget._Invalidating",s,{invalidatingProperties:null,
invalidRendering:!1,postscript:function(o){this.inherited(arguments);if(this.invalidatingProperties)for(var q=this.invalidatingProperties,j=0;j<q.length;j++)this.watch(q[j],n.hitch(this,this.invalidateRendering)),o&&q[j]in o&&this.invalidateRendering()},addInvalidatingProperties:function(n){this.invalidatingProperties=this.invalidatingProperties?this.invalidatingProperties.concat(n):n},invalidateRendering:function(){this.invalidRendering||(this.invalidRendering=!0,setTimeout(n.hitch(this,this.validateRendering),
0))},validateRendering:function(){this.invalidRendering&&(this.refreshRendering(),this.invalidRendering=!1)},refreshRendering:function(){}})})},"dojox/calendar/ColumnView":function(){require({cache:{"url:dojox/calendar/templates/ColumnView.html":'<div data-dojo-attach-events="keydown:_onKeyDown">\n\t\n\t<div data-dojo-attach-point="header" class="dojoxCalendarHeader">\n\t\t<div class="dojoxCalendarYearColumnHeader" data-dojo-attach-point="yearColumnHeader">\n\t\t\t<table cellspacing="0" cellpadding="0"><tr><td><span data-dojo-attach-point="yearColumnHeaderContent"></span></td></tr></table>\t\t\n\t\t</div>\n\t\t<div data-dojo-attach-point="columnHeader" class="dojoxCalendarColumnHeader">\n\t\t\t<table data-dojo-attach-point="columnHeaderTable" class="dojoxCalendarColumnHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t</div>\n\t</div>\n\t\n\t<div data-dojo-attach-point="secondarySheetNode"></div>\n\t\n\t<div data-dojo-attach-point="scrollContainer" class="dojoxCalendarScrollContainer">\n\t\t<div data-dojo-attach-point="sheetContainer" style="position:relative;left:0;right:0;margin:0;padding:0">\n\t\t\t<div data-dojo-attach-point="rowHeader" class="dojoxCalendarRowHeader">\n\t\t\t\t<table data-dojo-attach-point="rowHeaderTable" class="dojoxCalendarRowHeaderTable" cellpadding="0" cellspacing="0"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="grid" class="dojoxCalendarGrid">\n\t\t\t\t<table data-dojo-attach-point="gridTable" class="dojoxCalendarGridTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t\t<div data-dojo-attach-point="itemContainer" class="dojoxCalendarContainer" data-dojo-attach-event="mousedown:_onGridMouseDown,mouseup:_onGridMouseUp,ondblclick:_onGridDoubleClick,touchstart:_onGridTouchStart,touchmove:_onGridTouchMove,touchend:_onGridTouchEnd">\n\t\t\t\t<table data-dojo-attach-point="itemContainerTable" class="dojoxCalendarContainerTable" cellpadding="0" cellspacing="0" style="width:100%"></table>\n\t\t\t</div>\n\t\t</div> \n\t</div>\n\t\n\t<div data-dojo-attach-point="vScrollBar" class="dojoxCalendarVScrollBar">\n\t\t<div data-dojo-attach-point="vScrollBarContent" style="visibility:hidden;position:relative;width:1px;height:1px;" ></div>\n\t</div>\n\t\n</div>\n'}});
define("dojox/calendar/ColumnView","dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/sniff dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom-construct dojo/on dojo/date dojo/date/locale dojo/query dojox/html/metrics ./SimpleColumnView dojo/text!./templates/ColumnView.html ./ColumnViewSecondarySheet".split(" "),function(v,n,s,o,q,j,m,e,h,c,l,t,y,r,w,A,x,C){return v("dojox.calendar.ColumnView",A,{templateString:x,baseClass:"dojoxCalendarColumnView",secondarySheetClass:C,
secondarySheetProps:null,headerPadding:3,buildRendering:function(){this.inherited(arguments);if(this.secondarySheetNode){this.secondarySheet=new this.secondarySheetClass(s.mixin({owner:this},this.secondarySheetProps),this.secondarySheetNode);this.secondarySheetNode=this.secondarySheet.domNode}},destroy:function(c){this.secondarySheet&&this.secondarySheet.destroy(c);this.inherited(arguments)},_setVisibility:function(c){this.inherited(arguments);this.secondarySheet&&this.secondarySheet._setVisibility(c)},
invalidateLayout:function(){this._layoutRenderers(this.renderData);this.secondarySheet&&this.secondarySheet._layoutRenderers(this.secondarySheet.renderData)},onRowHeaderClick:function(){},resizeSecondarySheet:function(c){if(this.secondarySheetNode){var a=h.getMarginBox(this.header).h;e.set(this.secondarySheetNode,"height",c+"px");this.secondarySheet._resizeHandler(null,true);c=c+a+this.headerPadding+"px";e.set(this.scrollContainer,"top",c);this.vScrollBar&&e.set(this.vScrollBar,"top",c)}},updateRenderers:function(c,
a){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.updateRenderers(c,a)},_setItemsAttr:function(c){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("items",c)},_setStartDateAttr:function(c){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("startDate",c)},_setColumnCountAttr:function(c){this.inherited(arguments);this.secondarySheet&&this.secondarySheet.set("columnCount",c)},_setHorizontalRendererAttr:function(c){this.secondarySheet&&this.secondarySheet.set("horizontalRenderer",
c)},_getHorizontalRendererAttr:function(){if(this.secondarySheet)return this.secondarySheet.get("horizontalRenderer")},_setExpandRendererAttr:function(c){this.secondarySheet&&this.secondarySheet.set("expandRenderer",c)},_getExpandRendererAttr:function(){if(this.secondarySheet)return this.secondarySheet.get("expandRenderer")},_setTextDirAttr:function(c){this.secondarySheet.set("textDir",c);this._set("textDir",c)},_defaultItemToRendererKindFunc:function(c){return c.allDay?null:"vertical"},getSecondarySheet:function(){return this.secondarySheet},
_onGridTouchStart:function(c){this.inherited(arguments);this._doEndItemEditing(this.secondarySheet,"touch")},_onGridMouseDown:function(c){this.inherited(arguments);this._doEndItemEditing(this.secondarySheet,"mouse")},_configureScrollBar:function(c){this.inherited(arguments);if(this.secondarySheetNode){var a=this.isLeftToRight()?true:this.scrollBarRTLPosition=="right";e.set(this.secondarySheetNode,a?"right":"left",c.scrollbarWidth+"px");e.set(this.secondarySheetNode,a?"left":"right","0")}},_refreshItemsRendering:function(){this.inherited(arguments);
if(this.secondarySheet){var c=this.secondarySheet.renderData;this.secondarySheet._computeVisibleItems(c);this.secondarySheet._layoutRenderers(c)}},_layoutRenderers:function(c){if(!this.secondarySheet._domReady){this.secondarySheet._domReady=true;this.secondarySheet._layoutRenderers(this.secondarySheet.renderData)}this.inherited(arguments)},invalidateRendering:function(){this.secondarySheet&&this.secondarySheet.invalidateRendering();this.inherited(arguments)}})})},"dojox/calendar/MobileCalendar":function(){require({cache:{"url:dojox/calendar/templates/MobileCalendar.html":'<div>\n\t<div data-dojo-attach-point="viewContainer" class="viewContainer"></div>\n\t<div data-dojo-attach-point="buttonContainer" class="buttonContainer">\n\t\t\t<button data-dojo-attach-point="previousButton" data-dojo-type="dojox.mobile.Button" >\u25c4</button>\n\t\t\t<button data-dojo-attach-point="todayButton" data-dojo-type="dojox.mobile.Button" />Today</button>\n\t\t\t<button data-dojo-attach-point="dayButton" data-dojo-type="dojox.mobile.Button" >Day</button>\n\t\t\t<button data-dojo-attach-point="weekButton" data-dojo-type="dojox.mobile.Button" >Week</button>\t\t\t\n\t\t\t<button data-dojo-attach-point="monthButton" data-dojo-type="dojox.mobile.Button" >Month</button>\n\t\t<button data-dojo-attach-point="nextButton" data-dojo-type="dojox.mobile.Button" >\u25ba</button>\n\t</div>\n</div>\n'}});
define("dojox/calendar/MobileCalendar","dojo/_base/declare dojo/_base/lang ./CalendarBase ./ColumnView ./ColumnViewSecondarySheet ./MobileVerticalRenderer ./MatrixView ./MobileHorizontalRenderer ./LabelRenderer ./ExpandRenderer ./Touch dojo/text!./templates/MobileCalendar.html dojox/mobile/Button".split(" "),function(v,n,s,o,q,j,m,e,h,c,l,t){return v("dojox.calendar.MobileCalendar",s,{templateString:t,_createDefaultViews:function(){var s=v([q,l]),s=v([o,l])(n.mixin({secondarySheetClass:s,verticalRenderer:j,
horizontalRenderer:e,expandRenderer:c},this.columnViewProps)),r=v([m,l])(n.mixin({horizontalRenderer:e,labelRenderer:h,expandRenderer:c},this.matrixViewProps));this.columnView=s;this.matrixView=r;s=[s,r];this.installDefaultViewsActions(s);return s},installDefaultViewsActions:function(){this.matrixView.on("rowHeaderClick",n.hitch(this,this.matrixViewRowHeaderClick));this.columnView.on("columnHeaderClick",n.hitch(this,this.columnViewColumnHeaderClick))}})})}}});define("dojo/calendar-layer",[],1);