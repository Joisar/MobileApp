//>>built
require({cache:{"dojox/gfx/arc":function(){define("dojox/gfx/arc",["./_base","dojo/_base/lang","./matrix"],function(f,t,m){function u(a){var q=Math.cos(a),a=Math.sin(a),i={x:q+4/3*(1-q),y:a-4/3*q*(1-q)/a};return{s:{x:q,y:-a},c1:{x:i.x,y:-i.y},c2:i,e:{x:q,y:a}}}var v=2*Math.PI,a=Math.PI/4,o=Math.PI/8,k=a+o,i=u(o);return f.arc={unitArcAsBezier:u,curvePI4:i,arcAsBezier:function(c,q,r,l,b,B,n,y){var b=Boolean(b),B=Boolean(B),w=m._degToRad(l),l=q*q,h=r*r,C=m.multiplyPoint(m.rotate(-w),{x:(c.x-n)/2,y:(c.y-
y)/2}),I=C.x*C.x,f=C.y*C.y,l=Math.sqrt((l*h-l*f-h*I)/(l*f+h*I));isNaN(l)&&(l=0);l={x:l*q*C.y/r,y:-l*r*C.x/q};b==B&&(l={x:-l.x,y:-l.y});l=m.multiplyPoint([m.translate((c.x+n)/2,(c.y+y)/2),m.rotate(w)],l);q=m.normalize([m.translate(l.x,l.y),m.rotate(w),m.scale(q,r)]);l=m.invert(q);c=m.multiplyPoint(l,c);y=m.multiplyPoint(l,n,y);n=Math.atan2(c.y,c.x);y=Math.atan2(y.y,y.x);l=n-y;B&&(l=-l);0>l?l+=v:l>v&&(l-=v);r=o;y=i;r=B?r:-r;c=[];for(b=l;0<b;b-=a)b<k&&(r=b/2,y=u(r),r=B?r:-r,b=0),C=m.normalize([q,m.rotate(n+
r)]),B?(l=m.multiplyPoint(C,y.c1),w=m.multiplyPoint(C,y.c2),C=m.multiplyPoint(C,y.e)):(l=m.multiplyPoint(C,y.c2),w=m.multiplyPoint(C,y.c1),C=m.multiplyPoint(C,y.s)),c.push([l.x,l.y,w.x,w.y,C.x,C.y]),n+=2*r;return c}}})},"dojox/gfx/VectorText":function(){define("dojox/gfx/VectorText","dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/loader dojo/_base/xhr ./_base dojox/xml/DomParser dojox/html/metrics ./matrix".split(" "),function(f,t,m,u,v,a,o,k,i){var c=function(a){var c;v.get({url:a,
sync:true,load:function(l){c=l}});return c};f.getObject("dojox.gfx.VectorText",true);f.mixin(a,{vectorFontFitting:{NONE:0,FLOW:1,FIT:2},defaultVectorText:{type:"vectortext",x:0,y:0,width:null,height:null,text:"",align:"start",decoration:"none",fitting:0,leading:1.5},defaultVectorFont:{type:"vectorfont",size:"10pt",family:null},_vectorFontCache:{},_svgFontCache:{},getVectorFont:function(q){return a._vectorFontCache[q]?a._vectorFontCache[q]:new a.VectorFont(q)}});return t("dojox.gfx.VectorFont",null,
{_entityRe:/&(quot|apos|lt|gt|amp|#x[^;]+|#\d+);/g,_decodeEntitySequence:function(a){if(a.match(this._entityRe)){for(var c={amp:"&",apos:"'",quot:'"',lt:"<",gt:">"},l,b="";(l=this._entityRe.exec(a))!==null;)b=l[1].charAt(1)=="x"?b+String.fromCharCode(parseInt(l[1].slice(2),16)):isNaN(parseInt(l[1].slice(1),10))?b+(c[l[1]]||""):b+String.fromCharCode(parseInt(l[1].slice(1),10));return b}},_parse:function(q,c){var l=a._svgFontCache[c]||o.parse(q),b=l.documentElement.byName("font")[0],i=l.documentElement.byName("font-face")[0],
n=parseFloat(i.getAttribute("units-per-em")||1E3,10),y={x:parseFloat(b.getAttribute("horiz-adv-x"),10),y:parseFloat(b.getAttribute("vert-adv-y")||0,10)};if(!y.y)y.y=n;var b={horiz:{x:parseFloat(b.getAttribute("horiz-origin-x")||0,10),y:parseFloat(b.getAttribute("horiz-origin-y")||0,10)},vert:{x:parseFloat(b.getAttribute("vert-origin-x")||0,10),y:parseFloat(b.getAttribute("vert-origin-y")||0,10)}},w=i.getAttribute("font-family"),h=i.getAttribute("font-style")||"all",k=i.getAttribute("font-variant")||
"normal",I=i.getAttribute("font-weight")||"all",v=i.getAttribute("font-stretch")||"normal",t=i.getAttribute("unicode-range")||"U+0-10FFFF";i.getAttribute("panose-1");i.getAttribute("cap-height");var u=parseFloat(i.getAttribute("ascent")||n-b.vert.y,10),P=parseFloat(i.getAttribute("descent")||b.vert.y,10),Q={},K=w;i.byName("font-face-name")[0]&&(K=i.byName("font-face-name")[0].getAttribute("name"));if(!a._vectorFontCache[K]){m.forEach(["alphabetic","ideographic","mathematical","hanging"],function(b){var h=
i.getAttribute(b);h!==null&&(Q[b]=parseFloat(h,10))});var R=parseFloat(l.documentElement.byName("missing-glyph")[0].getAttribute("horiz-adv-x")||y.x,10),O={},Z={},$=l.documentElement.byName("glyph");m.forEach($,function(b){var h=b.getAttribute("unicode"),n=b.getAttribute("glyph-name"),l=parseFloat(b.getAttribute("horiz-adv-x")||y.x,10),b=b.getAttribute("d");h.match(this._entityRe)&&(h=this._decodeEntitySequence(h));l={code:h,name:n,xAdvance:l,path:b};O[h]=l;Z[n]=l},this);$=l.documentElement.byName("hkern");
m.forEach($,function(b){var h=-parseInt(b.getAttribute("k"),10),n=b.getAttribute("u1"),l=b.getAttribute("g1"),a=b.getAttribute("u2"),b=b.getAttribute("g2"),c;if(n){n=this._decodeEntitySequence(n);O[n]&&(c=O[n])}else Z[l]&&(c=Z[l]);if(c){if(!c.kern)c.kern={};if(a){a=this._decodeEntitySequence(a);c.kern[a]={x:h}}else Z[b]&&(c.kern[Z[b].code]={x:h})}},this);f.mixin(this,{family:w,name:K,style:h,variant:k,weight:I,stretch:v,range:t,viewbox:{width:n,height:n},origin:b,advance:f.mixin(y,{missing:{x:R,y:R}}),
ascent:u,descent:P,baseline:Q,glyphs:O});a._vectorFontCache[K]=this;a._vectorFontCache[c]=this;K!=w&&!a._vectorFontCache[w]&&(a._vectorFontCache[w]=this);a._svgFontCache[c]||(a._svgFontCache[c]=l)}},_clean:function(){var c=this.name,i=this.family;m.forEach(["family","name","style","variant","weight","stretch","range","viewbox","origin","advance","ascent","descent","baseline","glyphs"],function(l){try{delete this[l]}catch(b){}},this);a._vectorFontCache[c]&&delete a._vectorFontCache[c];a._vectorFontCache[i]&&
delete a._vectorFontCache[i];return this},constructor:function(a){this._defaultLeading=1.5;a!==void 0&&this.load(a)},load:function(q){this.onLoadBegin(q.toString());this._parse(a._svgFontCache[q.toString()]||c(q.toString()),q.toString());this.onLoad(this);return this},initialized:function(){return this.glyphs!==null},_round:function(a){return Math.round(1E3*a)/1E3},_leading:function(a){return this.viewbox.height*(a||this._defaultLeading)},_normalize:function(a){return a.replace(/\s+/g,String.fromCharCode(32))},
_getWidth:function(a){var c=0,l=0,b=null;m.forEach(a,function(i,n){l=i.xAdvance;a[n]&&(i.kern&&i.kern[a[n].code])&&(l=l+i.kern[a[n].code].x);c=c+l;b=i});b&&b.code==" "&&(c=c-b.xAdvance);return this._round(c)},_getLongestLine:function(a){var c=0,l=0;m.forEach(a,function(b,a){var n=Math.max(c,this._getWidth(b));if(n>c){c=n;l=a}},this);return{width:c,index:l,line:a[l]}},_trim:function(a){var c=function(l){if(l.length){l[l.length-1].code==" "&&l.splice(l.length-1,1);l.length&&l[0].code==" "&&l.splice(0,
1)}};f.isArray(a[0])?m.forEach(a,c):c(a);return a},_split:function(a,c){for(var l=this._getWidth(a),l=Math.floor(l/c),b=[],i=0,n=[],y=false,w=0,h=a.length;w<h;w++){a[w].code==" "&&(y=true);i=i+a[w].xAdvance;w+1<h&&(a[w].kern&&a[w].kern[a[w+1].code])&&(i=i+a[w].kern[a[w+1].code].x);if(i>=l){for(i=a[w];y&&i.code!=" "&&w>=0;){i=n.pop();w--}b.push(n);n=[];i=0;y=false}n.push(a[w])}n.length&&b.push(n);return this._trim(b)},_getSizeFactor:function(a){var a=a+"",c=k.getCachedFontMeasurements(),l=this.viewbox.height,
b=c["1em"],b=parseFloat(a,10);if(a.indexOf("em")>-1)return this._round(c["1em"]*b/l);if(a.indexOf("ex")>-1)return this._round(c["1ex"]*b/l);if(a.indexOf("pt")>-1)return this._round(c["12pt"]/12*b/l);if(a.indexOf("px")>-1)return this._round(c["16px"]/16*b/l);if(a.indexOf("%")>-1)return this._round(c["1em"]*(b/100)/l);b=c[a]||c.medium;return this._round(b/l)},_getFitFactor:function(a,c,l,b){if(l){var i=this._getLongestLine(a).width;return this._round(Math.min(c/i,l/(a.length*this.viewbox.height*b-(this.viewbox.height*
b-this.viewbox.height))))}return this._round(c/this._getWidth(a))},_getBestFit:function(a,c,l,b){for(var i=32,n=0,y=i;i>0;){var w=this._getFitFactor(this._split(a,i),c,l,b);if(w>n){n=w;y=i}i--}return{scale:n,lines:this._split(a,y)}},_getBestFlow:function(a,c,l){for(var b=[],i=0,n=[],y=false,w=0,h=a.length;w<h;w++){a[w].code==" "&&(y=true);var k=a[w].xAdvance;w+1<h&&(a[w].kern&&a[w].kern[a[w+1].code])&&(k=k+a[w].kern[a[w+1].code].x);i=i+l*k;if(i>=c){for(i=a[w];y&&i.code!=" "&&w>=0;){i=n.pop();w--}b.push(n);
n=[];i=0;y=false}n.push(a[w])}n.length&&b.push(n);return this._trim(b)},getWidth:function(a,c){return this._getWidth(m.map(this._normalize(a).split(""),function(a){return this.glyphs[a]||{xAdvance:this.advance.missing.x}},this))*(c||1)},getLineHeight:function(a){return this.viewbox.height*(a||1)},getCenterline:function(a){return(a||1)*(this.viewbox.height/2)},getBaseline:function(a){return(a||1)*(this.viewbox.height+this.descent)},draw:function(c,k,l,b,o){if(!this.initialized())throw Error("dojox.gfx.VectorFont.draw(): we have not been initialized yet.");
var n=c.createGroup();if(k.x||k.y)c.applyTransform({dx:k.x||0,dy:k.y||0});var y=m.map(this._normalize(k.text).split(""),function(b){return this.glyphs[b]||{path:null,xAdvance:this.advance.missing.x}},this),c=l.size,w=k.fitting,h=k.width,C=k.height,l=k.align,k=k.leading||this._defaultLeading;if(w&&(w==a.vectorFontFitting.FLOW&&!h||w==a.vectorFontFitting.FIT&&(!h||!C)))w=a.vectorFontFitting.NONE;switch(w){case a.vectorFontFitting.FIT:y=this._getBestFit(y,h,C,k);c=y.scale;y=y.lines;break;case a.vectorFontFitting.FLOW:c=
this._getSizeFactor(c);y=this._getBestFlow(y,h,c);break;default:c=this._getSizeFactor(c);y=[y]}for(var y=m.filter(y,function(b){return b.length>0}),h=0,w=this._getLongestLine(y).width,C=0,I=y.length;C<I;C++){for(var v=0,f=y[C],t=this._getWidth(f),u=n.createGroup(),Q=0;Q<f.length;Q++){var K=f[Q];if(K.path!==null){var R=u.createPath(K.path).setFill(b);o&&R.setStroke(o);R.setTransform([i.flipY,i.translate(v,-this.viewbox.height-this.descent)])}v=v+K.xAdvance;Q+1<f.length&&(K.kern&&K.kern[f[Q+1].code])&&
(v=v+K.kern[f[Q+1].code].x)}v=0;l=="middle"?v=w/2-t/2:l=="end"&&(v=w-t);u.setTransform({dx:v,dy:h});h=h+this.viewbox.height*k}n.setTransform(i.scale(c));return n},onLoadBegin:function(){},onLoad:function(){}})})},"dojox/gfx":function(){define("dojox/gfx",["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(f,t,m){t.switchTo(m);return t})},"dojox/gfx/shape":function(){define("dojox/gfx/shape","./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/_base/connect dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),
function(f,t,m,u,v,a,o,k,i,c){var q=f.shape={},r={},l={};q.register=function(b){var a=b.declaredClass.split(".").pop(),n=a in r?++r[a]:r[a]=0,a=a+n;l[a]=b;return a};q.byId=function(b){return l[b]};q.dispose=function(b){delete l[b.getUID()]};q.Shape=m("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;var b=q.register(this);this.getUID=function(){return b}},destroy:function(){q.dispose(this)},
getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b)return null;var a=this._getRealMatrix();return[c.multiplyPoint(a,b.x,b.y),c.multiplyPoint(a,b.x+b.width,b.y),c.multiplyPoint(a,b.x+b.width,
b.y+b.height),c.multiplyPoint(a,b.x,b.y+b.height)]},getEventSource:function(){return this.rawNode},setClip:function(b){this.clip=b},getClip:function(){return this.clip},setShape:function(b){this.shape=f.makeParameters(this.shape,b);this.bbox=null;return this},setFill:function(b){if(!b){this.fillStyle=null;return this}var a=null;if(typeof b=="object"&&"type"in b)switch(b.type){case "linear":a=f.makeParameters(f.defaultLinearGradient,b);break;case "radial":a=f.makeParameters(f.defaultRadialGradient,
b);break;case "pattern":a=f.makeParameters(f.defaultPattern,b)}else a=f.normalizeColor(b);this.fillStyle=a;return this},setStroke:function(b){if(!b){this.strokeStyle=null;return this}if(typeof b=="string"||t.isArray(b)||b instanceof i)b={color:b};b=this.strokeStyle=f.makeParameters(f.defaultStroke,b);b.color=f.normalizeColor(b.color);return this},setTransform:function(b){this.matrix=c.clone(b?c.normalize(b):c.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var b=
this.getParent();if(b){b._moveChildToFront(this);this._moveToFront()}return this},moveToBack:function(){var b=this.getParent();if(b){b._moveChildToBack(this);this._moveToBack()}return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(b){return b?this.setTransform([this.matrix,b]):this},applyLeftTransform:function(b){return b?this.setTransform([b,this.matrix]):this},applyTransform:function(b){return b?this.setTransform([this.matrix,b]):this},removeShape:function(b){this.parent&&
this.parent.remove(this,b);return this},_setParent:function(b,a){this.parent=b;return this._updateParentMatrix(a)},_updateParentMatrix:function(b){this.parentMatrix=b?c.clone(b):null;return this._applyTransform()},_getRealMatrix:function(){for(var b=this.matrix,a=this.parent;a;){a.matrix&&(b=c.multiply(a.matrix,b));a=a.parent}return b}});q._eventsProcessing={connect:function(b,l,n){return a.connect(this.getEventSource(),b,q.fixCallback(this,f.fixTarget,l,n))},disconnect:function(b){a.disconnect(b)}};
q.fixCallback=function(b,a,n,l){if(!l){l=n;n=null}if(t.isString(l)){n=n||u.global;if(!n[l])throw['dojox.gfx.shape.fixCallback: scope["',l,'"] is null (scope="',n,'")'].join("");return function(c){return a(c,b)?n[l].apply(n,arguments||[]):void 0}}return!n?function(c){return a(c,b)?l.apply(n,arguments):void 0}:function(c){return a(c,b)?l.apply(n,arguments||[]):void 0}};t.extend(q.Shape,q._eventsProcessing);q.Container={_init:function(){this.children=[]},openBatch:function(){},closeBatch:function(){},
add:function(b){var a=b.getParent();a&&a.remove(b,true);this.children.push(b);return b._setParent(this,this._getRealMatrix())},remove:function(b,a){for(var n=0;n<this.children.length;++n)if(this.children[n]==b){if(!a){b.parent=null;b.parentMatrix=null}this.children.splice(n,1);break}return this},clear:function(b){for(var a,n=0;n<this.children.length;++n){a=this.children[n];a.parent=null;a.parentMatrix=null;b&&a.destroy()}this.children=[];return this},getBoundingBox:function(){if(this.children){var b=
null;o.forEach(this.children,function(a){var n=a.getBoundingBox();if(n){(a=a.getTransform())&&(n=c.multiplyRectangle(a,n));if(b){b.x=Math.min(b.x,n.x);b.y=Math.min(b.y,n.y);b.endX=Math.max(b.endX,n.x+n.width);b.endY=Math.max(b.endY,n.y+n.height)}else b={x:n.x,y:n.y,endX:n.x+n.width,endY:n.y+n.height}}});if(b){b.width=b.endX-b.x;b.height=b.endY-b.y}return b}return null},_moveChildToFront:function(b){for(var a=0;a<this.children.length;++a)if(this.children[a]==b){this.children.splice(a,1);this.children.push(b);
break}return this},_moveChildToBack:function(b){for(var a=0;a<this.children.length;++a)if(this.children[a]==b){this.children.splice(a,1);this.children.unshift(b);break}return this}};q.Surface=m("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){o.forEach(this._nodes,k.destroy);this._nodes=[];o.forEach(this._events,a.disconnect);this._events=[];this.rawNode=null;if(v("ie"))for(;this._parent.lastChild;)k.destroy(this._parent.lastChild);
else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:true,onLoad:function(){},whenLoaded:function(b,l){var n=t.hitch(b,l);if(this.isLoaded)n(this);else var c=a.connect(this,"onLoad",function(b){a.disconnect(c);n(b)})}});t.extend(q.Surface,q._eventsProcessing);q.Rect=m("dojox.gfx.shape.Rect",q.Shape,{constructor:function(b){this.shape=f.getDefault("Rect");this.rawNode=b},getBoundingBox:function(){return this.shape}});
q.Ellipse=m("dojox.gfx.shape.Ellipse",q.Shape,{constructor:function(b){this.shape=f.getDefault("Ellipse");this.rawNode=b},getBoundingBox:function(){if(!this.bbox){var b=this.shape;this.bbox={x:b.cx-b.rx,y:b.cy-b.ry,width:2*b.rx,height:2*b.ry}}return this.bbox}});q.Circle=m("dojox.gfx.shape.Circle",q.Shape,{constructor:function(b){this.shape=f.getDefault("Circle");this.rawNode=b},getBoundingBox:function(){if(!this.bbox){var b=this.shape;this.bbox={x:b.cx-b.r,y:b.cy-b.r,width:2*b.r,height:2*b.r}}return this.bbox}});
q.Line=m("dojox.gfx.shape.Line",q.Shape,{constructor:function(b){this.shape=f.getDefault("Line");this.rawNode=b},getBoundingBox:function(){if(!this.bbox){var b=this.shape;this.bbox={x:Math.min(b.x1,b.x2),y:Math.min(b.y1,b.y2),width:Math.abs(b.x2-b.x1),height:Math.abs(b.y2-b.y1)}}return this.bbox}});q.Polyline=m("dojox.gfx.shape.Polyline",q.Shape,{constructor:function(b){this.shape=f.getDefault("Polyline");this.rawNode=b},setShape:function(b,a){if(b&&b instanceof Array){this.inherited(arguments,[{points:b}]);
a&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])}else this.inherited(arguments,[b]);return this},_normalizePoints:function(){var b=this.shape.points,a=b&&b.length;if(a&&typeof b[0]=="number"){for(var n=[],l=0;l<a;l=l+2)n.push({x:b[l],y:b[l+1]});this.shape.points=n}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var b=this.shape.points,a=b.length,n=b[0],l=n.x,c=n.y,h=n.x,i=n.y,k=1;k<a;++k){n=b[k];if(l>n.x)l=n.x;if(h<n.x)h=n.x;if(c>n.y)c=n.y;if(i<n.y)i=
n.y}this.bbox={x:l,y:c,width:h-l,height:i-c}}return this.bbox}});q.Image=m("dojox.gfx.shape.Image",q.Shape,{constructor:function(b){this.shape=f.getDefault("Image");this.rawNode=b},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});q.Text=m(q.Shape,{constructor:function(b){this.fontStyle=null;this.shape=f.getDefault("Text");this.rawNode=b},getFont:function(){return this.fontStyle},setFont:function(b){this.fontStyle=typeof b=="string"?f.splitFontString(b):
f.makeParameters(f.defaultFont,b);this._setFont();return this}});q.Creator={createShape:function(b){switch(b.type){case f.defaultPath.type:return this.createPath(b);case f.defaultRect.type:return this.createRect(b);case f.defaultCircle.type:return this.createCircle(b);case f.defaultEllipse.type:return this.createEllipse(b);case f.defaultLine.type:return this.createLine(b);case f.defaultPolyline.type:return this.createPolyline(b);case f.defaultImage.type:return this.createImage(b);case f.defaultText.type:return this.createText(b);
case f.defaultTextPath.type:return this.createTextPath(b)}return null},createGroup:function(){return this.createObject(f.Group)},createRect:function(b){return this.createObject(f.Rect,b)},createEllipse:function(b){return this.createObject(f.Ellipse,b)},createCircle:function(b){return this.createObject(f.Circle,b)},createLine:function(b){return this.createObject(f.Line,b)},createPolyline:function(b){return this.createObject(f.Polyline,b)},createImage:function(b){return this.createObject(f.Image,b)},
createText:function(b){return this.createObject(f.Text,b)},createPath:function(b){return this.createObject(f.Path,b)},createTextPath:function(b){return this.createObject(f.TextPath,{}).setText(b)},createObject:function(){return null}};return q})},"dojox/gfx/canvas":function(){define("dojox/gfx/canvas","./_base dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom-geometry dojo/dom ./_base ./shape ./path ./arc ./matrix ./decompose".split(" "),function(f,t,m,u,v,a,o,k,i,c,q,
r){var l=f.canvas={},b=null,B=r.multiplyPoint,n=Math.PI,y=2*n,w=n/2,k=t.extend;l.Shape=u("dojox.gfx.canvas.Shape",i.Shape,{_render:function(b){b.save();this._renderTransform(b);this._renderClip(b);this._renderShape(b);this._renderFill(b,true);this._renderStroke(b,true);b.restore()},_renderClip:function(b){if(this.canvasClip){this.canvasClip.render(b);b.clip()}},_renderTransform:function(b){if("canvasTransform"in this){var a=this.canvasTransform;b.translate(a.dx,a.dy);b.rotate(a.angle2);b.scale(a.sx,
a.sy);b.rotate(a.angle1)}},_renderShape:function(){},_renderFill:function(a,h){if("canvasFill"in this){var n=this.fillStyle;if("canvasFillImage"in this){var l=n.width,c=n.height,i=this.canvasFillImage.width,y=this.canvasFillImage.height,k=Math.min(l==i?1:l/i,c==y?1:c/y),o=(l-k*i)/2,w=(c-k*y)/2;b.width=l;b.height=c;var C=b.getContext("2d");C.clearRect(0,0,l,c);C.drawImage(this.canvasFillImage,0,0,i,y,o,w,k*i,k*y);this.canvasFill=a.createPattern(b,"repeat");delete this.canvasFillImage}a.fillStyle=this.canvasFill;
if(h){n.type==="pattern"&&(n.x!==0||n.y!==0)&&a.translate(n.x,n.y);a.fill()}}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(b,a){var n=this.strokeStyle;if(n){b.strokeStyle=n.color.toString();b.lineWidth=n.width;b.lineCap=n.cap;if(typeof n.join=="number"){b.lineJoin="miter";b.miterLimit=n.join}else b.lineJoin=n.join;a&&b.stroke()}else if(!a)b.strokeStyle="rgba(0,0,0,0.0)"},getEventSource:function(){return null},connect:function(){},disconnect:function(){},canvasClip:null,setClip:function(b){this.inherited(arguments);
var a=b?"width"in b?"rect":"cx"in b?"ellipse":"points"in b?"polyline":"d"in b?"path":null:null;if(b&&!a)return this;this.canvasClip=b?h(a,b):null;this.surface.makeDirty();return this}});var h=function(b,a){switch(b){case "ellipse":return{canvasEllipse:W(a),render:function(b){return l.Ellipse.prototype._renderShape.call(this,b)}};case "rect":return{shape:t.delegate(a,{r:0}),render:function(b){return l.Rect.prototype._renderShape.call(this,b)}};case "path":return{canvasPath:C(a),render:function(b){this.canvasPath._renderShape(b)}};
case "polyline":return{canvasPolyline:a.points,render:function(b){return l.Polyline.prototype._renderShape.call(this,b)}}}return null},C=function(b){var a=new dojox.gfx.canvas.Path;a.canvasPath=[];a._setPath(b.d);return a},I=function(b,a,n){var h=b.prototype[a];b.prototype[a]=n?function(){this.surface.makeDirty();h.apply(this,arguments);n.call(this);return this}:function(){this.surface.makeDirty();return h.apply(this,arguments)}};I(l.Shape,"setTransform",function(){this.matrix?this.canvasTransform=
f.decompose(this.matrix):delete this.canvasTransform});I(l.Shape,"setFill",function(){var a=this.fillStyle,n;if(a){if(typeof a=="object"&&"type"in a){var h=this.surface.rawNode.getContext("2d");switch(a.type){case "linear":case "radial":n=a.type=="linear"?h.createLinearGradient(a.x1,a.y1,a.x2,a.y2):h.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);m.forEach(a.colors,function(b){n.addColorStop(b.offset,f.normalizeColor(b.color).toString())});break;case "pattern":b||(b=document.createElement("canvas"));
h=new Image;this.surface.downloadImage(h,a.src);this.canvasFillImage=h}}else n=a.toString();this.canvasFill=n}else delete this.canvasFill});I(l.Shape,"setStroke");I(l.Shape,"setShape");l.Group=u("dojox.gfx.canvas.Group",l.Shape,{constructor:function(){i.Container._init.call(this)},_render:function(b){b.save();this._renderTransform(b);this._renderClip(b);for(var a=0;a<this.children.length;++a)this.children[a]._render(b);b.restore()},destroy:function(){this.clear(true);l.Shape.prototype.destroy.apply(this,
arguments)}});l.Rect=u("dojox.gfx.canvas.Rect",[l.Shape,i.Rect],{_renderShape:function(b){var a=this.shape,h=Math.min(a.r,a.height/2,a.width/2),l=a.x,c=l+a.width,i=a.y,a=i+a.height,y=l+h,k=c-h,o=i+h,C=a-h;b.beginPath();b.moveTo(y,i);if(h){b.arc(k,o,h,-w,0,false);b.arc(k,C,h,0,w,false);b.arc(y,C,h,w,n,false);b.arc(y,o,h,n,n+w,false)}else{b.lineTo(k,i);b.lineTo(c,C);b.lineTo(y,a);b.lineTo(l,o)}b.closePath()}});var J=[];(function(){var b=q.curvePI4;J.push(b.s,b.c1,b.c2,b.e);for(var a=45;a<360;a=a+45){var h=
r.rotateg(a);J.push(B(h,b.c1),B(h,b.c2),B(h,b.e))}})();var W=function(b){var a,h,n=[],l=r.normalize([r.translate(b.cx,b.cy),r.scale(b.rx,b.ry)]),b=B(l,J[0]);n.push([b.x,b.y]);for(var c=1;c<J.length;c=c+3){a=B(l,J[c]);h=B(l,J[c+1]);b=B(l,J[c+2]);n.push([a.x,a.y,h.x,h.y,b.x,b.y])}return n};l.Ellipse=u("dojox.gfx.canvas.Ellipse",[l.Shape,i.Ellipse],{setShape:function(){this.inherited(arguments);this.canvasEllipse=W(this.shape);return this},_renderShape:function(b){var a=this.canvasEllipse;b.beginPath();
b.moveTo.apply(b,a[0]);for(var h=1;h<a.length;++h)b.bezierCurveTo.apply(b,a[h]);b.closePath()}});l.Circle=u("dojox.gfx.canvas.Circle",[l.Shape,i.Circle],{_renderShape:function(b){var a=this.shape;b.beginPath();b.arc(a.cx,a.cy,a.r,0,y,1)}});l.Line=u("dojox.gfx.canvas.Line",[l.Shape,i.Line],{_renderShape:function(b){var a=this.shape;b.beginPath();b.moveTo(a.x1,a.y1);b.lineTo(a.x2,a.y2)}});l.Polyline=u("dojox.gfx.canvas.Polyline",[l.Shape,i.Polyline],{setShape:function(){this.inherited(arguments);var b=
this.shape.points,a=b[0],h,n;this.bbox=null;this._normalizePoints();if(b.length)if(typeof a=="number")a=b;else{a=[];for(n=0;n<b.length;++n){h=b[n];a.push(h.x,h.y)}}else a=[];this.canvasPolyline=a;return this},_renderShape:function(b){var a=this.canvasPolyline;if(a.length){b.beginPath();b.moveTo(a[0],a[1]);for(var h=2;h<a.length;h=h+2)b.lineTo(a[h],a[h+1])}}});l.Image=u("dojox.gfx.canvas.Image",[l.Shape,i.Image],{setShape:function(){this.inherited(arguments);var b=new Image;this.surface.downloadImage(b,
this.shape.src);this.canvasImage=b;return this},_renderShape:function(b){var a=this.shape;b.drawImage(this.canvasImage,a.x,a.y,a.width,a.height)}});l.Text=u("dojox.gfx.canvas.Text",[l.Shape,i.Text],{_setFont:function(){this.fontStyle?this.canvasFont=f.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var b=this.shape,a=0,h;if(b.text&&b.text.length>0){h=this.surface.rawNode.getContext("2d");h.save();this._renderTransform(h);this._renderFill(h,false);this._renderStroke(h,
false);if(this.canvasFont)h.font=this.canvasFont;a=h.measureText(b.text).width;h.restore()}return a},_render:function(b){b.save();this._renderTransform(b);this._renderFill(b,false);this._renderStroke(b,false);this._renderShape(b);b.restore()},_renderShape:function(b){var a,h=this.shape;if(h.text&&h.text.length!=0){a=h.align==="middle"?"center":h.align;b.textAlign=a;if(this.canvasFont)b.font=this.canvasFont;this.canvasFill&&b.fillText(h.text,h.x,h.y);if(this.strokeStyle){b.beginPath();b.strokeText(h.text,
h.x,h.y);b.closePath()}}}});I(l.Text,"setFont");if(v.global.CanvasRenderingContext2D)(v=v.doc.createElement("canvas").getContext("2d"))&&typeof v.fillText!="function"&&l.Text.extend({getTextWidth:function(){return 0},_renderShape:function(){}});var da={M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",
A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"};l.Path=u("dojox.gfx.canvas.Path",[l.Shape,c.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=[];return this.inherited(arguments)},_updateWithSegment:function(b){var a=t.clone(this.last);this[da[b.action]](this.canvasPath,b.action,b.args);this.last=a;this.inherited(arguments)},_renderShape:function(b){var a=this.canvasPath;b.beginPath();for(var h=0;h<a.length;h=h+2)b[a[h]].apply(b,a[h+1])},_moveToA:function(b,
a,h){b.push("moveTo",[h[0],h[1]]);for(a=2;a<h.length;a=a+2)b.push("lineTo",[h[a],h[a+1]]);this.last.x=h[h.length-2];this.last.y=h[h.length-1];this.lastControl={}},_moveToR:function(b,a,h){"x"in this.last?b.push("moveTo",[this.last.x=this.last.x+h[0],this.last.y=this.last.y+h[1]]):b.push("moveTo",[this.last.x=h[0],this.last.y=h[1]]);for(a=2;a<h.length;a=a+2)b.push("lineTo",[this.last.x=this.last.x+h[a],this.last.y=this.last.y+h[a+1]]);this.lastControl={}},_lineToA:function(b,a,h){for(a=0;a<h.length;a=
a+2)b.push("lineTo",[h[a],h[a+1]]);this.last.x=h[h.length-2];this.last.y=h[h.length-1];this.lastControl={}},_lineToR:function(b,a,h){for(a=0;a<h.length;a=a+2)b.push("lineTo",[this.last.x=this.last.x+h[a],this.last.y=this.last.y+h[a+1]]);this.lastControl={}},_hLineToA:function(b,a,h){for(a=0;a<h.length;++a)b.push("lineTo",[h[a],this.last.y]);this.last.x=h[h.length-1];this.lastControl={}},_hLineToR:function(b,a,h){for(a=0;a<h.length;++a)b.push("lineTo",[this.last.x=this.last.x+h[a],this.last.y]);this.lastControl=
{}},_vLineToA:function(b,a,h){for(a=0;a<h.length;++a)b.push("lineTo",[this.last.x,h[a]]);this.last.y=h[h.length-1];this.lastControl={}},_vLineToR:function(b,a,h){for(a=0;a<h.length;++a)b.push("lineTo",[this.last.x,this.last.y=this.last.y+h[a]]);this.lastControl={}},_curveToA:function(b,a,h){for(a=0;a<h.length;a=a+6)b.push("bezierCurveTo",h.slice(a,a+6));this.last.x=h[h.length-2];this.last.y=h[h.length-1];this.lastControl.x=h[h.length-4];this.lastControl.y=h[h.length-3];this.lastControl.type="C"},
_curveToR:function(b,a,h){for(a=0;a<h.length;a=a+6){b.push("bezierCurveTo",[this.last.x+h[a],this.last.y+h[a+1],this.lastControl.x=this.last.x+h[a+2],this.lastControl.y=this.last.y+h[a+3],this.last.x+h[a+4],this.last.y+h[a+5]]);this.last.x=this.last.x+h[a+4];this.last.y=this.last.y+h[a+5]}this.lastControl.type="C"},_smoothCurveToA:function(b,a,h){for(a=0;a<h.length;a=a+4){var n=this.lastControl.type=="C";b.push("bezierCurveTo",[n?2*this.last.x-this.lastControl.x:this.last.x,n?2*this.last.y-this.lastControl.y:
this.last.y,h[a],h[a+1],h[a+2],h[a+3]]);this.lastControl.x=h[a];this.lastControl.y=h[a+1];this.lastControl.type="C"}this.last.x=h[h.length-2];this.last.y=h[h.length-1]},_smoothCurveToR:function(b,a,h){for(a=0;a<h.length;a=a+4){var n=this.lastControl.type=="C";b.push("bezierCurveTo",[n?2*this.last.x-this.lastControl.x:this.last.x,n?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+h[a],this.last.y+h[a+1],this.last.x+h[a+2],this.last.y+h[a+3]]);this.lastControl.x=this.last.x+h[a];this.lastControl.y=
this.last.y+h[a+1];this.lastControl.type="C";this.last.x=this.last.x+h[a+2];this.last.y=this.last.y+h[a+3]}},_qCurveToA:function(a,b,h){for(b=0;b<h.length;b=b+4)a.push("quadraticCurveTo",h.slice(b,b+4));this.last.x=h[h.length-2];this.last.y=h[h.length-1];this.lastControl.x=h[h.length-4];this.lastControl.y=h[h.length-3];this.lastControl.type="Q"},_qCurveToR:function(a,b,h){for(b=0;b<h.length;b=b+4){a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+h[b],this.lastControl.y=this.last.y+h[b+1],
this.last.x+h[b+2],this.last.y+h[b+3]]);this.last.x=this.last.x+h[b+2];this.last.y=this.last.y+h[b+3]}this.lastControl.type="Q"},_qSmoothCurveToA:function(b,a,h){for(a=0;a<h.length;a=a+2){var n=this.lastControl.type=="Q";b.push("quadraticCurveTo",[this.lastControl.x=n?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=n?2*this.last.y-this.lastControl.y:this.last.y,h[a],h[a+1]]);this.lastControl.type="Q"}this.last.x=h[h.length-2];this.last.y=h[h.length-1]},_qSmoothCurveToR:function(a,
b,h){for(b=0;b<h.length;b=b+2){var n=this.lastControl.type=="Q";a.push("quadraticCurveTo",[this.lastControl.x=n?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=n?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+h[b],this.last.y+h[b+1]]);this.lastControl.type="Q";this.last.x=this.last.x+h[b];this.last.y=this.last.y+h[b+1]}},_arcTo:function(b,a,h){for(var a=a=="a",n=0;n<h.length;n=n+7){var l=h[n+5],c=h[n+6];if(a){l=l+this.last.x;c=c+this.last.y}var i=q.arcAsBezier(this.last,
h[n],h[n+1],h[n+2],h[n+3]?1:0,h[n+4]?1:0,l,c);m.forEach(i,function(a){b.push("bezierCurveTo",a)});this.last.x=l;this.last.y=c}this.lastControl={}},_closePath:function(b){b.push("closePath",[]);this.lastControl={}}});m.forEach(["moveTo","lineTo","hLineTo","vLineTo","curveTo","smoothCurveTo","qCurveTo","qSmoothCurveTo","arcTo","closePath"],function(b){I(l.Path,b)});l.TextPath=u("dojox.gfx.canvas.TextPath",[l.Shape,c.TextPath],{_renderShape:function(){},_setText:function(){},_setFont:function(){}});
l.Surface=u("dojox.gfx.canvas.Surface",i.Surface,{constructor:function(){i.Container._init.call(this);this.pendingImageCount=0;this.makeDirty()},destroy:function(){i.Container.clear.call(this,true);this.inherited(arguments)},setDimensions:function(b,a){this.width=f.normalizedLength(b);this.height=f.normalizedLength(a);if(!this.rawNode)return this;var h=false;if(this.rawNode.width!=this.width){this.rawNode.width=this.width;h=true}if(this.rawNode.height!=this.height){this.rawNode.height=this.height;
h=true}h&&this.makeDirty();return this},getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:null},_render:function(b){if(b||!this.pendingImageCount){b=this.rawNode.getContext("2d");b.clearRect(0,0,this.rawNode.width,this.rawNode.height);this.render(b);if("pendingRender"in this){clearTimeout(this.pendingRender);delete this.pendingRender}}},render:function(b){b.save();for(var a=0;a<this.children.length;++a)this.children[a]._render(b);b.restore()},makeDirty:function(){if(!this.pendingImagesCount&&
!("pendingRender"in this))this.pendingRender=setTimeout(t.hitch(this,this._render),0)},downloadImage:function(b,a){var h=t.hitch(this,this.onImageLoad);if(!this.pendingImageCount++&&"pendingRender"in this){clearTimeout(this.pendingRender);delete this.pendingRender}b.onload=h;b.onerror=h;b.onabort=h;b.src=a},onImageLoad:function(){if(!--this.pendingImageCount){this.onImagesLoaded();this._render()}},onImagesLoaded:function(){},getEventSource:function(){return null},connect:function(){},disconnect:function(){}});
l.createSurface=function(b,h,n){if(!h&&!n)var c=a.position(b),h=h||c.w,n=n||c.h;typeof h=="number"&&(h=h+"px");typeof n=="number"&&(n=n+"px");var c=new l.Surface,b=o.byId(b),i=b.ownerDocument.createElement("canvas");i.width=f.normalizedLength(h);i.height=f.normalizedLength(n);b.appendChild(i);c.rawNode=i;c._parent=b;return c.surface=c};var P=i.Container,u={add:function(b){this.surface.makeDirty();return P.add.apply(this,arguments)},remove:function(b,a){this.surface.makeDirty();return P.remove.apply(this,
arguments)},clear:function(){this.surface.makeDirty();return P.clear.apply(this,arguments)},getBoundingBox:P.getBoundingBox,_moveChildToFront:function(b){this.surface.makeDirty();return P._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(b){this.surface.makeDirty();return P._moveChildToBack.apply(this,arguments)}},c={createObject:function(b,a){var h=new b;h.surface=this.surface;h.setShape(a);this.add(h);return h}};k(l.Group,u);k(l.Group,i.Creator);k(l.Group,c);k(l.Surface,u);k(l.Surface,
i.Creator);k(l.Surface,c);l.fixTarget=function(){return true};return l})},"dojox/gfx/gradutils":function(){define("dojox/gfx/gradutils",["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(f,t,m,u){function v(a,o){if(0>=a)return o[0].color;var k=o.length;if(1<=a)return o[k-1].color;for(var i=0;i<k;++i){var c=o[i];if(c.offset>=a)return i?(k=o[i-1],u.blendColors(new u(k.color),new u(c.color),(a-k.offset)/(c.offset-k.offset))):c.color}return o[k-1].color}f=f.gradutils={};f.getColor=function(a,
o){var k;if(a){switch(a.type){case "linear":k=Math.atan2(a.y2-a.y1,a.x2-a.x1);k=m.rotate(-k);var i=m.project(a.x2-a.x1,a.y2-a.y1),c=m.multiplyPoint(i,o),q=m.multiplyPoint(i,a.x1,a.y1),i=m.multiplyPoint(i,a.x2,a.y2),i=m.multiplyPoint(k,i.x-q.x,i.y-q.y).x;k=m.multiplyPoint(k,c.x-q.x,c.y-q.y).x/i;break;case "radial":k=o.x-a.cx,c=o.y-a.cy,k=Math.sqrt(k*k+c*c)/a.r}return v(k,a.colors)}return new u(a||[0,0,0,0])};f.reverse=function(a){if(a)switch(a.type){case "linear":case "radial":if(a=t.delegate(a),a.colors){for(var o=
a.colors,k=o.length,i=0,c,q=a.colors=Array(o.length);i<k;++i)c=o[i],q[i]={offset:1-c.offset,color:c.color};q.sort(function(a,l){return a.offset-l.offset})}}return a};return f})},"dojox/gfx/_gfxBidiSupport":function(){define("dojox/gfx/_gfxBidiSupport","./_base dojo/_base/lang dojo/_base/sniff dojo/dom dojo/_base/html dojo/_base/array ./utils ./shape dojox/string/BidiEngine".split(" "),function(f,t,m,u,v,a,o,k,i){function c(a,b){var c=q(b);c&&f.utils.forEach(a,function(b){if(b instanceof f.Surface||
b instanceof f.Group)b.textDir=c;b instanceof f.Text&&b.setShape({textDir:c});b instanceof f.TextPath&&b.setText({textDir:c})},a);return a}function q(c){var b=["ltr","rtl","auto"];if(c){c=c.toLowerCase();if(a.indexOf(b,c)<0)return null}return c}t.getObject("dojox.gfx._gfxBidiSupport",true);switch(f.renderer){case "vml":f.isVml=true;break;case "svg":f.isSvg=true;if(f.svg.useSvgWeb)f.isSvgWeb=true;break;case "silverlight":f.isSilverlight=true;break;case "canvas":f.isCanvas=true}var r=new i;t.extend(f.shape.Surface,
{textDir:"",setTextDir:function(a){c(this,a)},getTextDir:function(){return this.textDir}});t.extend(f.Group,{textDir:"",setTextDir:function(a){c(this,a)},getTextDir:function(){return this.textDir}});t.extend(f.Text,{textDir:"",formatText:function(a,b){if(b&&a&&a.length>1){var c="ltr",n=b;if(n=="auto"){if(f.isVml)return a;n=r.checkContextual(a)}if(f.isVml){c=r.checkContextual(a);return n!=c?n=="rtl"?!r.hasBidiChar(a)?r.bidiTransform(a,"IRNNN","ILNNN"):"\u200f\u200f"+a:"\u200e"+a:a}if(f.isSvgWeb)return n==
"rtl"?r.bidiTransform(a,"IRNNN","ILNNN"):a;if(f.isSilverlight)return n=="rtl"?r.bidiTransform(a,"IRNNN","VLYNN"):r.bidiTransform(a,"ILNNN","VLYNN");if(f.isCanvas)return n=="rtl"?"\u202b"+a+"\u202c":"\u202a"+a+"\u202c";if(f.isSvg)return m("ff")<4?n=="rtl"?r.bidiTransform(a,"IRYNN","VLNNN"):r.bidiTransform(a,"ILYNN","VLNNN"):"\u200e"+(n=="rtl"?"\u202b":"\u202a")+a+"\u202c"}return a},bidiPreprocess:function(a){return a}});t.extend(f.TextPath,{textDir:"",formatText:function(a,b){if(b&&a&&a.length>1){var c=
"ltr",n=b;if(n=="auto"){if(f.isVml)return a;n=r.checkContextual(a)}if(f.isVml){c=r.checkContextual(a);return n!=c?n=="rtl"?!r.hasBidiChar(a)?r.bidiTransform(a,"IRNNN","ILNNN"):"\u200f\u200f"+a:"\u200e"+a:a}if(f.isSvgWeb)return n=="rtl"?r.bidiTransform(a,"IRNNN","ILNNN"):a;f.isSvg&&(a=m("opera")||m("ff")>=4?"\u200e"+(n=="rtl"?"\u202b":"\u202a")+a+"\u202c":n=="rtl"?r.bidiTransform(a,"IRYNN","VLNNN"):r.bidiTransform(a,"ILYNN","VLNNN"))}return a},bidiPreprocess:function(a){if(a&&typeof a=="string"){this.origText=
a;a=this.formatText(a,this.textDir)}return a}});o=function(a,b,c,n){var i=a.prototype[b];a.prototype[b]=function(){var a;c&&(a=c.apply(this,arguments));a=i.call(this,a);n&&(a=n.call(this,a,arguments));return a}};k=function(a){if(a){if(a.textDir)a.textDir=q(a.textDir);if(a.text&&a.text instanceof Array)a.text=a.text.join(",")}if(a&&(a.text!=void 0||a.textDir)&&(this.textDir!=a.textDir||a.text!=this.origText)){this.origText=a.text!=void 0?a.text:this.origText;if(a.textDir)this.textDir=a.textDir;a.text=
this.formatText(this.origText,this.textDir)}return this.bidiPreprocess(a)};o(f.Text,"setShape",k,null);o(f.TextPath,"setText",k,null);k=function(a){if((a=t.clone(a))&&this.origText)a.text=this.origText;return a};o(f.Text,"getShape",null,k);o(f.TextPath,"getText",null,k);k=function(a,b){var c;b&&b[0]&&(c=q(b[0]));a.setTextDir(c?c:this.textDir);return a};o(f.Surface,"createGroup",null,k);o(f.Group,"createGroup",null,k);k=function(a){if(a){var b=a.textDir?q(a.textDir):this.textDir;if(b)a.textDir=b}return a};
o(f.Surface,"createText",k,null);o(f.Surface,"createTextPath",k,null);o(f.Group,"createText",k,null);o(f.Group,"createTextPath",k,null);f.createSurface=function(a,b,c,n){b=f[f.renderer].createSurface(a,b,c);n=q(n);if(f.isSvgWeb){b.textDir=n?n:v.style(u.byId(a),"direction");return b}if(f.isVml||f.isSvg||f.isCanvas)b.textDir=n?n:v.style(b.rawNode,"direction");if(f.isSilverlight)b.textDir=n?n:v.style(b._nodes[1],"direction");return b};return f})},"dojox/gfx/fx":function(){define("dojox/gfx/fx","dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect".split(" "),
function(f,t,m,u,v,a,o){function k(a,b){this.start=a;this.end=b}function i(a,b,h){this.start=a;this.end=b;this.units=h}function c(a,b){this.start=a;this.end=b;this.temp=new u}function q(a){this.values=a;this.length=a.length}function r(a,b){this.values=a;this.def=b?b:{}}function l(a,b){this.stack=a;this.original=b}function b(a,b,h,n){if(a.values)return new q(a.values);var i,l;l=a.start?t.normalizeColor(a.start):i=b?h?b[h]:b:n;if(a.end)a=t.normalizeColor(a.end);else{i||(i=b?h?b[h]:b:n);a=i}return new c(l,
a)}var B=t.fx={};k.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};i.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};c.prototype.getValue=function(a){return u.blendColors(this.start,this.end,a,this.temp)};q.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};r.prototype.getValue=function(a){var b=f.clone(this.def),h;for(h in this.values)b[h]=this.values[h].getValue(a);return b};l.prototype.getValue=
function(a){var b=[];v.forEach(this.stack,function(h){if(h instanceof m.Matrix2D)b.push(h);else if(h.name=="original"&&this.original)b.push(this.original);else if(h.name=="matrix"){if(h.start instanceof m.Matrix2D&&h.end instanceof m.Matrix2D){var n=new m.Matrix2D,c;for(c in h.start)n[c]=(h.end[c]-h.start[c])*a+h.start[c];b.push(n)}}else if(h.name in m){n=m[h.name];if(typeof n!="function")b.push(n);else{c=v.map(h.start,function(b,n){return(h.end[n]-b)*a+b});n=n.apply(m,c);n instanceof m.Matrix2D&&
b.push(n)}}},this);return b};var n=new u(0,0,0,0);B.animateStroke=function(c){if(!c.easing)c.easing=a._defaultEasing;var i=new a.Animation(c),h=c.shape,l;o.connect(i,"beforeBegin",i,function(){l=h.getStroke();var a=c.color,i={},o;if(a)i.color=b(a,l,"color",n);if((a=c.style)&&a.values)i.style=new q(a.values);if(a=c.width){var m=a;if(m.values)o=new q(m.values);else{a=m.start?m.start:o=l?l.width:1;m.end?o=m.end:typeof o!="number"&&(o=l?l.width:1);o=new k(a,o)}i.width=o}if((a=c.cap)&&a.values)i.cap=new q(a.values);
if(a=c.join)if(a.values)i.join=new q(a.values);else{o=a.start?a.start:l&&l.join||0;a=a.end?a.end:l&&l.join||0;if(typeof o=="number"&&typeof a=="number")i.join=new k(o,a)}this.curve=new r(i,l)});o.connect(i,"onAnimate",h,"setStroke");return i};B.animateFill=function(c){if(!c.easing)c.easing=a._defaultEasing;var i=new a.Animation(c),h=c.shape,l;o.connect(i,"beforeBegin",i,function(){l=h.getFill();var a=c.color;if(a)this.curve=b(a,l,"",n)});o.connect(i,"onAnimate",h,"setFill");return i};B.animateFont=
function(b){if(!b.easing)b.easing=a._defaultEasing;var n=new a.Animation(b),h=b.shape,c;o.connect(n,"beforeBegin",n,function(){c=h.getFont();var a=b.style,n={},l,k;if(a&&a.values)n.style=new q(a.values);if((a=b.variant)&&a.values)n.variant=new q(a.values);if((a=b.weight)&&a.values)n.weight=new q(a.values);if((a=b.family)&&a.values)n.family=new q(a.values);if((a=b.size)&&a.units){l=parseFloat(a.start?a.start:h.font&&h.font.size||"0");k=parseFloat(a.end?a.end:h.font&&h.font.size||"0");n.size=new i(l,
k,a.units)}this.curve=new r(n,c)});o.connect(n,"onAnimate",h,"setFont");return n};B.animateTransform=function(b){if(!b.easing)b.easing=a._defaultEasing;var n=new a.Animation(b),h=b.shape,c;o.connect(n,"beforeBegin",n,function(){c=h.getTransform();this.curve=new l(b.transform,c)});o.connect(n,"onAnimate",h,"setTransform");return n};return B})},"dojox/gfx/utils":function(){define("dojox/gfx/utils","dojo/_base/kernel dojo/_base/lang ./_base dojo/_base/html dojo/_base/array dojo/_base/window dojo/_base/json dojo/_base/Deferred dojo/_base/sniff require dojo/_base/config".split(" "),
function(f,t,m,u,v,a,o,k,i,c,q){var r=m.utils={};t.mixin(r,{forEach:function(a,b,c){c=c||f.global;b.call(c,a);(a instanceof m.Surface||a instanceof m.Group)&&v.forEach(a.children,function(a){r.forEach(a,b,c)})},serialize:function(a){var b={},c;if((c=a instanceof m.Surface)||a instanceof m.Group){b.children=v.map(a.children,r.serialize);if(c)return b.children}else b.shape=a.getShape();if(a.getTransform)if(c=a.getTransform())b.transform=c;if(a.getStroke)if(c=a.getStroke())b.stroke=c;if(a.getFill)if(c=
a.getFill())b.fill=c;if(a.getFont)if(c=a.getFont())b.font=c;return b},toJson:function(a,b){return o.toJson(r.serialize(a),b)},deserialize:function(a,b){if(b instanceof Array)return v.map(b,t.hitch(null,r.deserialize,a));var c="shape"in b?a.createShape(b.shape):a.createGroup();"transform"in b&&c.setTransform(b.transform);"stroke"in b&&c.setStroke(b.stroke);"fill"in b&&c.setFill(b.fill);"font"in b&&c.setFont(b.font);"children"in b&&v.forEach(b.children,t.hitch(null,r.deserialize,c));return c},fromJson:function(a,
b){return r.deserialize(a,o.fromJson(b))},toSvg:function(c){var b=new k;if(m.renderer==="svg")try{var i=r._cleanSvg(r._innerXML(c.rawNode));b.callback(i)}catch(n){b.errback(n)}else{r._initSvgSerializerDeferred||r._initSvgSerializer();var o=r.toJson(c),i=function(){try{var n=c.getDimensions(),h=n.width,i=n.height,k=r._gfxSvgProxy.document.createElement("div");r._gfxSvgProxy.document.body.appendChild(k);a.withDoc(r._gfxSvgProxy.document,function(){u.style(k,"width",h);u.style(k,"height",i)},this);r._gfxSvgProxy[dojox._scopeName].gfx.createSurface(k,
h,i).whenLoaded(null,function(a){try{r._gfxSvgProxy[dojox._scopeName].gfx.utils.fromJson(a,o);var h=r._cleanSvg(k.innerHTML);a.clear();a.destroy();r._gfxSvgProxy.document.body.removeChild(k);b.callback(h)}catch(n){b.errback(n)}})}catch(q){b.errback(q)}};r._initSvgSerializerDeferred.fired>0?i():r._initSvgSerializerDeferred.addCallback(i)}return b},_gfxSvgProxy:null,_initSvgSerializerDeferred:null,_svgSerializerInitialized:function(){r._initSvgSerializerDeferred.callback(true)},_initSvgSerializer:function(){if(!r._initSvgSerializerDeferred){r._initSvgSerializerDeferred=
new k;var l=a.doc.createElement("iframe");u.style(l,{display:"none",position:"absolute",width:"1em",height:"1em",top:"-10000px"});var b;i("ie")?l.onreadystatechange=function(){if(l.contentWindow.document.readyState=="complete"){l.onreadystatechange=function(){};b=setInterval(function(){if(l.contentWindow[f.scopeMap.dojo[1]._scopeName]&&l.contentWindow[f.scopeMap.dojox[1]._scopeName].gfx&&l.contentWindow[f.scopeMap.dojox[1]._scopeName].gfx.utils){clearInterval(b);l.contentWindow.parent[f.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=
l.contentWindow;l.contentWindow.parent[f.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized()}},50)}}:l.onload=function(){l.onload=function(){};b=setInterval(function(){if(l.contentWindow[f.scopeMap.dojo[1]._scopeName]&&l.contentWindow[f.scopeMap.dojox[1]._scopeName].gfx&&l.contentWindow[f.scopeMap.dojox[1]._scopeName].gfx.utils){clearInterval(b);l.contentWindow.parent[f.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=l.contentWindow;l.contentWindow.parent[f.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized()}},
50)};var o=q.dojoxGfxSvgProxyFrameUrl||c.toUrl("dojox/gfx/resources/gfxSvgProxyFrame.html");l.setAttribute("src",o.toString());a.body().appendChild(l)}},_innerXML:function(a){return a.innerXML?a.innerXML:a.xml?a.xml:typeof XMLSerializer!="undefined"?(new XMLSerializer).serializeToString(a):null},_cleanSvg:function(a){if(a){if(a.indexOf('xmlns="http://www.w3.org/2000/svg"')==-1){a=a.substring(4,a.length);a='<svg xmlns="http://www.w3.org/2000/svg"'+a}if(a.indexOf('xmlns:xlink="http://www.w3.org/1999/xlink"')==
-1){a=a.substring(4,a.length);a='<svg xmlns:xlink="http://www.w3.org/1999/xlink"'+a}a.indexOf("xlink:href")===-1&&(a=a.replace(/href\s*=/g,"xlink:href="));a=a.replace(/<img\b([^>]*)>/gi,"<image $1 />");a=a.replace(/\bdojoGfx\w*\s*=\s*(['"])\w*\1/g,"");a=a.replace(/\b__gfxObject__\s*=\s*(['"])\w*\1/g,"");a=a.replace(/[=]([^"']+?)(\s|>)/g,'="$1"$2')}return a}});return r})},"dojox/gfx/_base":function(){define("dojox/gfx/_base","dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),
function(f,t,m,u,v,a,o,k,i){var c=t.getObject("dojox.gfx",true),q=c._base={};c._hasClass=function(a,b){var c=a.getAttribute("className");return c&&(" "+c+" ").indexOf(" "+b+" ")>=0};c._addClass=function(a,b){var c=a.getAttribute("className")||"";if(!c||(" "+c+" ").indexOf(" "+b+" ")<0)a.setAttribute("className",c+(c?" ":"")+b)};c._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};q._getFontMeasurements=function(){var a=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;if(u("ie"))v.doc.documentElement.style.fontSize="100%";var c=k.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},v.body());for(b in a){c.style.fontSize=b;a[b]=Math.round(c.offsetHeight*12/16)*16/12/1E3}v.body().removeChild(c);return a};var r=null;q._getCachedFontMeasurements=
function(a){if(a||!r)r=q._getFontMeasurements();return r};var l=null,b={};q._getTextBox=function(a,c,o){var h,q,m=arguments.length,f;l||(l=k.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},v.body()));h=l;h.className="";q=h.style;q.borderWidth="0";q.margin="0";q.padding="0";q.outline="0";if(m>1&&c)for(f in c)f in b||(q[f]=c[f]);if(m>2&&o)h.className=o;h.innerHTML=a;if(h.getBoundingClientRect){h=h.getBoundingClientRect();return{l:h.left,t:h.top,w:h.width||h.right-h.left,h:h.height||
h.bottom-h.top}}return i.getMarginBox(h)};var B=0;q._getUniqueId=function(){var a;do a=f._scopeName+"xUnique"+ ++B;while(o.byId(a));return a};t.mixin(c,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},
defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,
color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var a={};return function(b){var i=a[b];if(i)return new i;i=a[b]=new Function;i.prototype=c["default"+b];return new i}}(),normalizeColor:function(a){return a instanceof m?a:new m(a)},normalizeParameters:function(a,b){var c;if(b){var h={};for(c in a)c in b&&!(c in h)&&(a[c]=b[c])}return a},makeParameters:function(a,
b){var c=null;if(!b)return t.delegate(a);var h={};for(c in a)c in h||(h[c]=t.clone(c in b?b[c]:a[c]));return h},formatNumber:function(a,b){var c=a.toString();if(c.indexOf("e")>=0)c=a.toFixed(4);else{var h=c.indexOf(".");h>=0&&c.length-h>5&&(c=a.toFixed(4))}return a<0?c:b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(a){var b=c.getDefault("Font"),a=a.split(/\s+/);if(!(a.length<5)){b.style=a[0];b.variant=a[1];b.weight=
a[2];var i=a[3].indexOf("/");b.size=i<0?a[3]:a[3].substring(0,i);var h=4;i<0&&(a[4]=="/"?h=6:a[4].charAt(0)=="/"&&(h=5));if(h<a.length)b.family=a.slice(h).join(" ")}return b},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return c._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(a){return a*c.px_in_pt()},px2pt:function(a){return a/c.px_in_pt()},normalizedLength:function(a){if(a.length===0)return 0;if(a.length>2){var b=c.px_in_pt(),i=parseFloat(a);switch(a.slice(-2)){case "px":return i;
case "pt":return i*b;case "in":return i*72*b;case "pc":return i*12*b;case "mm":return i*c.mm_in_pt*b;case "cm":return i*c.cm_in_pt*b}}return parseFloat(a)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(b){var i=typeof b=="string"?c[b]:b;i&&a.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath",
"Surface","createSurface","fixTarget"],function(a){c[a]=i[a]})}});return c})},"dojox/gfx/Moveable":function(){define("dojox/gfx/Moveable","dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/event dojo/topic dojo/has dojo/dom-class dojo/_base/window ./Mover".split(" "),function(f,t,m,u,v,a,o,k,i){return t("dojox.gfx.Moveable",null,{constructor:function(c,k){this.shape=c;this.delay=k&&k.delay>0?k.delay:0;this.mover=k&&k.mover?k.mover:i;this.events=[this.shape.connect(a("touch")?"touchstart":
"mousedown",this,"onMouseDown")]},destroy:function(){m.forEach(this.events,this.shape.disconnect,this.shape);this.events=this.shape=null},onMouseDown:function(c){if(this.delay){this.events.push(this.shape.connect(a("touch")?"touchmove":"mousemove",this,"onMouseMove"),this.shape.connect(a("touch")?"touchend":"mouseup",this,"onMouseUp"));this._lastX=a("touch")?(c.changedTouches?c.changedTouches[0]:c).clientX:c.clientX;this._lastY=a("touch")?(c.changedTouches?c.changedTouches[0]:c).clientY:c.clientY}else new this.mover(this.shape,
c,this);u.stop(c)},onMouseMove:function(c){var i=a("touch")?(c.changedTouches?c.changedTouches[0]:c).clientX:c.clientX,k=a("touch")?(c.changedTouches?c.changedTouches[0]:c).clientY:c.clientY;if(Math.abs(i-this._lastX)>this.delay||Math.abs(k-this._lastY)>this.delay){this.onMouseUp(c);new this.mover(this.shape,c,this)}u.stop(c)},onMouseUp:function(){this.shape.disconnect(this.events.pop())},onMoveStart:function(a){v.publish("/gfx/move/start",a);o.add(k.body(),"dojoMove")},onMoveStop:function(a){v.publish("/gfx/move/stop",
a);o.remove(k.body(),"dojoMove")},onFirstMove:function(){},onMove:function(a,i){this.onMoving(a,i);this.shape.applyLeftTransform(i);this.onMoved(a,i)},onMoving:function(){},onMoved:function(){}})})},"dojox/gfx/canvasWithEvents":function(){define("dojox/gfx/canvasWithEvents","dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/Color dojo/dom dojo/dom-geometry ./_base ./canvas ./shape ./matrix".split(" "),function(f,t,m,u,v,a,o,k,i,c){var q=o.canvasWithEvents={};q.Shape=t("dojox.gfx.canvasWithEvents.Shape",
k.Shape,{_testInputs:function(a,b){if(this.clip||!this.canvasFill&&this.strokeStyle)this._hitTestPixel(a,b);else{this._renderShape(a);for(var i=this.getTransform(),h=0;h<b.length;++h){var k=b[h];if(!k.target){var o=k.x,l=k.y,o=i?c.multiplyPoint(c.invert(i),o,l):{x:o,y:l};k.target=this._hitTestGeometry(a,o.x,o.y)}}}},_hitTestPixel:function(a,b){for(var c=0;c<b.length;++c){var h=b[c];if(!h.target){var i=h.x,k=h.y;a.clearRect(0,0,1,1);a.save();a.translate(-i,-k);this._render(a,true);h.target=a.getImageData(0,
0,1,1).data[0]?this:null;a.restore()}}},_hitTestGeometry:function(a,b,c){return a.isPointInPath(b,c)?this:null},_renderFill:function(a,b){a.pickingMode?"canvasFill"in this&&b&&a.fill():this.inherited(arguments)},_renderStroke:function(a,b){if(this.strokeStyle&&a.pickingMode){var c=this.strokeStyle.color;try{this.strokeStyle.color=new u(a.strokeStyle);this.inherited(arguments)}finally{this.strokeStyle.color=c}}else this.inherited(arguments)},getEventSource:function(){return this.surface.getEventSource()},
connect:function(a,b,c){a.indexOf("mouse")===0?a="on"+a:a.indexOf("ontouch")===0&&(a=a.slice(2));this.surface._setupEvents(a);return arguments.length>2?m.connect(this,a,b,c):m.connect(this,a,b)},disconnect:function(a){m.disconnect(a)},oncontextmenu:function(){},onclick:function(){},ondblclick:function(){},onmouseenter:function(){},onmouseleave:function(){},onmouseout:function(){},onmousedown:function(){},ontouchstart:function(){},touchstart:function(){},onmouseup:function(){},ontouchend:function(){},
touchend:function(){},onmouseover:function(){},onmousemove:function(){},ontouchmove:function(){},touchmove:function(){},onkeydown:function(){},onkeyup:function(){}});q.Group=t("dojox.gfx.canvasWithEvents.Group",[q.Shape,k.Group],{_testInputs:function(a,b){var i=this.children,h=this.getTransform(),k,o;if(i.length!==0){var l=[];for(k=0;k<b.length;++k){o=b[k];l[k]={x:o.x,y:o.y};if(!o.target){var m=o.x,q=o.y,m=h?c.multiplyPoint(c.invert(h),m,q):{x:m,y:q};o.x=m.x;o.y=m.y}}for(k=i.length-1;k>=0;--k){i[k]._testInputs(a,
b);o=true;for(h=0;h<b.length;++h)if(b[h].target==null){o=false;break}if(o)break}if(this.clip)for(k=0;k<b.length;++k){o=b[k];o.x=l[k].x;o.y=l[k].y;if(o.target){a.clearRect(0,0,1,1);a.save();a.translate(-o.x,-o.y);this._render(a,true);if(!a.getImageData(0,0,1,1).data[0])o.target=null;a.restore()}}else for(k=0;k<b.length;++k){b[k].x=l[k].x;b[k].y=l[k].y}}}});q.Image=t("dojox.gfx.canvasWithEvents.Image",[q.Shape,k.Image],{_renderShape:function(a){var b=this.shape;a.pickingMode?a.fillRect(b.x,b.y,b.width,
b.height):this.inherited(arguments)},_hitTestGeometry:function(a,b,c){a=this.shape;return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height?this:null}});q.Text=t("dojox.gfx.canvasWithEvents.Text",[q.Shape,k.Text],{_testInputs:function(a,b){return this._hitTestPixel(a,b)}});q.Rect=t("dojox.gfx.canvasWithEvents.Rect",[q.Shape,k.Rect],{});q.Circle=t("dojox.gfx.canvasWithEvents.Circle",[q.Shape,k.Circle],{});q.Ellipse=t("dojox.gfx.canvasWithEvents.Ellipse",[q.Shape,k.Ellipse],{});q.Line=t("dojox.gfx.canvasWithEvents.Line",
[q.Shape,k.Line],{});q.Polyline=t("dojox.gfx.canvasWithEvents.Polyline",[q.Shape,k.Polyline],{});q.Path=t("dojox.gfx.canvasWithEvents.Path",[q.Shape,k.Path],{});q.TextPath=t("dojox.gfx.canvasWithEvents.TextPath",[q.Shape,k.TextPath],{});var r={onmouseenter:"onmousemove",onmouseleave:"onmousemove",onmouseout:"onmousemove",onmouseover:"onmousemove",touchstart:"ontouchstart",touchend:"ontouchend",touchmove:"ontouchmove"},l={ontouchstart:"touchstart",ontouchend:"touchend",ontouchmove:"touchmove"},b=navigator.userAgent.toLowerCase(),
B=b.search("iphone")>-1||b.search("ipad")>-1||b.search("ipod")>-1;q.Surface=t("dojox.gfx.canvasWithEvents.Surface",k.Surface,{constructor:function(){this._pick={curr:null,last:null};this._pickOfMouseUp=this._pickOfMouseDown=null},connect:function(a,b,c){if(a.indexOf("touch")!==-1){this._setupEvents(a);return m.connect(this,"_on"+a+"Impl_",b,c)}this._initMirrorCanvas();return m.connect(this.getEventSource(),a,null,i.fixCallback(this,o.fixTarget,b,c))},_ontouchstartImpl_:function(){},_ontouchendImpl_:function(){},
_ontouchmoveImpl_:function(){},_initMirrorCanvas:function(){if(!this.mirrorCanvas){var a=this._parent,b=a.ownerDocument.createElement("canvas");b.width=1;b.height=1;b.style.position="absolute";b.style.left="-99999px";b.style.top="-99999px";a.appendChild(b);this.mirrorCanvas=b}},_setupEvents:function(a){a in r&&(a=r[a]);if(!this._eventsH||!this._eventsH[a]){this._initMirrorCanvas();if(!this._eventsH)this._eventsH={};this._eventsH[a]=m.connect(this.getEventSource(),a,i.fixCallback(this,o.fixTarget,
this,"_"+a));if(a==="onclick"||a==="ondblclick"){this._eventsH.onmousedown||(this._eventsH.onmousedown=m.connect(this.getEventSource(),"onmousedown",i.fixCallback(this,o.fixTarget,this,"_onmousedown")));this._eventsH.onmouseup||(this._eventsH.onmouseup=m.connect(this.getEventSource(),"onmouseup",i.fixCallback(this,o.fixTarget,this,"_onmouseup")))}}},destroy:function(){this.inherited(arguments);for(var a in this._eventsH)m.disconnect(this._eventsH[a]);this._eventsH=this.mirrorCanvas=null},getEventSource:function(){return this.rawNode},
_invokeHandler:function(a,b,c){var h=a[b];if(h&&h.after)h.apply(a,[c]);else if(b in l)(h=a[l[b]])&&h.after&&h.apply(a,[c]);if(!h&&b.indexOf("touch")!==-1){b="_"+b+"Impl_";(h=a[b])&&h.apply(a,[c])}!(c.cancelBubble!==void 0&&c.cancelBubble)&&a.parent&&this._invokeHandler(a.parent,b,c)},_oncontextmenu:function(a){this._pick.curr&&this._invokeHandler(this._pick.curr,"oncontextmenu",a)},_ondblclick:function(a){this._pickOfMouseUp&&this._invokeHandler(this._pickOfMouseUp,"ondblclick",a)},_onclick:function(a){this._pickOfMouseUp&&
this._pickOfMouseUp==this._pickOfMouseDown&&this._invokeHandler(this._pickOfMouseUp,"onclick",a)},_onmousedown:function(a){(this._pickOfMouseDown=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmousedown",a)},_ontouchstart:function(a){this._pick.curr&&this._fireTouchEvent(a)},_onmouseup:function(a){(this._pickOfMouseUp=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmouseup",a)},_ontouchend:function(a){if(this._pick.curr)for(var b=0;b<this._pick.curr.length;++b)if(this._pick.curr[b].target){a.gfxTarget=
this._pick.curr[b].target;this._invokeHandler(this._pick.curr[b].target,"ontouchend",a)}},_onmousemove:function(a){if(this._pick.last&&this._pick.last!=this._pick.curr){this._invokeHandler(this._pick.last,"onmouseleave",a);this._invokeHandler(this._pick.last,"onmouseout",a)}if(this._pick.curr)if(this._pick.last==this._pick.curr)this._invokeHandler(this._pick.curr,"onmousemove",a);else{this._invokeHandler(this._pick.curr,"onmouseenter",a);this._invokeHandler(this._pick.curr,"onmouseover",a)}},_ontouchmove:function(a){this._pick.curr&&
this._fireTouchEvent(a)},_fireTouchEvent:function(a){for(var b=[],c=0;c<this._pick.curr.length;++c){var h=this._pick.curr[c];if(h.target){var i=h.target.__gfxtt;if(!i){i=[];h.target.__gfxtt=i}i.push(h.t);if(!h.target.__inToFire){b.push(h.target);h.target.__inToFire=true}}}if(b.length===0)this._invokeHandler(this,"on"+a.type,a);else for(c=0;c<b.length;++c)(function(){var h=b[c].__gfxtt,i=f.delegate(a,{gfxTarget:b[c]});if(B){i.preventDefault=function(){a.preventDefault()};i.stopPropagation=function(){a.stopPropagation()}}i.__defineGetter__("targetTouches",
function(){return h});delete b[c].__gfxtt;delete b[c].__inToFire;this._invokeHandler(b[c],"on"+a.type,i)}).call(this)},_onkeydown:function(){},_onkeyup:function(){},_whatsUnderEvent:function(b){var c=a.position(this.rawNode,true),i=[],h=b.changedTouches,k=b.touches;if(h)for(b=0;b<h.length;++b)i.push({t:h[b],x:h[b].pageX-c.x,y:h[b].pageY-c.y});else if(k)for(b=0;b<k.length;++b)i.push({t:k[b],x:k[b].pageX-c.x,y:k[b].pageY-c.y});else i.push({x:b.pageX-c.x,y:b.pageY-c.y});var b=this.mirrorCanvas,c=b.getContext("2d"),
o=this.children;c.clearRect(0,0,b.width,b.height);c.save();c.strokeStyle="rgba(127,127,127,1.0)";c.fillStyle="rgba(127,127,127,1.0)";c.pickingMode=true;for(b=o.length-1;b>=0;b--){o[b]._testInputs(c,i);var l=true;for(j=0;j<i.length;++j)if(i[j].target==null){l=false;break}if(l)break}c.restore();return k||h?i:i[0].target}});q.createSurface=function(b,c,i){if(!c&&!i)var h=a.position(b),c=c||h.w,i=i||h.h;typeof c=="number"&&(c=c+"px");typeof i=="number"&&(i=i+"px");var h=new q.Surface,b=v.byId(b),k=b.ownerDocument.createElement("canvas");
k.width=o.normalizedLength(c);k.height=o.normalizedLength(i);b.appendChild(k);h.rawNode=k;h._parent=b;return h.surface=h};q.fixTarget=function(a,b){if(a.cancelBubble!==void 0&&a.cancelBubble)return false;if(!a.gfxTarget){b._pick.last=b._pick.curr;b._pick.curr=b._whatsUnderEvent(a);if(!f.isArray(b._pick.curr))a.gfxTarget=b._pick.curr}return true};return q})},"dojox/xml/DomParser":function(){define("dojox/xml/DomParser",["dojo/_base/kernel","dojo/_base/array"],function(f){f.getObject("xml",!0,dojox);
dojox.xml.DomParser=new function(){var t,m,u;function v(){return new function(){var b={};this.nodeType=t;this.nodeName="#document";this.namespaces={};this._nsPaths={};this.childNodes=[];this.documentElement=null;this._add=function(a){"undefined"!=typeof a.id&&(b[a.id]=a)};this._remove=function(a){b[a]&&delete b[a]};this.byId=this.getElementById=function(a){return b[a]};this.byName=this.getElementsByTagName=a;this.byNameNS=this.getElementsByTagNameNS=o;this.childrenByName=k;this.childrenByNameNS=i}}
function a(a){function b(a,h,c){f.forEach(a.childNodes,function(a){a.nodeType==m&&("*"==h?c.push(a):a.nodeName==h&&c.push(a),b(a,h,c))})}var h=[];b(this,a,h);return h}function o(a,b){function h(a,b,c,i){f.forEach(a.childNodes,function(a){a.nodeType==m&&("*"==b&&a.ownerDocument._nsPaths[c]==a.namespace?i.push(a):a.localName==b&&a.ownerDocument._nsPaths[c]==a.namespace&&i.push(a),h(a,b,c,i))})}b||(b=O);var c=[];h(this,a,b,c);return c}function k(a){var b=[];f.forEach(this.childNodes,function(h){h.nodeType==
m&&("*"==a?b.push(h):h.nodeName==a&&b.push(h))});return b}function i(a,b){var h=[];f.forEach(this.childNodes,function(c){c.nodeType==m&&("*"==a&&c.ownerDocument._nsPaths[b]==c.namespace?h.push(c):c.localName==a&&c.ownerDocument._nsPaths[b]==c.namespace&&h.push(c))});return h}function c(a){return{nodeType:u,nodeName:"#text",nodeValue:a.replace(W," ").replace(da,">").replace(P,"<").replace(K,"'").replace(Q,'"').replace(R,"&")}}function q(a){for(var b=0;b<this.attributes.length;b++)if(this.attributes[b].nodeName==
a)return this.attributes[b].nodeValue;return null}function r(a,b){for(var h=0;h<this.attributes.length;h++)if(this.ownerDocument._nsPaths[b]==this.attributes[h].namespace&&this.attributes[h].localName==a)return this.attributes[h].nodeValue;return null}function l(a,b){for(var h=null,c=0;c<this.attributes.length;c++)if(this.attributes[c].nodeName==a){h=this.attributes[c].nodeValue;this.attributes[c].nodeValue=b;break}"id"==a&&(null!=h&&this.ownerDocument._remove(h),this.ownerDocument._add(this))}function b(a,
b,h){for(var c=0;c<this.attributes.length;c++)if(this.ownerDocument._nsPaths[h]==this.attributes[c].namespace&&this.attributes[c].localName==a){this.attributes[c].nodeValue=b;break}}function B(){var a=this.parentNode;if(a)for(var b=0;b<a.childNodes.length;b++)if(a.childNodes[b]==this&&0<b)return a.childNodes[b-1];return null}function n(){var a=this.parentNode;if(a)for(var b=0;b<a.childNodes.length;b++)if(a.childNodes[b]==this&&b+1<a.childNodes.length)return a.childNodes[b+1];return null}m=1;u=3;t=
9;var y=/<([^>\/\s+]*)([^>]*)>([^<]*)/g,w=/([^=]*)=(("([^"]*)")|('([^']*)'))/g,h=/<!ENTITY\s+([^"]*)\s+"([^"]*)">/g,C=/<!\[CDATA\[([\u0001-\uFFFF]*?)\]\]>/g,I=/<\!--([\u0001-\uFFFF]*?)--\>/g,J=/^\s+|\s+$/g,W=/\s+/g,da=/\&gt;/g,P=/\&lt;/g,Q=/\&quot;/g,K=/\&apos;/g,R=/\&amp;/g,O="_def_";this.parse=function(f){var t=v();if(null==f||0==f.length)return t;if(0<f.indexOf("<!ENTITY")){var u,X=[];if(h.test(f)){for(h.lastIndex=0;null!=(u=h.exec(f));)X.push({entity:"&"+u[1].replace(J,"")+";",expression:u[2]});
for(var D=0;D<X.length;D++)f=f.replace(RegExp(X[D].entity,"g"),X[D].expression)}}for(X=[];null!=(u=C.exec(f));)X.push(u[1]);for(D=0;D<X.length;D++)f=f.replace(X[D],D);for(u=[];null!=(D=I.exec(f));)u.push(D[1]);for(D=0;D<u.length;D++)f=f.replace(u[D],D);for(var F,D=t;null!=(F=y.exec(f));)if("/"==F[2].charAt(0)&&1<F[2].replace(J,"").length){D.parentNode&&(D=D.parentNode);var G=(F[3]||"").replace(J,"");0<G.length&&D.childNodes.push(c(G))}else if(0<F[1].length)if("?"==F[1].charAt(0))G=F[1].substr(1),
F=F[2].substr(0,F[2].length-2),D.childNodes.push({nodeType:7,nodeName:G,nodeValue:F});else if("!"==F[1].charAt(0))if(0==F[1].indexOf("![CDATA[")){var L=parseInt(F[1].replace("![CDATA[","").replace("]]",""));D.childNodes.push({nodeType:4,nodeName:"#cdata-section",nodeValue:X[L]})}else"!--"==F[1].substr(0,3)&&(L=parseInt(F[1].replace("!--","").replace("--","")),D.childNodes.push({nodeType:8,nodeName:"#comment",nodeValue:u[L]}));else{var G=F[1].replace(J,""),E={nodeType:m,nodeName:G,localName:G,namespace:O,
ownerDocument:t,attributes:[],parentNode:null,childNodes:[]};if(-1<G.indexOf(":")){var S=G.split(":");E.namespace=S[0];E.localName=S[1]}E.byName=E.getElementsByTagName=a;E.byNameNS=E.getElementsByTagNameNS=o;E.childrenByName=k;E.childrenByNameNS=i;E.getAttribute=q;E.getAttributeNS=r;E.setAttribute=l;E.setAttributeNS=b;E.previous=E.previousSibling=B;for(E.next=E.nextSibling=n;null!=(L=w.exec(F[2]));)if(0<L.length)if(G=L[1].replace(J,""),L=(L[4]||L[6]||"").replace(W," ").replace(da,">").replace(P,"<").replace(K,
"'").replace(Q,'"').replace(R,"&"),0==G.indexOf("xmlns"))0<G.indexOf(":")?(S=G.split(":"),t.namespaces[S[1]]=L,t._nsPaths[L]=S[1]):(t.namespaces[O]=L,t._nsPaths[L]=O);else{var ga=G,S=O;0<G.indexOf(":")&&(S=G.split(":"),ga=S[1],S=S[0]);E.attributes.push({nodeType:2,nodeName:G,localName:ga,namespace:S,nodeValue:L});"id"==ga&&(E.id=L)}t._add(E);D&&(D.childNodes.push(E),E.parentNode=D,"/"!=F[2].charAt(F[2].length-1)&&(D=E));G=F[3];0<G.length&&D.childNodes.push(c(G))}for(D=0;D<t.childNodes.length;D++)if(f=
t.childNodes[D],f.nodeType==m){t.documentElement=f;break}return t}};return dojox.xml.DomParser})},"dojox/html/metrics":function(){define("dojox/html/metrics","dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(f,t,m,u,v,a,o){var k=t.getObject("dojox.html.metrics",true),i=t.getObject("dojox");k.getFontMeasurements=function(){var b={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,
large:0,"x-large":0,"xx-large":0};if(m("ie"))a.doc.documentElement.style.fontSize="100%";var c=a.doc.createElement("div"),i=c.style;i.position="absolute";i.left="-100px";i.top="0";i.width="30px";i.height="1000em";i.borderWidth="0";i.margin="0";i.padding="0";i.outline="0";i.lineHeight="1";i.overflow="hidden";a.body().appendChild(c);for(var k in b){i.fontSize=k;b[k]=Math.round(c.offsetHeight*12/16)*16/12/1E3}a.body().removeChild(c);return b};var c=null;k.getCachedFontMeasurements=function(a){if(a||
!c)c=k.getFontMeasurements();return c};var q=null,r={};k.getTextBox=function(b,c,i){var k,h;if(q)k=q;else{k=q=a.doc.createElement("div");var l=a.doc.createElement("div");l.appendChild(k);h=l.style;h.overflow="scroll";h.position="absolute";h.left="0px";h.top="-10000px";h.width="1px";h.height="1px";h.visibility="hidden";h.borderWidth="0";h.margin="0";h.padding="0";h.outline="0";a.body().appendChild(l)}k.className="";h=k.style;h.borderWidth="0";h.margin="0";h.padding="0";h.outline="0";if(arguments.length>
1&&c)for(var m in c)m in r||(h[m]=c[m]);if(arguments.length>2&&i)k.className=i;k.innerHTML=b;h=o.position(k);h.w=k.parentNode.scrollWidth;return h};var l=16,b=16;k.getScrollbar=function(){return{w:l,h:b}};k._fontResizeNode=null;k.initOnFontResize=function(){var b=k._fontResizeNode=a.doc.createElement("iframe"),c=b.style;c.position="absolute";c.width="5em";c.height="10em";c.top="-10000px";c.display="none";m("ie")?b.onreadystatechange=function(){if(b.contentWindow.document.readyState=="complete")b.onresize=
b.contentWindow.parent[i._scopeName].html.metrics._fontresize}:b.onload=function(){b.contentWindow.onresize=b.contentWindow.parent[i._scopeName].html.metrics._fontresize};b.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");a.body().appendChild(b);k.initOnFontResize=function(){}};k.onFontResize=function(){};k._fontresize=function(){k.onFontResize()};v.addOnUnload(function(){var a=k._fontResizeNode;
if(a){if(m("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;k._fontResizeNode=null}});u(function(){try{var c=a.doc.createElement("div");c.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";a.body().appendChild(c);l=c.offsetWidth-c.clientWidth;b=c.offsetHeight-c.clientHeight;a.body().removeChild(c);delete c}catch(i){}"fontSizeWatch"in f.config&&f.config.fontSizeWatch&&k.initOnFontResize()});
return k})},"dojox/gfx/renderer":function(){define("dojox/gfx/renderer",["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(f,t,m,u,v){var a=null;return{load:function(o,k,i){function c(){k(["dojox/gfx/"+q],function(b){f.renderer=q;a=b;i(b)})}if(a&&"force"!=o)i(a);else{for(var q=v.forceGfxRenderer,o=!q&&(t.isString(v.gfxRenderer)?v.gfxRenderer:"svg,vml,canvas,silverlight").split(","),r,l;!q&&o.length;)switch(o.shift()){case "svg":"SVGAngle"in u.global&&
(q="svg");break;case "vml":m("ie")&&(q="vml");break;case "silverlight":try{m("ie")?(r=new ActiveXObject("AgControl.AgControl"))&&r.IsVersionSupported("1.0")&&(l=!0):navigator.plugins["Silverlight Plug-In"]&&(l=!0)}catch(b){l=!1}finally{r=null}l&&(q="silverlight");break;case "canvas":u.global.CanvasRenderingContext2D&&(q="canvas")}"canvas"===q&&!1!==v.canvasEvents&&(q="canvasWithEvents");"svg"==q&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(c):c()}}}})},"dojox/gfx/matrix":function(){define("dojox/gfx/matrix",
["./_base","dojo/_base/lang"],function(f,t){var m=f.matrix={},u={};m._degToRad=function(m){return u[m]||(u[m]=Math.PI*m/180)};m._radToDeg=function(m){return 180*(m/Math.PI)};m.Matrix2D=function(f){if(f)if("number"==typeof f)this.xx=this.yy=f;else if(f instanceof Array){if(0<f.length){for(var a=m.normalize(f[0]),o=1;o<f.length;++o){var k=a,i=m.normalize(f[o]),a=new m.Matrix2D;a.xx=k.xx*i.xx+k.xy*i.yx;a.xy=k.xx*i.xy+k.xy*i.yy;a.yx=k.yx*i.xx+k.yy*i.yx;a.yy=k.yx*i.xy+k.yy*i.yy;a.dx=k.xx*i.dx+k.xy*i.dy+
k.dx;a.dy=k.yx*i.dx+k.yy*i.dy+k.dy}t.mixin(this,a)}}else t.mixin(this,f)};t.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});t.mixin(m,{identity:new m.Matrix2D,flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(f,a){return 1<arguments.length?new m.Matrix2D({dx:f,dy:a}):new m.Matrix2D({dx:f.x,dy:f.y})},scale:function(f,a){return 1<arguments.length?new m.Matrix2D({xx:f,yy:a}):"number"==typeof f?new m.Matrix2D({xx:f,yy:f}):new m.Matrix2D({xx:f.x,
yy:f.y})},rotate:function(f){var a=Math.cos(f),f=Math.sin(f);return new m.Matrix2D({xx:a,xy:-f,yx:f,yy:a})},rotateg:function(f){return m.rotate(m._degToRad(f))},skewX:function(f){return new m.Matrix2D({xy:Math.tan(f)})},skewXg:function(f){return m.skewX(m._degToRad(f))},skewY:function(f){return new m.Matrix2D({yx:Math.tan(f)})},skewYg:function(f){return m.skewY(m._degToRad(f))},reflect:function(f,a){1==arguments.length&&(a=f.y,f=f.x);var o=f*f,k=a*a,i=o+k,c=2*f*a/i;return new m.Matrix2D({xx:2*o/i-
1,xy:c,yx:c,yy:2*k/i-1})},project:function(f,a){1==arguments.length&&(a=f.y,f=f.x);var o=f*f,k=a*a,i=o+k,c=f*a/i;return new m.Matrix2D({xx:o/i,xy:c,yx:c,yy:k/i})},normalize:function(f){return f instanceof m.Matrix2D?f:new m.Matrix2D(f)},isIdentity:function(f){return 1==f.xx&&0==f.xy&&0==f.yx&&1==f.yy&&0==f.dx&&0==f.dy},clone:function(f){var a=new m.Matrix2D,o;for(o in f)"number"==typeof f[o]&&("number"==typeof a[o]&&a[o]!=f[o])&&(a[o]=f[o]);return a},invert:function(f){var f=m.normalize(f),a=f.xx*
f.yy-f.xy*f.yx;return f=new m.Matrix2D({xx:f.yy/a,xy:-f.xy/a,yx:-f.yx/a,yy:f.xx/a,dx:(f.xy*f.dy-f.yy*f.dx)/a,dy:(f.yx*f.dx-f.xx*f.dy)/a})},_multiplyPoint:function(f,a,o){return{x:f.xx*a+f.xy*o+f.dx,y:f.yx*a+f.yy*o+f.dy}},multiplyPoint:function(f,a,o){f=m.normalize(f);return"number"==typeof a&&"number"==typeof o?m._multiplyPoint(f,a,o):m._multiplyPoint(f,a.x,a.y)},multiplyRectangle:function(f,a){var o=m.normalize(f),a=a||{x:0,y:0,width:0,height:0};if(m.isIdentity(o))return{x:a.x,y:a.y,width:a.width,
height:a.height};var k=m.multiplyPoint(o,a.x,a.y),i=m.multiplyPoint(o,a.x,a.y+a.height),c=m.multiplyPoint(o,a.x+a.width,a.y),q=m.multiplyPoint(o,a.x+a.width,a.y+a.height),o=Math.min(k.x,i.x,c.x,q.x),r=Math.min(k.y,i.y,c.y,q.y),l=Math.max(k.x,i.x,c.x,q.x),k=Math.max(k.y,i.y,c.y,q.y);return{x:o,y:r,width:l-o,height:k-r}},multiply:function(f){for(var a=m.normalize(f),o=1;o<arguments.length;++o){var k=a,i=m.normalize(arguments[o]),a=new m.Matrix2D;a.xx=k.xx*i.xx+k.xy*i.yx;a.xy=k.xx*i.xy+k.xy*i.yy;a.yx=
k.yx*i.xx+k.yy*i.yx;a.yy=k.yx*i.xy+k.yy*i.yy;a.dx=k.xx*i.dx+k.xy*i.dy+k.dx;a.dy=k.yx*i.dx+k.yy*i.dy+k.dy}return a},_sandwich:function(f,a,o){return m.multiply(m.translate(a,o),f,m.translate(-a,-o))},scaleAt:function(f,a,o,k){switch(arguments.length){case 4:return m._sandwich(m.scale(f,a),o,k);case 3:return"number"==typeof o?m._sandwich(m.scale(f),a,o):m._sandwich(m.scale(f,a),o.x,o.y)}return m._sandwich(m.scale(f),a.x,a.y)},rotateAt:function(f,a,o){return 2<arguments.length?m._sandwich(m.rotate(f),
a,o):m._sandwich(m.rotate(f),a.x,a.y)},rotategAt:function(f,a,o){return 2<arguments.length?m._sandwich(m.rotateg(f),a,o):m._sandwich(m.rotateg(f),a.x,a.y)},skewXAt:function(f,a,o){return 2<arguments.length?m._sandwich(m.skewX(f),a,o):m._sandwich(m.skewX(f),a.x,a.y)},skewXgAt:function(f,a,o){return 2<arguments.length?m._sandwich(m.skewXg(f),a,o):m._sandwich(m.skewXg(f),a.x,a.y)},skewYAt:function(f,a,o){return 2<arguments.length?m._sandwich(m.skewY(f),a,o):m._sandwich(m.skewY(f),a.x,a.y)},skewYgAt:function(f,
a,o){return 2<arguments.length?m._sandwich(m.skewYg(f),a,o):m._sandwich(m.skewYg(f),a.x,a.y)}});f.Matrix2D=m.Matrix2D;return m})},"dojox/gfx/gradient":function(){define("dojox/gfx/gradient",["dojo/_base/lang","./matrix","dojo/_base/Color"],function(f,t,m){function u(a,k,i,c,f,m){a=t.multiplyPoint(i,a,k);c=t.multiplyPoint(c,a);return{r:a,p:c,o:t.multiplyPoint(f,c).x/m}}function v(a,k){return a.o-k.o}var a=f.getObject("dojox.gfx.gradient",!0);a.rescale=function(a,k,i){var c=a.length,f=i<k,r;f&&(r=k,
k=i,i=r);if(!c)return[];if(i<=a[0].offset)r=[{offset:0,color:a[0].color},{offset:1,color:a[0].color}];else if(k>=a[c-1].offset)r=[{offset:0,color:a[c-1].color},{offset:1,color:a[c-1].color}];else{var l=i-k,b,t,n;r=[];0>k&&r.push({offset:0,color:new m(a[0].color)});for(n=0;n<c&&!(b=a[n],b.offset>=k);++n);n?(t=a[n-1],r.push({offset:0,color:m.blendColors(new m(t.color),new m(b.color),(k-t.offset)/(b.offset-t.offset))})):r.push({offset:0,color:new m(b.color)});for(;n<c;++n){b=a[n];if(b.offset>=i)break;
r.push({offset:(b.offset-k)/l,color:new m(b.color)})}n<c?(t=a[n-1],r.push({offset:1,color:m.blendColors(new m(t.color),new m(b.color),(i-t.offset)/(b.offset-t.offset))})):r.push({offset:1,color:new m(a[c-1].color)})}if(f){r.reverse();n=0;for(c=r.length;n<c;++n)b=r[n],b.offset=1-b.offset}return r};a.project=function(f,k,i,c){var f=f||t.identity,m=t.multiplyPoint(f,k.x1,k.y1),r=t.multiplyPoint(f,k.x2,k.y2),l=Math.atan2(r.y-m.y,r.x-m.x),b=t.project(r.x-m.x,r.y-m.y),m=t.multiplyPoint(b,m),r=t.multiplyPoint(b,
r),m=new t.Matrix2D([t.rotate(-l),{dx:-m.x,dy:-m.y}]),r=t.multiplyPoint(m,r).x,f=[u(i.x,i.y,f,b,m,r),u(c.x,c.y,f,b,m,r),u(i.x,c.y,f,b,m,r),u(c.x,i.y,f,b,m,r)].sort(v),k=a.rescale(k.colors,f[0].o,f[3].o);Math.atan2(f[3].r.y-f[0].r.y,f[3].r.x-f[0].r.x);return{type:"linear",x1:f[0].p.x,y1:f[0].p.y,x2:f[3].p.x,y2:f[3].p.y,colors:k,angle:l}};return a})},"dojox/gfx/move":function(){define("dojox/gfx/move",["dojo/_base/lang","./Mover","./Moveable"],function(f){return f.getObject("dojox.gfx.move",!0)})},
"dojox/string/BidiEngine":function(){define("dojox/string/BidiEngine",["dojo/_base/lang","dojo/_base/declare"],function(f,t){var m,u,v,a,o,k,i,c,q,r;function l(h,c,d,e){void 0==c&&(c=m);void 0==d&&(d=u);void 0==e&&(e=v);if(c==d)return h;var g,i=c.substring(0,1),f=c.substring(1,4),q=d.substring(0,1),p=d.substring(1,4);"C"==f.charAt(0)&&(g=b(h),f="ltr"==g||"rtl"==g?g.toUpperCase():"L"==c.charAt(2)?"LTR":"RTL",c=i+f);if("C"==p.charAt(0)){g=b(h);if("rtl"==g)p="RTL";else if("ltr"==g){a:{d=h;g=null;for(p=
d.length-1;0<=p;p--){g=n(d.charAt(p));if(g==aa||g==ea){g="rtl";break a}if(g==ha){g="ltr";break a}if(g==ba)break}g=""}p=g.toUpperCase()}else p="L"==d.charAt(2)?"LTR":"RTL";d=q+p}if(c==d)return h;a=c;o=e;if("L"==i&&"VLTR"==d){if("LTR"==f)return k=R,B(h);if("RTL"==f)return k=O,B(h)}if("V"==i&&"V"==q)return y(h);if("L"==i&&"VRTL"==d)return k="LTR"==f?R:O,h=B(h),y(h);if("VLTR"==c&&"LLTR"==d)return k=R,B(h);if("V"==i&&"L"==q&&f!=p)return h=y(h),"RTL"==f?l(h,"LLTR","VLTR",e):l(h,"LRTL","VRTL",e);if("VRTL"==
c&&"LRTL"==d)return l(h,"LRTL","VRTL",e);if("L"==i&&"L"==q)return c=o,o=c.substr(0,1)+"N","RTL"==f?(k=O,h=B(h),o="N"+c.substr(1,2),k=R,h=B(h)):(k=R,h=B(h),o="N"+c.substr(1,2),h=l(h,"VLTR","LRTL",o)),h}function b(a){for(var b=null,h=b=null,c=0;c<a.length;c++){b=a.charAt(c).charCodeAt(0);h=ja[b>>8];b=h<T?h:ka[h-T][b&255];if(b==aa||b==ea)return"rtl";if(b==ha)return"ltr";if(b==ba)break}return""}function B(a){var a=a.split(""),b=[],h=a.length,d=k?Ma:Na,e=null,g=null,e=null,g=0,f=null,f=null,l=-1,m=f=null,
p=[],s=[];i=k;r=q=c=!1;for(f=0;f<h;f++)p[f]=n(a[f]);for(m=0;m<h;m++){e=g;s[m]=g=I(a,p,s,m);g=d[e][g];f=g&240;g&=15;b[m]=e=d[g][Q];if(0<f){if(16==f)for(f=l;f<m;f++)b[f]=1;l=-1}if(f=d[g][K])-1==l&&(l=m);else if(-1<l){for(f=l;f<m;f++)b[f]=e;l=-1}p[m]==ba&&(b[m]=0);i|=e}if(r)for(f=0;f<h;f++)if(p[f]==la){b[f]=k;for(d=f-1;0<=d;d--)if(p[d]==ma)b[d]=k;else break}if(!(0==i||o.substr(0,1)==o.substr(1,2)))for(h=0;h<a.length;h++)if(1==b[h]){p=a;d=h;b:{l=a[h];m=void 0;s=0;for(e=Z.length-1;s<=e;)if(m=Math.floor((s+
e)/2),l<Z[m][0])e=m-1;else if(l>Z[m][0])s=m+1;else{l=Z[m][1];break b}}p[d]=l}C(2,a,b);C(1,a,b);return a.join("")}function n(a){var a=a.charCodeAt(0),b=ja[a>>8];return b<T?b:ka[b-T][a&255]}function y(a){a=a.split("");a.reverse();return a.join("")}function w(a){for(var b=0;b<pa.length;b++)if(a>=pa[b]&&a<=Oa[b])return!0;return!1}function h(a,b,h,c){for(;b*h<c&&W(a[b]);)b+=h;return b*h<c&&w(a[b])?!0:!1}function C(a,b,h){if(!(i<a))if(1==a&&k==O&&!q)b.reverse();else for(var c=b.length,d=0,e,g,f;d<c;){if(h[d]>=
a){for(e=d+1;e<c&&h[e]>=a;)e++;for(g=e-1;d<g;d++,g--)f=b[d],b[d]=b[g],b[g]=f;d=e}d++}}function I(b,h,d,e){var g=h[e],i,f;switch(g){case ha:case aa:c=!1;case Y:case fa:return g;case U:return c?fa:U;case ea:return c=!0,aa;case ma:return Y;case qa:if(1>e||e+1>=h.length||(i=d[e-1])!=U&&i!=fa||(f=h[e+1])!=U&&f!=fa)return Y;c&&(f=fa);return f==i?f:Y;case ra:return i=0<e?d[e-1]:ba,i==U&&e+1<h.length&&h[e+1]==U?U:Y;case na:if(0<e&&d[e-1]==U)return U;if(c)return Y;i=e+1;for(g=h.length;i<g&&h[i]==na;)i++;return i<
g&&h[i]==U?U:Y;case oa:if("VLTR"==a){g=h.length;for(i=e+1;i<g&&h[i]==oa;)i++;if(i<g&&(b=b[e],i=h[i],(1425<=b&&2303>=b||64286==b)&&(i==aa||i==ea)))return aa}return 1>e||h[e-1]==ba?Y:d[e-1];case ba:return lastArabic=!1,q=!0,k;case la:return r=!0,Y;case sa:case ta:case ua:case va:case wa:lastArabic=!1;case xa:return Y}}function J(a,b){for(var h=0;h<D.length;h++)if(a==D[h])return b[h];return a}function W(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function da(a){if("L"==a)return"LTR";if("R"==a)return"RTL";
if("C"==a)return"CLR";if("D"==a)return"CRL"}function P(a,b){for(var h=0;h<$.length;h++)if(a==$[h])return b[h];return a}f.getObject("string",!0,dojox);t("dojox.string.BidiEngine",null,{bidiTransform:function(a,b,c){if(!a)return"";if(!b&&!c)return a;var d=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/;if(!d.test(b)||!d.test(c))throw Error("dojox.string.BidiEngine: the bidi layout string is wrong!");if(b==c)return a;var d=da(b.charAt(1)),e=da(c.charAt(1)),g="I"==b.charAt(0)?"L":b.charAt(0),i="I"==c.charAt(0)?
"L":c.charAt(0),f=g+d,k=i+e,n=b.charAt(2)+c.charAt(2);f&&(m=f);k&&(u=k);n&&(v=n);d=l(a,g+d,i+e,b.charAt(2)+c.charAt(2));a=!1;if("R"==c.charAt(1))a=!0;else if("C"==c.charAt(1)||"D"==c.charAt(1))a=this.checkContextual(d);if(b.charAt(3)==c.charAt(3))return d;if("S"==c.charAt(3)){c=d;b=!0;if(0==c.length)b=void 0;else{void 0==a&&(a=!0);void 0==b&&(b=!0);c=new String(c);c=c.split("");i=0;d=1;e=c.length;a||(i=c.length-1,d=-1,e=1);f=0;a=[];for(g=0;i*d<e;i+=d)if(w(c[i])||W(c[i])){if(k="\u0644"==c[i])b:{for(var n=
c,o=i+d,p=d,q=e;o*p<q&&W(n[o]);)o+=p;k=" ";if(o*p<q){k=n[o];for(n=0;n<$.length;n++)if($[n]==k){k=!0;break b}}k=!1}if(k){c[i]=0==f?P(c[i+d],La):P(c[i+d],X);i+=d;f=c;k=i;n=d;for(o=e;k*n<o&&W(f[k]);)k+=n;k*n<o&&(f[k]=" ");b&&(a[g]=i,g++);f=0}else{k=c[i];n=c;o=i;if(1==f)if(h(c,i+d,d,e))b:{p=c[i];for(q=0;q<D.length;q++)if(p==D[q]){p=L[q];break b}}else p=J(c[i],G);else p=!0==h(c,i+d,d,e)?J(c[i],E):J(c[i],F);n[o]=p;W(k)||(f=1);b:{for(n=0;n<S.length;n++)if(S[n]==k){k=!0;break b}k=!1}!0==k&&(f=0)}}else f=
0;d="";for(idx=0;idx<c.length;idx++){if(e=b){b:{for(e=0;e<a.length;e++)if(a[e]==idx)break b;e=-1}e=-1<e}e||(d+=c[idx])}b=d}return b}if("N"==c.charAt(3)){b=a;g=!0;if(0==d.length)b=void 0;else{void 0==g&&(g=!0);void 0==b&&(b=!0);d=new String(d);c="";e=[];a="";if(g)for(e=0;e<d.length;e++){if(" "==d.charAt(e))if(b){if(0<e&&"\ufef5"<=d.charAt(e-1)&&"\ufefc">=d.charAt(e-1))continue}else if(e+1<d.length&&"\ufef5"<=d.charAt(e+1)&&"\ufefc">=d.charAt(e+1))continue;a+=d.charAt(e)}else a=new String(d);e=a.split("");
for(d=0;d<a.length;d++)"\ufe70"<=e[d]&&"\ufeff">e[d]?(g=a.charCodeAt(d),"\ufef5"<=e[d]&&"\ufefc">=e[d]?b?(c+="\u0644",c+=$[parseInt((g-65269)/2)]):(c+=$[parseInt((g-65269)/2)],c+="\u0644"):c+=ga[g-65136]):c+=e[d];b=c}return b}},checkContextual:function(a){a=b(a);"ltr"!=a&&"rtl"!=a&&(a=document.dir.toLowerCase(),"ltr"!=a&&"rtl"!=a&&(a="ltr"));return a},hasBidiChar:function(a){for(var b=null,h=b=null,c=0;c<a.length;c++){b=a.charAt(c).charCodeAt(0);h=ja[b>>8];b=h<T?h:ka[h-T][b&255];if(b==aa||b==ea)return!0;
if(b==ba)break}return!1}});k=0;m="LLTR";v="YN";a="LLTR";o="YN";i=0;c=!1;r=q=u=void 0;var Q=5,K=6,R=0,O=1,Z=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],
["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],$=["\u0622","\u0623","\u0625","\u0627"],La=["\ufef5","\ufef7","\ufef9","\ufefb"],X=["\ufef6","\ufef8","\ufefa","\ufefc"],D="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0621".split(""),F="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),
G="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),L="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80".split(""),
E="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),S="\u0621\u0627\u062f\u0630\u0631\u0632\u0648\u0622\u0629\u0626\u0624\u0625\u0675\u0623".split(""),ga="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
pa=["\u0621","\u0641"],Oa=["\u063a","\u064a"],Na=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Ma=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ha=0,aa=1,U=2,fa=3,Y=4,ba=5,la=6,ea=7,ma=8,qa=9,ra=10,na=11,oa=12,sa=13,ta=14,wa=15,ua=16,va=17,xa=18,T=100,ya=T+0,za=T+1,Aa=T+2,Ba=T+3,Ca=T+4,Da=T+5,Ea=T+6,Fa=T+7,g=ha,s=aa,A=U,H=fa,d=Y,ca=ba,ia=la,e=ea,M=ma,N=qa,V=ra,z=na,p=oa,Ga=sa,Ha=ta,Ia=wa,Ja=ua,Ka=va,x=xa,ja=[ya,g,g,g,g,za,
Aa,Ba,s,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,Ca,d,d,d,g,d,g,d,g,d,d,d,g,g,d,d,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,d,d,g,g,d,d,g,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,g,g,g,Da,e,e,Ea,
Fa];delete ya;delete za;delete Aa;delete Ba;delete Ca;delete Da;delete Ea;delete Fa;var ka=[[x,x,x,x,x,x,x,x,x,ia,ca,ia,M,ca,x,x,x,x,x,x,x,x,x,x,x,x,x,x,ca,ca,ca,ia,M,d,d,z,z,z,d,d,d,d,d,V,N,V,N,N,A,A,A,A,A,A,A,A,A,A,N,d,d,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,d,x,x,x,x,x,x,ca,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,N,d,z,z,z,z,d,d,d,d,g,d,d,x,d,d,z,z,A,A,d,g,d,d,d,A,g,d,d,d,d,d,g,g,g,g,g,g,g,g,
g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,g,g,g,g,g,g,g,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,g,d,d,d,d,d,d,d,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,s,p,s,p,
p,s,p,p,s,p,d,d,d,d,d,d,d,d,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,d,d,d,d,d,s,s,s,s,s,d,d,d,d,d,d,d,d,d,d,d],[H,H,H,H,d,d,d,d,e,z,z,e,N,e,d,d,p,p,p,p,p,p,p,p,p,p,p,e,d,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,H,H,H,H,H,H,H,H,H,H,z,H,H,e,e,e,p,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,
e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,p,p,p,p,p,p,p,H,d,p,p,p,p,p,p,e,e,p,p,d,p,p,p,p,e,e,A,A,A,A,A,A,A,A,A,A,e,e,e,e,e,e],[e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,e,e,p,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,d,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,p,p,p,p,p,p,p,p,p,p,p,e,d,d,d,d,
d,d,d,d,d,d,d,d,d,d,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,p,p,p,p,p,p,p,p,p,s,s,d,d,d,d,s,d,d,d,d,d],[M,M,M,M,M,M,M,M,M,M,M,x,x,x,g,s,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,M,ca,Ga,Ha,Ia,Ja,Ka,N,z,z,z,z,z,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,N,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,M,x,x,x,x,x,d,d,d,d,d,x,x,x,x,x,x,A,g,d,d,A,A,A,A,A,A,V,V,d,d,d,g,A,A,A,A,A,A,A,A,A,A,V,V,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,z,z,z,z,z,z,z,z,z,z,z,z,z,
z,z,z,z,z,z,z,z,z,z,z,z,z,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d],[g,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,d,g,g,g,g,g,d,d,d,d,d,s,p,s,s,s,s,s,s,s,s,s,s,V,s,s,s,s,s,s,s,s,s,s,s,s,s,d,s,s,s,s,s,d,s,d,s,s,d,s,s,d,s,s,s,s,s,s,s,s,s,s,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,
e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,p,p,p,p,p,p,p,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,N,d,N,d,d,N,d,d,d,d,d,d,d,d,d,z,d,d,V,V,d,d,d,d,d,z,z,d,d,d,d,d,e,e,e,e,e,d,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,
e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,d,x],[d,d,d,z,z,z,d,d,d,d,d,V,N,V,N,N,A,A,A,A,A,A,A,A,A,A,N,d,d,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,d,d,d,d,d,d,d,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,
g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,d,d,d,g,g,g,g,g,g,d,d,g,g,g,g,g,g,d,d,g,g,g,g,g,g,d,d,g,g,g,d,d,d,z,z,d,d,d,z,z,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d]];delete g;delete s;delete A;delete H;delete d;delete ca;delete ia;delete e;delete M;delete N;delete V;delete z;delete p;delete Ga;delete Ha;delete Ia;delete Ja;delete Ka;delete x;return dojox.string.BidiEngine})},"dojox/gfx/path":function(){define("dojox/gfx/path",["./_base","dojo/_base/lang","dojo/_base/declare",
"./matrix","./shape"],function(f,t,m,u,v){v=m("dojox.gfx.path.Path",v.Shape,{constructor:function(a){this.shape=t.clone(f.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=a;this.segmented=!1},setAbsoluteMode:function(a){this._confirmSegmented();this.absolute="string"==typeof a?"absolute"==a:a;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?
{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var a=this.bbox,f=this._getRealMatrix();this.bbox=null;for(var k=0,i=this.segments.length;k<i;++k)this._updateWithSegment(this.segments[k],f);f=this.bbox;this.bbox=a;return this.tbbox=f?[{x:f.l,y:f.t},{x:f.r,y:f.t},{x:f.r,y:f.b},{x:f.l,y:f.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?
this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(a,f,k){k&&(f=u.multiplyPoint(k,a,f),a=f.x,f=f.y);if(this.bbox&&"l"in this.bbox){if(this.bbox.l>a&&(this.bbox.l=a),this.bbox.r<a&&(this.bbox.r=a),this.bbox.t>f&&(this.bbox.t=f),this.bbox.b<f)this.bbox.b=f}else this.bbox={l:a,b:f,r:a,t:f}},_updateWithSegment:function(a,m){var k=a.args,i=k.length,c;switch(a.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(c=0;c<i;c+=2)this._updateBBox(k[c],
k[c+1],m);this.last.x=k[i-2];this.last.y=k[i-1];this.absolute=!0;break;case "H":for(c=0;c<i;++c)this._updateBBox(k[c],this.last.y,m);this.last.x=k[i-1];this.absolute=!0;break;case "V":for(c=0;c<i;++c)this._updateBBox(this.last.x,k[c],m);this.last.y=k[i-1];this.absolute=!0;break;case "m":c=0;"x"in this.last||(this._updateBBox(this.last.x=k[0],this.last.y=k[1],m),c=2);for(;c<i;c+=2)this._updateBBox(this.last.x+=k[c],this.last.y+=k[c+1],m);this.absolute=!1;break;case "l":case "t":for(c=0;c<i;c+=2)this._updateBBox(this.last.x+=
k[c],this.last.y+=k[c+1],m);this.absolute=!1;break;case "h":for(c=0;c<i;++c)this._updateBBox(this.last.x+=k[c],this.last.y,m);this.absolute=!1;break;case "v":for(c=0;c<i;++c)this._updateBBox(this.last.x,this.last.y+=k[c],m);this.absolute=!1;break;case "c":for(c=0;c<i;c+=6)this._updateBBox(this.last.x+k[c],this.last.y+k[c+1],m),this._updateBBox(this.last.x+k[c+2],this.last.y+k[c+3],m),this._updateBBox(this.last.x+=k[c+4],this.last.y+=k[c+5],m);this.absolute=!1;break;case "s":case "q":for(c=0;c<i;c+=
4)this._updateBBox(this.last.x+k[c],this.last.y+k[c+1],m),this._updateBBox(this.last.x+=k[c+2],this.last.y+=k[c+3],m);this.absolute=!1;break;case "A":for(c=0;c<i;c+=7)this._updateBBox(k[c+5],k[c+6],m);this.last.x=k[i-2];this.last.y=k[i-1];this.absolute=!0;break;case "a":for(c=0;c<i;c+=7)this._updateBBox(this.last.x+=k[c+5],this.last.y+=k[c+6],m);this.absolute=!1}var q=[a.action];for(c=0;c<i;++c)q.push(f.formatNumber(k[c],!0));"string"==typeof this.shape.path?this.shape.path+=q.join(""):Array.prototype.push.apply(this.shape.path,
q)},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(a,f){this.tbbox=null;var k=this._validSegments[a.toLowerCase()];"number"==typeof k&&(k?f.length>=k&&(k={action:a,args:f.slice(0,f.length-f.length%k)},this.segments.push(k),this._updateWithSegment(k)):(k={action:a,args:[]},this.segments.push(k),this._updateWithSegment(k)))},_collectArgs:function(a,f){for(var k=0;k<f.length;++k){var i=f[k];"boolean"==typeof i?a.push(i?1:0):"number"==typeof i?a.push(i):i instanceof Array?
this._collectArgs(a,i):"x"in i&&"y"in i&&a.push(i.x,i.y)}},moveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"M":"m",a);return this},lineTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"L":"l",a);return this},hLineTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"H":"h",a);return this},vLineTo:function(){this._confirmSegmented();
var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"V":"v",a);return this},curveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"C":"c",a);return this},smoothCurveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"S":"s",a);return this},qCurveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"Q":
"q",a);return this},qSmoothCurveTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"T":"t",a);return this},arcTo:function(){this._confirmSegmented();var a=[];this._collectArgs(a,arguments);this._pushSegment(this.absolute?"A":"a",a);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var a=this.shape.path;this.shape.path=[];this._setPath(a);this.shape.path=
this.shape.path.join("");this.segmented=!0}},_setPath:function(a){a=t.isArray(a)?a:a.match(f.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(a){for(var m="",k=[],i=a.length,c=0;c<i;++c){var q=a[c],r=parseFloat(q);isNaN(r)?(m&&this._pushSegment(m,k),k=[],m=q):k.push(r)}this._pushSegment(m,k)}},setShape:function(a){this.inherited(arguments,["string"==typeof a?{path:a}:a]);this.segmented=!1;this.segments=[];f.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*
Math.PI});m=m("dojox.gfx.path.TextPath",v,{constructor:function(){"text"in this||(this.text=t.clone(f.defaultTextPath));"fontStyle"in this||(this.fontStyle=t.clone(f.defaultFont))},getText:function(){return this.text},setText:function(a){this.text=f.makeParameters(this.text,"string"==typeof a?{text:a}:a);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(a){this.fontStyle="string"==typeof a?f.splitFontString(a):f.makeParameters(f.defaultFont,a);this._setFont();
return this}});return f.path={Path:v,TextPath:m}})},"dojox/gfx/svg":function(){define("dojox/gfx/svg","dojo/_base/lang dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(f,t,m,u,v,a,o,k,i,c,q){function r(a,b){return t.doc.createElementNS?t.doc.createElementNS(a,b):t.doc.createElement(b)}function l(a){return b.useSvgWeb?t.doc.createTextNode(a,true):t.doc.createTextNode(a)}var b=i.svg={};b.useSvgWeb=
typeof window.svgweb!="undefined";var B=navigator.userAgent.toLowerCase(),n=B.search("iphone")>-1||B.search("ipad")>-1||B.search("ipod")>-1;b.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};b.getRef=function(a){return!a||a=="none"?null:a.match(/^url\(#.+\)$/)?m.byId(a.slice(5,-1)):a.match(/^#dojoUnique\d+$/)?m.byId(a.slice(1)):null};b.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,
3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var y=0;b.Shape=u("dojox.gfx.svg.Shape",c.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var a=this.rawNode.getAttribute("fill");(a=b.getRef(a))&&a.parentNode.removeChild(a)}if(this.clip)if(a=this.rawNode.getAttribute("clip-path"))(a=m.byId(a.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);this.rawNode=null;c.Shape.prototype.destroy.apply(this,arguments)},setFill:function(a){if(!a){this.fillStyle=
null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this}var b,c=function(a){this.setAttribute(a,b[a].toFixed(8))};if(typeof a=="object"&&"type"in a){switch(a.type){case "linear":b=i.makeParameters(i.defaultLinearGradient,a);a=this._setFillObject(b,"linearGradient");v.forEach(["x1","y1","x2","y2"],c,a);break;case "radial":b=i.makeParameters(i.defaultRadialGradient,a);a=this._setFillObject(b,"radialGradient");v.forEach(["cx","cy","r"],c,a);break;case "pattern":b=
i.makeParameters(i.defaultPattern,a);a=this._setFillObject(b,"pattern");v.forEach(["x","y","width","height"],c,a)}this.fillStyle=b;return this}this.fillStyle=b=i.normalizeColor(a);this.rawNode.setAttribute("fill",b.toCss());this.rawNode.setAttribute("fill-opacity",b.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(a){var c=this.rawNode;if(!a){this.strokeStyle=null;c.setAttribute("stroke","none");c.setAttribute("stroke-opacity",0);return this}if(typeof a=="string"||
f.isArray(a)||a instanceof k)a={color:a};a=this.strokeStyle=i.makeParameters(i.defaultStroke,a);a.color=i.normalizeColor(a.color);if(a){c.setAttribute("stroke",a.color.toCss());c.setAttribute("stroke-opacity",a.color.a);c.setAttribute("stroke-width",a.width);c.setAttribute("stroke-linecap",a.cap);if(typeof a.join=="number"){c.setAttribute("stroke-linejoin","miter");c.setAttribute("stroke-miterlimit",a.join)}else c.setAttribute("stroke-linejoin",a.join);var l=a.style.toLowerCase();l in b.dasharray&&
(l=b.dasharray[l]);if(l instanceof Array){for(var l=f._toArray(l),m=0;m<l.length;++m)l[m]=l[m]*a.width;if(a.cap!="butt"){for(m=0;m<l.length;m=m+2){l[m]=l[m]-a.width;l[m]<1&&(l[m]=1)}for(m=1;m<l.length;m=m+2)l[m]=l[m]+a.width}l=l.join(",")}c.setAttribute("stroke-dasharray",l);c.setAttribute("dojoGfxStrokeStyle",a.style)}return this},_getParentSurface:function(){for(var a=this.parent;a&&!(a instanceof i.Surface);a=a.parent);return a},_setFillObject:function(a,c){var f=b.xmlns.svg;this.fillStyle=a;var k=
this._getParentSurface().defNode,l=this.rawNode.getAttribute("fill");if(l=b.getRef(l))if(l.tagName.toLowerCase()!=c.toLowerCase()){var m=l.id;l.parentNode.removeChild(l);l=r(f,c);l.setAttribute("id",m);k.appendChild(l)}else for(;l.childNodes.length;)l.removeChild(l.lastChild);else{l=r(f,c);l.setAttribute("id",i._base._getUniqueId());k.appendChild(l)}if(c=="pattern"){l.setAttribute("patternUnits","userSpaceOnUse");f=r(f,"image");f.setAttribute("x",0);f.setAttribute("y",0);f.setAttribute("width",a.width.toFixed(8));
f.setAttribute("height",a.height.toFixed(8));f.setAttributeNS?f.setAttributeNS(b.xmlns.xlink,"xlink:href",a.src):f.setAttribute("xlink:href",a.src);l.appendChild(f)}else{l.setAttribute("gradientUnits","userSpaceOnUse");for(k=0;k<a.colors.length;++k){var m=a.colors[k],n=r(f,"stop"),o=m.color=i.normalizeColor(m.color);n.setAttribute("offset",m.offset.toFixed(8));n.setAttribute("stop-color",o.toCss());n.setAttribute("stop-opacity",o.a);l.appendChild(n)}}this.rawNode.setAttribute("fill","url(#"+l.getAttribute("id")+
")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return l},_applyTransform:function(){if(this.matrix){var a=this.matrix;this.rawNode.setAttribute("transform","matrix("+a.xx.toFixed(8)+","+a.yx.toFixed(8)+","+a.xy.toFixed(8)+","+a.yy.toFixed(8)+","+a.dx.toFixed(8)+","+a.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(a){a=this.rawNode=a;this.shape.type!="image"&&a.setAttribute("fill","none");a.setAttribute("fill-opacity",
0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this.getUID()},setShape:function(a){this.shape=i.makeParameters(this.shape,a);for(var b in this.shape)b!="type"&&this.rawNode.setAttribute(b,this.shape[b]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},
_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this},setClip:function(a){this.inherited(arguments);var c=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!c)return this;if(c==="polyline"){a=f.clone(a);a.points=a.points.join(",")}var i,k=o.get(this.rawNode,"clip-path");if(k)(i=m.byId(k.match(/gfx_clip[\d]+/)[0]))&&i.removeChild(i.childNodes[0]);if(a){if(i){c=r(b.xmlns.svg,c);i.appendChild(c)}else{k=
"gfx_clip"+ ++y;this.rawNode.setAttribute("clip-path","url(#"+k+")");i=r(b.xmlns.svg,"clipPath");c=r(b.xmlns.svg,c);i.appendChild(c);this.rawNode.parentNode.appendChild(i);o.set(i,"id",k)}o.set(c,a)}else{this.rawNode.removeAttribute("clip-path");i&&i.parentNode.removeChild(i)}return this},_removeClipNode:function(){var a,b=o.get(this.rawNode,"clip-path");if(b)(a=m.byId(b.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);return a}});b.Group=u("dojox.gfx.svg.Group",b.Shape,{constructor:function(){c.Container._init.call(this)},
setRawNode:function(a){this.rawNode=a;this.rawNode.__gfxObject__=this.getUID()},destroy:function(){this.clear(true);b.Shape.prototype.destroy.apply(this,arguments)}});b.Group.nodeType="g";b.Rect=u("dojox.gfx.svg.Rect",[b.Shape,c.Rect],{setShape:function(a){this.shape=i.makeParameters(this.shape,a);this.bbox=null;for(var b in this.shape)b!="type"&&b!="r"&&this.rawNode.setAttribute(b,this.shape[b]);if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r)}return this}});
b.Rect.nodeType="rect";b.Ellipse=u("dojox.gfx.svg.Ellipse",[b.Shape,c.Ellipse],{});b.Ellipse.nodeType="ellipse";b.Circle=u("dojox.gfx.svg.Circle",[b.Shape,c.Circle],{});b.Circle.nodeType="circle";b.Line=u("dojox.gfx.svg.Line",[b.Shape,c.Line],{});b.Line.nodeType="line";b.Polyline=u("dojox.gfx.svg.Polyline",[b.Shape,c.Polyline],{setShape:function(a,b){if(a&&a instanceof Array){this.shape=i.makeParameters(this.shape,{points:a});b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])}else this.shape=
i.makeParameters(this.shape,a);this.bbox=null;this._normalizePoints();for(var c=[],f=this.shape.points,k=0;k<f.length;++k)c.push(f[k].x.toFixed(8),f[k].y.toFixed(8));this.rawNode.setAttribute("points",c.join(" "));return this}});b.Polyline.nodeType="polyline";b.Image=u("dojox.gfx.svg.Image",[b.Shape,c.Image],{setShape:function(a){this.shape=i.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,c;for(c in this.shape)c!="type"&&c!="src"&&a.setAttribute(c,this.shape[c]);a.setAttribute("preserveAspectRatio",
"none");a.setAttributeNS?a.setAttributeNS(b.xmlns.xlink,"xlink:href",this.shape.src):a.setAttribute("xlink:href",this.shape.src);a.__gfxObject__=this.getUID();return this}});b.Image.nodeType="image";b.Text=u("dojox.gfx.svg.Text",[b.Shape,c.Text],{setShape:function(a){this.shape=i.makeParameters(this.shape,a);this.bbox=null;var a=this.rawNode,b=this.shape;a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("text-anchor",b.align);a.setAttribute("text-decoration",b.decoration);a.setAttribute("rotate",
b.rotated?90:0);a.setAttribute("kerning",b.kerning?"auto":0);a.setAttribute("text-rendering","optimizeLegibility");a.firstChild?a.firstChild.nodeValue=b.text:a.appendChild(l(b.text));return this},getTextWidth:function(){var a=this.rawNode,b=a.parentNode,a=a.cloneNode(true);a.style.visibility="hidden";var c=0,i=a.firstChild.nodeValue;b.appendChild(a);if(i!="")for(;!c;)c=a.getBBox?parseInt(a.getBBox().width):68;b.removeChild(a);return c}});b.Text.nodeType="text";b.Path=u("dojox.gfx.svg.Path",[b.Shape,
q.Path],{_updateWithSegment:function(a){this.inherited(arguments);typeof this.shape.path=="string"&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(a){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});b.Path.nodeType="path";b.TextPath=u("dojox.gfx.svg.TextPath",[b.Shape,q.TextPath],{_updateWithSegment:function(a){this.inherited(arguments);this._setTextPath()},setShape:function(a){this.inherited(arguments);
this._setTextPath();return this},_setTextPath:function(){if(typeof this.shape.path=="string"){var a=this.rawNode;if(!a.firstChild){var c=r(b.xmlns.svg,"textPath"),f=l("");c.appendChild(f);a.appendChild(c)}c=(c=a.firstChild.getAttributeNS(b.xmlns.xlink,"href"))&&b.getRef(c);if(!c)if(f=this._getParentSurface()){var f=f.defNode,c=r(b.xmlns.svg,"path"),k=i._base._getUniqueId();c.setAttribute("id",k);f.appendChild(c);a.firstChild.setAttributeNS?a.firstChild.setAttributeNS(b.xmlns.xlink,"xlink:href","#"+
k):a.firstChild.setAttribute("xlink:href","#"+k)}c&&c.setAttribute("d",this.shape.path)}},_setText:function(){var a=this.rawNode;if(!a.firstChild){var c=r(b.xmlns.svg,"textPath"),i=l("");c.appendChild(i);a.appendChild(c)}a=a.firstChild;c=this.text;a.setAttribute("alignment-baseline","middle");switch(c.align){case "middle":a.setAttribute("text-anchor","middle");a.setAttribute("startOffset","50%");break;case "end":a.setAttribute("text-anchor","end");a.setAttribute("startOffset","100%");break;default:a.setAttribute("text-anchor",
"start");a.setAttribute("startOffset","0%")}a.setAttribute("baseline-shift","0.5ex");a.setAttribute("text-decoration",c.decoration);a.setAttribute("rotate",c.rotated?90:0);a.setAttribute("kerning",c.kerning?"auto":0);a.firstChild.data=c.text}});b.TextPath.nodeType="text";b.Surface=u("dojox.gfx.svg.Surface",c.Surface,{constructor:function(){c.Container._init.call(this)},destroy:function(){c.Container.clear.call(this,true);this.defNode=null;this.inherited(arguments)},setDimensions:function(a,b){if(!this.rawNode)return this;
this.rawNode.setAttribute("width",a);this.rawNode.setAttribute("height",b);return this},getDimensions:function(){return this.rawNode?{width:i.normalizedLength(this.rawNode.getAttribute("width")),height:i.normalizedLength(this.rawNode.getAttribute("height"))}:null}});b.createSurface=function(a,c,i){var f=new b.Surface;f.rawNode=r(b.xmlns.svg,"svg");f.rawNode.setAttribute("overflow","hidden");c&&f.rawNode.setAttribute("width",c);i&&f.rawNode.setAttribute("height",i);c=r(b.xmlns.svg,"defs");f.rawNode.appendChild(c);
f.defNode=c;f._parent=m.byId(a);f._parent.appendChild(f.rawNode);return f};var u={_setFont:function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)}},w=c.Container,q={openBatch:function(){var a;a=b.useSvgWeb?t.doc.createDocumentFragment(true):t.doc.createDocumentFragment();this.fragment=
a},closeBatch:function(){if(this.fragment){this.rawNode.appendChild(this.fragment);delete this.fragment}},add:function(a){if(this!=a.getParent()){this.fragment?this.fragment.appendChild(a.rawNode):this.rawNode.appendChild(a.rawNode);w.add.apply(this,arguments);a.setClip(a.clip)}return this},remove:function(a,b){if(this==a.getParent()){this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode);this.fragment&&this.fragment==a.rawNode.parentNode&&this.fragment.removeChild(a.rawNode);a._removeClipNode();
w.remove.apply(this,arguments)}return this},clear:function(){for(var a=this.rawNode;a.lastChild;)a.removeChild(a.lastChild);var b=this.defNode;if(b){for(;b.lastChild;)b.removeChild(b.lastChild);a.appendChild(b)}return w.clear.apply(this,arguments)},getBoundingBox:w.getBoundingBox,_moveChildToFront:w._moveChildToFront,_moveChildToBack:w._moveChildToBack},B={createObject:function(a,c){if(!this.rawNode)return null;var i=new a,f=r(b.xmlns.svg,a.nodeType);i.setRawNode(f);i.setShape(c);this.add(i);return i}};
f.extend(b.Text,u);f.extend(b.TextPath,u);f.extend(b.Group,q);f.extend(b.Group,c.Creator);f.extend(b.Group,B);f.extend(b.Surface,q);f.extend(b.Surface,c.Creator);f.extend(b.Surface,B);b.fixTarget=function(a){if(!a.gfxTarget)a.gfxTarget=n&&a.target.wholeText?c.byId(a.target.parentElement.__gfxObject__):c.byId(a.target.__gfxObject__);return true};if(b.useSvgWeb){b.createSurface=function(c,f,k){var l=new b.Surface;if(!f||!k)var n=a.position(c),f=f||n.w,k=k||n.h;var c=m.byId(c),n=c.id?c.id+"_svgweb":
i._base._getUniqueId(),o=r(b.xmlns.svg,"svg");o.id=n;o.setAttribute("width",f);o.setAttribute("height",k);svgweb.appendChild(o,c);o.addEventListener("SVGLoad",function(){l.rawNode=this;l.isLoaded=true;var a=r(b.xmlns.svg,"defs");l.rawNode.appendChild(a);l.defNode=a;if(l.onLoad)l.onLoad(l)},false);l.isLoaded=false;return l};b.Surface.extend({destroy:function(){var a=this.rawNode;svgweb.removeChild(a,a.parentNode)}});u={connect:function(a,b,c){a.substring(0,2)==="on"&&(a=a.substring(2));c=arguments.length==
2?b:f.hitch(b,c);this.getEventSource().addEventListener(a,c,false);return[this,a,c]},disconnect:function(a){this.getEventSource().removeEventListener(a[1],a[2],false);delete a[0]}};f.extend(b.Shape,u);f.extend(b.Surface,u)}return b})},"dojox/gfx/Mover":function(){define("dojox/gfx/Mover","dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/on dojo/has dojo/_base/event".split(" "),function(f,t,m,u,v,a){return m("dojox.gfx.Mover",null,{constructor:function(m,k,i){this.shape=m;this.lastX=v("touch")?
(k.changedTouches?k.changedTouches[0]:k).clientX:k.clientX;this.lastY=v("touch")?(k.changedTouches?k.changedTouches[0]:k).clientY:k.clientY;m=this.host=i;k=document;i=u(k,v("touch")?"touchmove":"mousemove",f.hitch(this,"onFirstMove"));this.events=[u(k,v("touch")?"touchmove":"mousemove",f.hitch(this,"onMouseMove")),u(k,v("touch")?"touchend":"mouseup",f.hitch(this,"destroy")),u(k,"dragstart",f.hitch(a,"stop")),u(k,"selectstart",f.hitch(a,"stop")),i];if(m&&m.onMoveStart)m.onMoveStart(this)},onMouseMove:function(f){var k=
v("touch")?(f.changedTouches?f.changedTouches[0]:f).clientX:f.clientX,i=v("touch")?(f.changedTouches?f.changedTouches[0]:f).clientY:f.clientY;this.host.onMove(this,{dx:k-this.lastX,dy:i-this.lastY});this.lastX=k;this.lastY=i;a.stop(f)},onFirstMove:function(){this.host.onFirstMove(this);this.events.pop().remove()},destroy:function(){t.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.shape=null}})})},"dojox/gfx/decompose":function(){define("dojox/gfx/decompose",
["./_base","dojo/_base/lang","./matrix"],function(f,t,m){function u(a,c){return Math.abs(a-c)<=1.0E-6*(Math.abs(a)+Math.abs(c))}function v(a,c,f,k){if(isFinite(a)){if(!isFinite(f))return a}else return f;c=Math.abs(c);k=Math.abs(k);return(c*a+k*f)/(c+k)}function a(a){var a=m.normalize(a),c=-a.xx-a.yy,f=a.xx*a.yy-a.xy*a.yx,k=Math.sqrt(c*c-4*f),c=-(c+(0>c?-k:k))/2,f=f/c,k=a.xy/(c-a.xx),l=1,b=a.xy/(f-a.xx),o=1;u(c,f)&&(k=1,b=l=0,o=1);isFinite(k)||(k=1,l=(c-a.xx)/a.xy,isFinite(l)||(k=(c-a.yy)/a.yx,l=1,
isFinite(k)||(k=1,l=a.yx/(c-a.yy))));isFinite(b)||(b=1,o=(f-a.xx)/a.xy,isFinite(o)||(b=(f-a.yy)/a.yx,o=1,isFinite(b)||(b=1,o=a.yx/(f-a.yy))));var a=Math.sqrt(k*k+l*l),n=Math.sqrt(b*b+o*o);if(!isFinite(k/=a))k=0;if(!isFinite(l/=a))l=0;if(!isFinite(b/=n))b=0;if(!isFinite(o/=n))o=0;return{value1:c,value2:f,vector1:{x:k,y:l},vector2:{x:b,y:o}}}function o(a,c){var f=0>a.xx*a.yy||0<a.xy*a.yx?-1:1,k=c.angle1=(Math.atan2(a.yx,a.yy)+Math.atan2(-f*a.xy,f*a.xx))/2,f=Math.cos(k),k=Math.sin(k);c.sx=v(a.xx/f,f,
-a.xy/k,k);c.sy=v(a.yy/f,f,a.yx/k,k);return c}function k(a,c){var f=0>a.xx*a.yy||0<a.xy*a.yx?-1:1,k=c.angle2=(Math.atan2(f*a.yx,f*a.xx)+Math.atan2(-a.xy,a.yy))/2,f=Math.cos(k),k=Math.sin(k);c.sx=v(a.xx/f,f,a.yx/k,k);c.sy=v(a.yy/f,f,-a.xy/k,k);return c}return f.decompose=function(f){var c=m.normalize(f),f={dx:c.dx,dy:c.dy,sx:1,sy:1,angle1:0,angle2:0};if(u(c.xy,0)&&u(c.yx,0))return t.mixin(f,{sx:c.xx,sy:c.yy});if(u(c.xx*c.yx,-c.xy*c.yy))return o(c,f);if(u(c.xx*c.xy,-c.yx*c.yy))return k(c,f);var q,r=
new m.Matrix2D(c);q=t.mixin(r,{dx:0,dy:0,xy:r.yx,yx:r.xy});r=a([c,q]);q=a([q,c]);r=new m.Matrix2D({xx:r.vector1.x,xy:r.vector2.x,yx:r.vector1.y,yy:r.vector2.y});q=new m.Matrix2D({xx:q.vector1.x,xy:q.vector1.y,yx:q.vector2.x,yy:q.vector2.y});c=new m.Matrix2D([m.invert(r),c,m.invert(q)]);o(q,f);c.xx*=f.sx;c.yy*=f.sy;k(r,f);c.xx*=f.sx;c.yy*=f.sy;return t.mixin(f,{sx:c.xx,sy:c.yy})}})}}});define("dojo/graphics-layer",[],1);